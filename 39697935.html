<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1710406854150" as="style"/><link rel="stylesheet" href="styles.css?v=1710406854150"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.fermyon.com/blog/introducing-spinkube-fermyon-platform-for-k8s">Spinkube: Running WASM in Kubernetes</a> <span class="domain">(<a href="https://www.fermyon.com">www.fermyon.com</a>)</span></div><div class="subtext"><span>ridruejo</span> | <span>31 comments</span></div><br/><div><div id="39698933" class="c"><input type="checkbox" id="c-39698933" checked=""/><div class="controls bullet"><span class="by">scubbo</span><span>|</span><a href="#39701626">next</a><span>|</span><label class="collapse" for="c-39698933">[-]</label><label class="expand" for="c-39698933">[13 more]</label></div><br/><div class="children"><div class="content">I attended a talk by these folks at KubeCon last year - really great stuff. Sadly I&#x27;m not in a position to do anything with WASM in my professional life (and I have other priorities in my personal projects), but this for me is the &quot;next big thing&quot;, more than any AI fluff - it will go unnoticed because it&#x27;s low-level and transparent, but I&#x27;d bet paycheques on it having a huge impact in the coming years. Seems like a really exciting thing to be a part of.</div><br/><div id="39699213" class="c"><input type="checkbox" id="c-39699213" checked=""/><div class="controls bullet"><span class="by">haolez</span><span>|</span><a href="#39698933">parent</a><span>|</span><a href="#39701269">next</a><span>|</span><label class="collapse" for="c-39699213">[-]</label><label class="expand" for="c-39699213">[8 more]</label></div><br/><div class="children"><div class="content">Why? It&#x27;s just an (allegedly) faster and lighter weight applications runtime on Kubernetes. For many applications, this will be less convenient than proprietary serverless stuff.<p>Ae you saying this is bigger than AIs that are so smart that they can do software development?</div><br/><div id="39700184" class="c"><input type="checkbox" id="c-39700184" checked=""/><div class="controls bullet"><span class="by">ElevenLathe</span><span>|</span><a href="#39698933">root</a><span>|</span><a href="#39699213">parent</a><span>|</span><a href="#39701457">next</a><span>|</span><label class="collapse" for="c-39700184">[-]</label><label class="expand" for="c-39700184">[1 more]</label></div><br/><div class="children"><div class="content">I can&#x27;t comment on Spinkube specifically, but I&#x27;d bet on serverside WASM-based orchestration, and WASM in general, being a big part of the next generation of IT stacks. If somebody can get the UX right, the &quot;write once, run anywhere&quot; promise of Java may finally come true.</div><br/></div></div><div id="39701457" class="c"><input type="checkbox" id="c-39701457" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#39698933">root</a><span>|</span><a href="#39699213">parent</a><span>|</span><a href="#39700184">prev</a><span>|</span><a href="#39700725">next</a><span>|</span><label class="collapse" for="c-39701457">[-]</label><label class="expand" for="c-39701457">[4 more]</label></div><br/><div class="children"><div class="content">It is basically Java and .NET application servers with YAML and extra complexity.</div><br/><div id="39701608" class="c"><input type="checkbox" id="c-39701608" checked=""/><div class="controls bullet"><span class="by">colordrops</span><span>|</span><a href="#39698933">root</a><span>|</span><a href="#39701457">parent</a><span>|</span><a href="#39701607">next</a><span>|</span><label class="collapse" for="c-39701608">[-]</label><label class="expand" for="c-39701608">[2 more]</label></div><br/><div class="children"><div class="content">Except with a different set of languages that people actually want to use, as well as runtimes preinstalles on every user-facing computer on earth.<p>Have you never had to deal with java and .net installs across various platforms? It&#x27;s a mess.</div><br/><div id="39701713" class="c"><input type="checkbox" id="c-39701713" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#39698933">root</a><span>|</span><a href="#39701608">parent</a><span>|</span><a href="#39701607">next</a><span>|</span><label class="collapse" for="c-39701713">[-]</label><label class="expand" for="c-39701713">[1 more]</label></div><br/><div class="children"><div class="content">Yes, that is my bread and butter since 2006.</div><br/></div></div></div></div><div id="39701607" class="c"><input type="checkbox" id="c-39701607" checked=""/><div class="controls bullet"><span class="by">colordrops</span><span>|</span><a href="#39698933">root</a><span>|</span><a href="#39701457">parent</a><span>|</span><a href="#39701608">prev</a><span>|</span><a href="#39700725">next</a><span>|</span><label class="collapse" for="c-39701607">[-]</label><label class="expand" for="c-39701607">[1 more]</label></div><br/><div class="children"><div class="content">Except with a different set of languages that people actually want to use, as well as runtimes preinstalled on every user-facing computer on earth.<p>Have you never had to deal with java and .net installs across various platforms? It&#x27;s a mess.</div><br/></div></div></div></div><div id="39700725" class="c"><input type="checkbox" id="c-39700725" checked=""/><div class="controls bullet"><span class="by">russell_h</span><span>|</span><a href="#39698933">root</a><span>|</span><a href="#39699213">parent</a><span>|</span><a href="#39701457">prev</a><span>|</span><a href="#39700691">next</a><span>|</span><label class="collapse" for="c-39700725">[-]</label><label class="expand" for="c-39700725">[1 more]</label></div><br/><div class="children"><div class="content">In this context WASM is more like a slower container than an application runtime. The potential advantages being:<p>* Far better isolation than a normal Linux container
* If WASM takes off, maybe architecture-independent artifact distribution
* If WASM takes off, maybe improved ability to call from one language into another<p>As a Kubernetes container runtime WASM today is probably most comparable to gVisor, with the somewhat huge caveat that it prevents you from just running normal Linux software.</div><br/></div></div><div id="39700691" class="c"><input type="checkbox" id="c-39700691" checked=""/><div class="controls bullet"><span class="by">jauntywundrkind</span><span>|</span><a href="#39698933">root</a><span>|</span><a href="#39699213">parent</a><span>|</span><a href="#39700725">prev</a><span>|</span><a href="#39701269">next</a><span>|</span><label class="collapse" for="c-39700691">[-]</label><label class="expand" for="c-39700691">[1 more]</label></div><br/><div class="children"><div class="content">The thing that interest me about wasm is having ultra lightweight small processes, which happen to tap into very large pools of already resident libraries in a safe sandboxed fashion.<p>There&#x27;s been huge huge strides in low-profile elegant serverless platforms built around v8 isolates. We can get all those wins and more - in an way more scaled out more multi-tenant way - with wasm. If it lives up to it&#x27;s aspirations, which it seems on target to do.<p>Luke Wagner&#x27;s WasmCon talk iterated through the core attributes of what makes wasm wasm and what those attributes unlock. The ability to host much much much more with a muchower profile, with extremely short-lived sandboxed runtimes, is incredibly enticing. The app-server model could finally be disrupted.<p>I have no patience for &quot;bigger than AI&quot; apples to oranges comparisons. Wasm is orthogonal, has it&#x27;s own features &amp; distinctions. The direct run off comparison shirks both of their value.</div><br/></div></div></div></div><div id="39701269" class="c"><input type="checkbox" id="c-39701269" checked=""/><div class="controls bullet"><span class="by">Traubenfuchs</span><span>|</span><a href="#39698933">parent</a><span>|</span><a href="#39699213">prev</a><span>|</span><a href="#39700591">next</a><span>|</span><label class="collapse" for="c-39701269">[-]</label><label class="expand" for="c-39701269">[2 more]</label></div><br/><div class="children"><div class="content">How would I capitalize on this?<p>Is there any specific language or framework I could learn to stay competitive?</div><br/><div id="39701535" class="c"><input type="checkbox" id="c-39701535" checked=""/><div class="controls bullet"><span class="by">dns_snek</span><span>|</span><a href="#39698933">root</a><span>|</span><a href="#39701269">parent</a><span>|</span><a href="#39700591">next</a><span>|</span><label class="collapse" for="c-39701535">[-]</label><label class="expand" for="c-39701535">[1 more]</label></div><br/><div class="children"><div class="content">Theoretically, any language that can target WASM, like Rust, Zig, or even C. I think the plan is to eventually support higher level languages with garbage collectors, but I don&#x27;t know how much progress has been made on that front.<p>I haven&#x27;t played with it enough to know which one provide the best experience at the moment, so I&#x27;d be interested to hear suggestions from others who have used it more extensively, especially with newer parts of the ecosystem like the component model, interface types, WASI, and generating ergonomic bindings to other languages (e.g. JS &lt;&gt; WASM)</div><br/></div></div></div></div><div id="39700591" class="c"><input type="checkbox" id="c-39700591" checked=""/><div class="controls bullet"><span class="by">gdsdfe</span><span>|</span><a href="#39698933">parent</a><span>|</span><a href="#39701269">prev</a><span>|</span><a href="#39699050">next</a><span>|</span><label class="collapse" for="c-39700591">[-]</label><label class="expand" for="c-39700591">[1 more]</label></div><br/><div class="children"><div class="content">I believe so too wasm is going to change the game in really profound ways</div><br/></div></div><div id="39699050" class="c"><input type="checkbox" id="c-39699050" checked=""/><div class="controls bullet"><span class="by">willbush</span><span>|</span><a href="#39698933">parent</a><span>|</span><a href="#39700591">prev</a><span>|</span><a href="#39701626">next</a><span>|</span><label class="collapse" for="c-39699050">[-]</label><label class="expand" for="c-39699050">[1 more]</label></div><br/><div class="children"><div class="content">Hey I was there too :)</div><br/></div></div></div></div><div id="39701626" class="c"><input type="checkbox" id="c-39701626" checked=""/><div class="controls bullet"><span class="by">rahen</span><span>|</span><a href="#39698933">prev</a><span>|</span><a href="#39699282">next</a><span>|</span><label class="collapse" for="c-39701626">[-]</label><label class="expand" for="c-39701626">[1 more]</label></div><br/><div class="children"><div class="content">How does this compare to krustlet.dev?</div><br/></div></div><div id="39699282" class="c"><input type="checkbox" id="c-39699282" checked=""/><div class="controls bullet"><span class="by">spankalee</span><span>|</span><a href="#39701626">prev</a><span>|</span><a href="#39701643">next</a><span>|</span><label class="collapse" for="c-39699282">[-]</label><label class="expand" for="c-39699282">[1 more]</label></div><br/><div class="children"><div class="content">This is a little hard to understand without more context. What&#x27;s a &quot;Spin WebAssembly application&quot;?<p>edit: Seems to be this: <a href="https:&#x2F;&#x2F;developer.fermyon.com&#x2F;spin&#x2F;v2&#x2F;index" rel="nofollow">https:&#x2F;&#x2F;developer.fermyon.com&#x2F;spin&#x2F;v2&#x2F;index</a></div><br/></div></div><div id="39701643" class="c"><input type="checkbox" id="c-39701643" checked=""/><div class="controls bullet"><span class="by">FooBarWidget</span><span>|</span><a href="#39699282">prev</a><span>|</span><a href="#39698440">next</a><span>|</span><label class="collapse" for="c-39701643">[-]</label><label class="expand" for="c-39701643">[2 more]</label></div><br/><div class="children"><div class="content">Why are WebAssembly binaries smaller than native?</div><br/><div id="39701651" class="c"><input type="checkbox" id="c-39701651" checked=""/><div class="controls bullet"><span class="by">dragonelite</span><span>|</span><a href="#39701643">parent</a><span>|</span><a href="#39698440">next</a><span>|</span><label class="collapse" for="c-39701651">[-]</label><label class="expand" for="c-39701651">[1 more]</label></div><br/><div class="children"><div class="content">They probably mean smaller than containers which package a slimmed down OS plus the executable binary.</div><br/></div></div></div></div><div id="39698440" class="c"><input type="checkbox" id="c-39698440" checked=""/><div class="controls bullet"><span class="by">matei_radu</span><span>|</span><a href="#39701643">prev</a><span>|</span><a href="#39699738">next</a><span>|</span><label class="collapse" for="c-39698440">[-]</label><label class="expand" for="c-39698440">[11 more]</label></div><br/><div class="children"><div class="content">Hi, everyone!
I&#x27;m one of the maintainers, I&#x27;d love to chat about the project and about how and why we built it.</div><br/><div id="39699292" class="c"><input type="checkbox" id="c-39699292" checked=""/><div class="controls bullet"><span class="by">kodama-lens</span><span>|</span><a href="#39698440">parent</a><span>|</span><a href="#39698910">next</a><span>|</span><label class="collapse" for="c-39699292">[-]</label><label class="expand" for="c-39699292">[1 more]</label></div><br/><div class="children"><div class="content">Is there anything that makes spin stand out?<p>From what I&#x27;ve read, it seems much more complicated then it has to be. I&#x27;ve been running crun with wasmtime enabled since about 1 year in my private test clusters.  No shim, no operator, no runtime class manager. I just have to set one extra annotation to the pod.<p>Only problem is that most k8s distros ship with runc. So there is no out of the box experiance yet, but it is a super efficient setup. 
Your approach seems more managed&#x2F;enterprise ready, but also a more complicated. I don&#x27;t want to be rude, I just want to get what additional value I would get from this since there a so many small differences in the WASM runtime world and I&#x27;m not super familiar with most of them</div><br/></div></div><div id="39698910" class="c"><input type="checkbox" id="c-39698910" checked=""/><div class="controls bullet"><span class="by">whalesalad</span><span>|</span><a href="#39698440">parent</a><span>|</span><a href="#39699292">prev</a><span>|</span><a href="#39699738">next</a><span>|</span><label class="collapse" for="c-39698910">[-]</label><label class="expand" for="c-39698910">[9 more]</label></div><br/><div class="children"><div class="content">Why is anything special or unique required to run WASM on kube? A container is a container, no? Serious question. To me the benefit of kube is that the api is a container and allows for any container to run there.</div><br/><div id="39699047" class="c"><input type="checkbox" id="c-39699047" checked=""/><div class="controls bullet"><span class="by">eptcyka</span><span>|</span><a href="#39698440">root</a><span>|</span><a href="#39698910">parent</a><span>|</span><a href="#39699976">next</a><span>|</span><label class="collapse" for="c-39699047">[-]</label><label class="expand" for="c-39699047">[5 more]</label></div><br/><div class="children"><div class="content">With WASM, you get better isolation than a regular virtual machine, you can be more granular with scheduling and the attack surface is far smaller than a regular VM. When compared to namespaces containers, you don’t need to rely on the kernel attack surface being tight for security. And you get to intercept all syacalls ala gvisor with less complexity. The downside is interaction with specialty hardware and performance.</div><br/><div id="39701661" class="c"><input type="checkbox" id="c-39701661" checked=""/><div class="controls bullet"><span class="by">FooBarWidget</span><span>|</span><a href="#39698440">root</a><span>|</span><a href="#39699047">parent</a><span>|</span><a href="#39699890">next</a><span>|</span><label class="collapse" for="c-39701661">[-]</label><label class="expand" for="c-39701661">[1 more]</label></div><br/><div class="children"><div class="content">&gt; With WASM, you get better isolation than a regular virtual machine, you can be more granular with scheduling<p>Why is this so?</div><br/></div></div><div id="39699890" class="c"><input type="checkbox" id="c-39699890" checked=""/><div class="controls bullet"><span class="by">jrockway</span><span>|</span><a href="#39698440">root</a><span>|</span><a href="#39699047">parent</a><span>|</span><a href="#39701661">prev</a><span>|</span><a href="#39699687">next</a><span>|</span><label class="collapse" for="c-39699890">[-]</label><label class="expand" for="c-39699890">[1 more]</label></div><br/><div class="children"><div class="content">Why WASM and not gVisor, which runs any program compiled to your architecture with similar isolation from the host kernel?</div><br/></div></div><div id="39699687" class="c"><input type="checkbox" id="c-39699687" checked=""/><div class="controls bullet"><span class="by">whalesalad</span><span>|</span><a href="#39698440">root</a><span>|</span><a href="#39699047">parent</a><span>|</span><a href="#39699890">prev</a><span>|</span><a href="#39699976">next</a><span>|</span><label class="collapse" for="c-39699687">[-]</label><label class="expand" for="c-39699687">[2 more]</label></div><br/><div class="children"><div class="content">This doesn’t answer my question. A container is not a VM.</div><br/><div id="39701491" class="c"><input type="checkbox" id="c-39701491" checked=""/><div class="controls bullet"><span class="by">eptcyka</span><span>|</span><a href="#39698440">root</a><span>|</span><a href="#39699687">parent</a><span>|</span><a href="#39699976">next</a><span>|</span><label class="collapse" for="c-39701491">[-]</label><label class="expand" for="c-39701491">[1 more]</label></div><br/><div class="children"><div class="content">A container can be a VM, this provides a container with similar isolation characteristics to a VM with less complexity on the orchestrator&#x2F;runc side of things.</div><br/></div></div></div></div></div></div><div id="39699976" class="c"><input type="checkbox" id="c-39699976" checked=""/><div class="controls bullet"><span class="by">triplechill</span><span>|</span><a href="#39698440">root</a><span>|</span><a href="#39698910">parent</a><span>|</span><a href="#39699047">prev</a><span>|</span><a href="#39699738">next</a><span>|</span><label class="collapse" for="c-39699976">[-]</label><label class="expand" for="c-39699976">[3 more]</label></div><br/><div class="children"><div class="content">Hey SpinKube maintainer here. You&#x27;re right that you could just run your Wasm (or Spin app) directly in a container and there often are reasons you might want to do that. But, SpinKube executes WebAssembly using a containerd-shim which means we avoid the overhead of starting a container and rather just directly execute the Wasm.<p><a href="https:&#x2F;&#x2F;www.spinkube.dev&#x2F;blog&#x2F;2024&#x2F;03&#x2F;13&#x2F;introducing-spinkube&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.spinkube.dev&#x2F;blog&#x2F;2024&#x2F;03&#x2F;13&#x2F;introducing-spinkub...</a> is a really good blog post on Spin that talks about this.</div><br/><div id="39700058" class="c"><input type="checkbox" id="c-39700058" checked=""/><div class="controls bullet"><span class="by">ushakov</span><span>|</span><a href="#39698440">root</a><span>|</span><a href="#39699976">parent</a><span>|</span><a href="#39699738">next</a><span>|</span><label class="collapse" for="c-39700058">[-]</label><label class="expand" for="c-39700058">[2 more]</label></div><br/><div class="children"><div class="content">Does this also support running WASI? Or spin only?</div><br/><div id="39700076" class="c"><input type="checkbox" id="c-39700076" checked=""/><div class="controls bullet"><span class="by">triplechill</span><span>|</span><a href="#39698440">root</a><span>|</span><a href="#39700058">parent</a><span>|</span><a href="#39699738">next</a><span>|</span><label class="collapse" for="c-39700076">[-]</label><label class="expand" for="c-39700076">[1 more]</label></div><br/><div class="children"><div class="content">The project is focused on supporting Spin. But Spin supports a large amount of the WASI API surface and is headed in the direction of using WASI in place of Spin specific APIs wherever possible.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="39699738" class="c"><input type="checkbox" id="c-39699738" checked=""/><div class="controls bullet"><span class="by">rohitghumare</span><span>|</span><a href="#39698440">prev</a><span>|</span><a href="#39701456">next</a><span>|</span><label class="collapse" for="c-39699738">[-]</label><label class="expand" for="c-39699738">[1 more]</label></div><br/><div class="children"><div class="content">Fermyon and Spinkube are doing a great job with this. WASM FTW!</div><br/></div></div><div id="39701456" class="c"><input type="checkbox" id="c-39701456" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#39699738">prev</a><span>|</span><label class="collapse" for="c-39701456">[-]</label><label class="expand" for="c-39701456">[1 more]</label></div><br/><div class="children"><div class="content">Now all the complexity of Java and .NET application servers, with YAML spaghetti, and distributed systems infrastructure configuration.<p>Progress is wonderfull! &#x2F;s</div><br/></div></div></div></div></div></div></div></body></html>