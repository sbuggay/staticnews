<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1688115646420" as="style"/><link rel="stylesheet" href="styles.css?v=1688115646420"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://awk.dev/">The Awk Programming Language, Second Edition</a> <span class="domain">(<a href="https://awk.dev">awk.dev</a>)</span></div><div class="subtext"><span>0x54MUR41</span> | <span>146 comments</span></div><br/><div><div id="36518146" class="c"><input type="checkbox" id="c-36518146" checked=""/><div class="controls bullet"><span class="by">benhoyt</span><span>|</span><a href="#36517844">next</a><span>|</span><label class="collapse" for="c-36518146">[-]</label><label class="expand" for="c-36518146">[29 more]</label></div><br/><div class="children"><div class="content">I was privileged to be one of the technical reviewers for this book. There&#x27;s a fair bit of the original content (which is still great), but Kernighan&#x27;s done a great job with some good restructuring and some significant updates, too. The early chapters are very hands-on, with something of a focus on &quot;exploratory data processing&quot;, particularly with CSV files. Big data with AWK, you could say.<p>Gawk and awk will soon have a new &quot;--csv&quot; option that enables proper CSV input mode (parsing files with quoted and multiline fields per the CSV RFC). I&#x27;m really glad Arnold Robbins added a robust &quot;--csv&quot; implementation to Gawk, too, because that&#x27;s really the most-heavily used version of AWK nowadays. I&#x27;ve already got CSV support in my own GoAWK implementation, and I&#x27;ll be adding &quot;--csv&quot; to make it compatible.<p>I&#x27;m really glad this new updated version is coming out!</div><br/><div id="36529159" class="c"><input type="checkbox" id="c-36529159" checked=""/><div class="controls bullet"><span class="by">ryenus</span><span>|</span><a href="#36518146">parent</a><span>|</span><a href="#36519436">next</a><span>|</span><label class="collapse" for="c-36529159">[-]</label><label class="expand" for="c-36529159">[3 more]</label></div><br/><div class="children"><div class="content">Awk is really great, for those knowing nvm [1], I used awk to make `nvm ls-remote` run more than 10 times faster [2] by replacing the related shell script with around 60 lines of awk script [3], and I was quite happy with the improvement.<p>It&#x27;s not really a one-liner, neither something big, but one can take that as an example regarding that awk is really not just for one-liners.<p>Meanwhile having `--csv` support is really nice. I&#x27;d also like to see things like a builtin `length` function to be standard.<p>[1]: <a href="https:&#x2F;&#x2F;github.com&#x2F;nvm-sh&#x2F;nvm&#x2F;">https:&#x2F;&#x2F;github.com&#x2F;nvm-sh&#x2F;nvm&#x2F;</a>
[2]: <a href="https:&#x2F;&#x2F;github.com&#x2F;nvm-sh&#x2F;nvm&#x2F;pull&#x2F;2827&#x2F;">https:&#x2F;&#x2F;github.com&#x2F;nvm-sh&#x2F;nvm&#x2F;pull&#x2F;2827&#x2F;</a>
[3]: <a href="https:&#x2F;&#x2F;github.com&#x2F;nvm-sh&#x2F;nvm&#x2F;blob&#x2F;9a769630d7&#x2F;nvm.sh#L1703-L1765">https:&#x2F;&#x2F;github.com&#x2F;nvm-sh&#x2F;nvm&#x2F;blob&#x2F;9a769630d7&#x2F;nvm.sh#L1703-L...</a></div><br/><div id="36529312" class="c"><input type="checkbox" id="c-36529312" checked=""/><div class="controls bullet"><span class="by">benhoyt</span><span>|</span><a href="#36518146">root</a><span>|</span><a href="#36529159">parent</a><span>|</span><a href="#36519436">next</a><span>|</span><label class="collapse" for="c-36529312">[-]</label><label class="expand" for="c-36529312">[2 more]</label></div><br/><div class="children"><div class="content">But length() is standard POSIX, no? Even length(array) has been approved by POSIX [1] but not yet included in the spec (they&#x27;re very slow to update the spec for some reason). Both forms have been supported in onetrueawk, Gawk, mawk, and Busybox awk for a long time.<p>[1] <a href="https:&#x2F;&#x2F;www.austingroupbugs.net&#x2F;view.php?id=1566" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.austingroupbugs.net&#x2F;view.php?id=1566</a></div><br/><div id="36532207" class="c"><input type="checkbox" id="c-36532207" checked=""/><div class="controls bullet"><span class="by">ryenus</span><span>|</span><a href="#36518146">root</a><span>|</span><a href="#36529312">parent</a><span>|</span><a href="#36519436">next</a><span>|</span><label class="collapse" for="c-36532207">[-]</label><label class="expand" for="c-36532207">[1 more]</label></div><br/><div class="children"><div class="content">Ah good to know, thank you! Meanwhile I found it, it was the awk from Debian 10 that lacked `length(array)`, see the related nvm pr [1].<p>[1]: <a href="https:&#x2F;&#x2F;github.com&#x2F;nvm-sh&#x2F;nvm&#x2F;pull&#x2F;2917&#x2F;">https:&#x2F;&#x2F;github.com&#x2F;nvm-sh&#x2F;nvm&#x2F;pull&#x2F;2917&#x2F;</a></div><br/></div></div></div></div></div></div><div id="36519436" class="c"><input type="checkbox" id="c-36519436" checked=""/><div class="controls bullet"><span class="by">Simon_O_Rourke</span><span>|</span><a href="#36518146">parent</a><span>|</span><a href="#36529159">prev</a><span>|</span><a href="#36522221">next</a><span>|</span><label class="collapse" for="c-36519436">[-]</label><label class="expand" for="c-36519436">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Gawk and awk will soon have a new &quot;--csv&quot; option that enables proper CSV input mode<p>Awesome!!!! Super excited to see this!</div><br/></div></div><div id="36522221" class="c"><input type="checkbox" id="c-36522221" checked=""/><div class="controls bullet"><span class="by">tomcam</span><span>|</span><a href="#36518146">parent</a><span>|</span><a href="#36519436">prev</a><span>|</span><a href="#36519796">next</a><span>|</span><label class="collapse" for="c-36522221">[-]</label><label class="expand" for="c-36522221">[1 more]</label></div><br/><div class="children"><div class="content">Ben is not just any old technical reviewer. He wrote a version of AWK in go and has done a ton of other work in the AWK ecosystem.</div><br/></div></div><div id="36519796" class="c"><input type="checkbox" id="c-36519796" checked=""/><div class="controls bullet"><span class="by">anyfactor</span><span>|</span><a href="#36518146">parent</a><span>|</span><a href="#36522221">prev</a><span>|</span><a href="#36520746">next</a><span>|</span><label class="collapse" for="c-36519796">[-]</label><label class="expand" for="c-36519796">[1 more]</label></div><br/><div class="children"><div class="content">Our data product is delivered in CSV format. Even though I create user documentation mainly using csvkit, grep and sed, I would love to convert all those solutions to AWK. Sometimes AWK is more readable than sed and csvkit requires installation.<p>It will be nice to have a awk cookbook for CSV. In terms of CSV maniupulation and querying there is only a limited number of operations and I think there is potential to standardize those operation using AWK.</div><br/></div></div><div id="36520746" class="c"><input type="checkbox" id="c-36520746" checked=""/><div class="controls bullet"><span class="by">nmz</span><span>|</span><a href="#36518146">parent</a><span>|</span><a href="#36519796">prev</a><span>|</span><a href="#36519447">next</a><span>|</span><label class="collapse" for="c-36520746">[-]</label><label class="expand" for="c-36520746">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s nice that everyone is supporting this, I&#x27;ve written a portable awk module that takes control of the parsing and it is SLOW (and a little buggy). I&#x27;m a little bummed that nobody will use it but this is truly a step in the right direction.<p>I guess for the people that are still using nawk, you can set up an AWK envvar so you can { awk -f $AWKU&#x2F;ucsv.awk -f &lt;(echo &#x27;{print NR, $1}&#x27;) }<p><a href="https:&#x2F;&#x2F;github.com&#x2F;Nomarian&#x2F;Awk-Batteries&#x2F;blob&#x2F;master&#x2F;Units&#x2F;ucsv.awk">https:&#x2F;&#x2F;github.com&#x2F;Nomarian&#x2F;Awk-Batteries&#x2F;blob&#x2F;master&#x2F;Units&#x2F;...</a></div><br/></div></div><div id="36519447" class="c"><input type="checkbox" id="c-36519447" checked=""/><div class="controls bullet"><span class="by">calvinmorrison</span><span>|</span><a href="#36518146">parent</a><span>|</span><a href="#36520746">prev</a><span>|</span><a href="#36524473">next</a><span>|</span><label class="collapse" for="c-36519447">[-]</label><label class="expand" for="c-36519447">[18 more]</label></div><br/><div class="children"><div class="content">Its a crying shame we never settled on a control character separated text format. There&#x27;s a ascii control characters for record and field (unit) separators. A bit of user space support for that would have been great.</div><br/><div id="36519551" class="c"><input type="checkbox" id="c-36519551" checked=""/><div class="controls bullet"><span class="by">galleywest200</span><span>|</span><a href="#36518146">root</a><span>|</span><a href="#36519447">parent</a><span>|</span><a href="#36520609">next</a><span>|</span><label class="collapse" for="c-36519551">[-]</label><label class="expand" for="c-36519551">[2 more]</label></div><br/><div class="children"><div class="content">It is a shame. I have been using tab-separated sheets recently as it allows me to simply not care about almost any possible character in my strings...apart from tabs of course. But those are far less common than commas, and putting strings in quotes 100% of the time looks messy to me.</div><br/><div id="36519899" class="c"><input type="checkbox" id="c-36519899" checked=""/><div class="controls bullet"><span class="by">calvinmorrison</span><span>|</span><a href="#36518146">root</a><span>|</span><a href="#36519551">parent</a><span>|</span><a href="#36520609">next</a><span>|</span><label class="collapse" for="c-36519899">[-]</label><label class="expand" for="c-36519899">[1 more]</label></div><br/><div class="children"><div class="content">Way less common would be using ascii 30 and ascii 31. ascii 29 and you can cram multiple datasets into one file</div><br/></div></div></div></div><div id="36520609" class="c"><input type="checkbox" id="c-36520609" checked=""/><div class="controls bullet"><span class="by">bachmeier</span><span>|</span><a href="#36518146">root</a><span>|</span><a href="#36519447">parent</a><span>|</span><a href="#36519551">prev</a><span>|</span><a href="#36525584">next</a><span>|</span><label class="collapse" for="c-36520609">[-]</label><label class="expand" for="c-36520609">[6 more]</label></div><br/><div class="children"><div class="content">As I recall, you can tell Awk to use the control characters as record and field separators. Not helpful if you&#x27;re getting your data from others, but if you&#x27;re working by yourself, you have the option. I&#x27;ve come to use control characters as a default because it makes life so much easier.</div><br/><div id="36526664" class="c"><input type="checkbox" id="c-36526664" checked=""/><div class="controls bullet"><span class="by">ufo</span><span>|</span><a href="#36518146">root</a><span>|</span><a href="#36520609">parent</a><span>|</span><a href="#36525584">next</a><span>|</span><label class="collapse" for="c-36526664">[-]</label><label class="expand" for="c-36526664">[5 more]</label></div><br/><div class="children"><div class="content">What do you recommend for viewing and editing such files?</div><br/><div id="36526877" class="c"><input type="checkbox" id="c-36526877" checked=""/><div class="controls bullet"><span class="by">ac29</span><span>|</span><a href="#36518146">root</a><span>|</span><a href="#36526664">parent</a><span>|</span><a href="#36525584">next</a><span>|</span><label class="collapse" for="c-36526877">[-]</label><label class="expand" for="c-36526877">[4 more]</label></div><br/><div class="children"><div class="content">Visidata works with arbitrary separators. I just tried with a CSV separated with ␟ (ASCII unit separator) and it worked just fine.</div><br/><div id="36527511" class="c"><input type="checkbox" id="c-36527511" checked=""/><div class="controls bullet"><span class="by">lolive</span><span>|</span><a href="#36518146">root</a><span>|</span><a href="#36526877">parent</a><span>|</span><a href="#36525584">next</a><span>|</span><label class="collapse" for="c-36527511">[-]</label><label class="expand" for="c-36527511">[3 more]</label></div><br/><div class="children"><div class="content">Excel too?</div><br/><div id="36529592" class="c"><input type="checkbox" id="c-36529592" checked=""/><div class="controls bullet"><span class="by">leonim</span><span>|</span><a href="#36518146">root</a><span>|</span><a href="#36527511">parent</a><span>|</span><a href="#36525584">next</a><span>|</span><label class="collapse" for="c-36529592">[-]</label><label class="expand" for="c-36529592">[2 more]</label></div><br/><div class="children"><div class="content">lolive, VisiData has some Excel support. However, don&#x27;t expect VisiData to be a full blown editor for Excel files.  It can provide a view of the data in an Excel spreadsheet.</div><br/><div id="36531801" class="c"><input type="checkbox" id="c-36531801" checked=""/><div class="controls bullet"><span class="by">dotancohen</span><span>|</span><a href="#36518146">root</a><span>|</span><a href="#36529592">parent</a><span>|</span><a href="#36525584">next</a><span>|</span><label class="collapse" for="c-36531801">[-]</label><label class="expand" for="c-36531801">[1 more]</label></div><br/><div class="children"><div class="content">I think GP means to ask if Excel can read files with ASCII 29,30,31 separators.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="36525584" class="c"><input type="checkbox" id="c-36525584" checked=""/><div class="controls bullet"><span class="by">PeterisP</span><span>|</span><a href="#36518146">root</a><span>|</span><a href="#36519447">parent</a><span>|</span><a href="#36520609">prev</a><span>|</span><a href="#36520983">next</a><span>|</span><label class="collapse" for="c-36525584">[-]</label><label class="expand" for="c-36525584">[1 more]</label></div><br/><div class="children"><div class="content">Tab-delimited &quot;csv&quot; formats are quite common (e.g. the CONLL format family for many natural language processing tasks) and also supported by common tools such as MS Excel for decades already.</div><br/></div></div><div id="36520983" class="c"><input type="checkbox" id="c-36520983" checked=""/><div class="controls bullet"><span class="by">hermitcrab</span><span>|</span><a href="#36518146">root</a><span>|</span><a href="#36519447">parent</a><span>|</span><a href="#36525584">prev</a><span>|</span><a href="#36524465">next</a><span>|</span><label class="collapse" for="c-36520983">[-]</label><label class="expand" for="c-36520983">[6 more]</label></div><br/><div class="children"><div class="content">Some discussion of that here: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=31220841">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=31220841</a><p>To be really useful as a format it would just need for text editors to:
-display something distinct for the field separator (some editors do this) 
-treat the record separator character like a carriage return (not aware of any editors that do this)</div><br/><div id="36522071" class="c"><input type="checkbox" id="c-36522071" checked=""/><div class="controls bullet"><span class="by">coldtea</span><span>|</span><a href="#36518146">root</a><span>|</span><a href="#36520983">parent</a><span>|</span><a href="#36521272">next</a><span>|</span><label class="collapse" for="c-36522071">[-]</label><label class="expand" for="c-36522071">[3 more]</label></div><br/><div class="children"><div class="content">&gt;<i>To be really useful as a format it would just need for text editors to: -display something distinct for the field separator</i><p>Which would be trivial too.</div><br/><div id="36526116" class="c"><input type="checkbox" id="c-36526116" checked=""/><div class="controls bullet"><span class="by">hermitcrab</span><span>|</span><a href="#36518146">root</a><span>|</span><a href="#36522071">parent</a><span>|</span><a href="#36521272">next</a><span>|</span><label class="collapse" for="c-36526116">[-]</label><label class="expand" for="c-36526116">[2 more]</label></div><br/><div class="children"><div class="content">The programming might be straightforward. Trying to persuade the product owners to do it is a different matter.</div><br/><div id="36531811" class="c"><input type="checkbox" id="c-36531811" checked=""/><div class="controls bullet"><span class="by">dotancohen</span><span>|</span><a href="#36518146">root</a><span>|</span><a href="#36526116">parent</a><span>|</span><a href="#36521272">next</a><span>|</span><label class="collapse" for="c-36531811">[-]</label><label class="expand" for="c-36531811">[1 more]</label></div><br/><div class="children"><div class="content">Pull request?</div><br/></div></div></div></div></div></div><div id="36521272" class="c"><input type="checkbox" id="c-36521272" checked=""/><div class="controls bullet"><span class="by">throw0101c</span><span>|</span><a href="#36518146">root</a><span>|</span><a href="#36520983">parent</a><span>|</span><a href="#36522071">prev</a><span>|</span><a href="#36521170">next</a><span>|</span><label class="collapse" for="c-36521272">[-]</label><label class="expand" for="c-36521272">[1 more]</label></div><br/><div class="children"><div class="content">&gt; <i>To be really useful as a format it would just need for text editors to</i><p>This made me think of WordPerfect&#x27;s &quot;reveal codes&quot; functionality. :)<p>(Word&#x27;s &quot;Reveal Formatting&quot; is supposedly similar.)</div><br/></div></div><div id="36521170" class="c"><input type="checkbox" id="c-36521170" checked=""/><div class="controls bullet"><span class="by">calvinmorrison</span><span>|</span><a href="#36518146">root</a><span>|</span><a href="#36520983">parent</a><span>|</span><a href="#36521272">prev</a><span>|</span><a href="#36524465">next</a><span>|</span><label class="collapse" for="c-36521170">[-]</label><label class="expand" for="c-36521170">[1 more]</label></div><br/><div class="children"><div class="content">Right. The issue is the user space support at the end of the day.</div><br/></div></div></div></div><div id="36524465" class="c"><input type="checkbox" id="c-36524465" checked=""/><div class="controls bullet"><span class="by">JdeBP</span><span>|</span><a href="#36518146">root</a><span>|</span><a href="#36519447">parent</a><span>|</span><a href="#36520983">prev</a><span>|</span><a href="#36527502">next</a><span>|</span><label class="collapse" for="c-36524465">[-]</label><label class="expand" for="c-36524465">[1 more]</label></div><br/><div class="children"><div class="content">Miller handles it.<p>* <a href="https:&#x2F;&#x2F;miller.readthedocs.io&#x2F;en&#x2F;6.8.0&#x2F;file-formats&#x2F;#csvtsvasvusvetc" rel="nofollow noreferrer">https:&#x2F;&#x2F;miller.readthedocs.io&#x2F;en&#x2F;6.8.0&#x2F;file-formats&#x2F;#csvtsva...</a><p>I have programs that handle it.<p>* <a href="https:&#x2F;&#x2F;jdebp.uk&#x2F;Softwares&#x2F;nosh&#x2F;guide&#x2F;commands&#x2F;console-flat-table-viewer.xml" rel="nofollow noreferrer">https:&#x2F;&#x2F;jdebp.uk&#x2F;Softwares&#x2F;nosh&#x2F;guide&#x2F;commands&#x2F;console-flat-...</a></div><br/></div></div><div id="36527502" class="c"><input type="checkbox" id="c-36527502" checked=""/><div class="controls bullet"><span class="by">lolive</span><span>|</span><a href="#36518146">root</a><span>|</span><a href="#36519447">parent</a><span>|</span><a href="#36524465">prev</a><span>|</span><a href="#36524473">next</a><span>|</span><label class="collapse" for="c-36527502">[-]</label><label class="expand" for="c-36527502">[1 more]</label></div><br/><div class="children"><div class="content">Most important comment I have ever read on HN ever !</div><br/></div></div></div></div><div id="36524473" class="c"><input type="checkbox" id="c-36524473" checked=""/><div class="controls bullet"><span class="by">cauthon</span><span>|</span><a href="#36518146">parent</a><span>|</span><a href="#36519447">prev</a><span>|</span><a href="#36524732">next</a><span>|</span><label class="collapse" for="c-36524473">[-]</label><label class="expand" for="c-36524473">[1 more]</label></div><br/><div class="children"><div class="content">This is amazing, I may never use pandas again</div><br/></div></div><div id="36524732" class="c"><input type="checkbox" id="c-36524732" checked=""/><div class="controls bullet"><span class="by">lost_tourist</span><span>|</span><a href="#36518146">parent</a><span>|</span><a href="#36524473">prev</a><span>|</span><a href="#36517844">next</a><span>|</span><label class="collapse" for="c-36524732">[-]</label><label class="expand" for="c-36524732">[2 more]</label></div><br/><div class="children"><div class="content">Would you say the first few chapters are enough to get the 75-80% usefulness for mere mortals like me who will never try to master the full language? Or is the material fairly sprinkled throughout the whole tome?</div><br/><div id="36526095" class="c"><input type="checkbox" id="c-36526095" checked=""/><div class="controls bullet"><span class="by">benhoyt</span><span>|</span><a href="#36518146">root</a><span>|</span><a href="#36524732">parent</a><span>|</span><a href="#36517844">next</a><span>|</span><label class="collapse" for="c-36526095">[-]</label><label class="expand" for="c-36526095">[1 more]</label></div><br/><div class="children"><div class="content">Yes, definitely. The first three chapters would be more than enough for that: 1) An Awk Tutorial, 2) Awk in Action, and 3) Exploratory Data Analysis. For most people who just want to use AWK for one-liners on the command line, you can stop there. The rest of the chapters are about writing larger (still small! but not one-liner) programs in AWK to create reports, little languages, and experiment with algorithms.</div><br/></div></div></div></div></div></div><div id="36517844" class="c"><input type="checkbox" id="c-36517844" checked=""/><div class="controls bullet"><span class="by">siraben</span><span>|</span><a href="#36518146">prev</a><span>|</span><a href="#36517903">next</a><span>|</span><label class="collapse" for="c-36517844">[-]</label><label class="expand" for="c-36517844">[18 more]</label></div><br/><div class="children"><div class="content">Awk is awesome! Glad that they are looking to modernize the book. It wasn&#x27;t really necessary, all the code examples in the original edition of the book still run just fine, although some are somewhat dated, like printing ASCII bar graphs. They also had examples of writing VMs, parsers and interpreters in the book, which run on modern implementations.[0]<p>The language has some quirks. To declare temporary variables, it&#x27;s common practice to add extra arguments to functions that won&#x27;t be used. And traversal of associative arrays is implementation-dependent. I&#x27;m not sure what the situation is regarding locale and UTF-8 support.<p>EDIT: Looks like Brian Kernighan added Unicode support last year.[1]<p>[0] <a href="https:&#x2F;&#x2F;github.com&#x2F;siraben&#x2F;awk-vm&#x2F;blob&#x2F;master&#x2F;vm.awk">https:&#x2F;&#x2F;github.com&#x2F;siraben&#x2F;awk-vm&#x2F;blob&#x2F;master&#x2F;vm.awk</a><p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;onetrueawk&#x2F;awk&#x2F;commit&#x2F;9ebe940cf3c652b0e373634d2aa4a00b8395b636">https:&#x2F;&#x2F;github.com&#x2F;onetrueawk&#x2F;awk&#x2F;commit&#x2F;9ebe940cf3c652b0e37...</a></div><br/><div id="36518047" class="c"><input type="checkbox" id="c-36518047" checked=""/><div class="controls bullet"><span class="by">kqr</span><span>|</span><a href="#36517844">parent</a><span>|</span><a href="#36517905">next</a><span>|</span><label class="collapse" for="c-36518047">[-]</label><label class="expand" for="c-36518047">[7 more]</label></div><br/><div class="children"><div class="content">What would you suggest as an alternative to printing ASCII bar graphs? I do that all the time. Takes 20 seconds and often makes distributions, modalities, and patterns over time obvious right away.</div><br/><div id="36518280" class="c"><input type="checkbox" id="c-36518280" checked=""/><div class="controls bullet"><span class="by">zimpenfish</span><span>|</span><a href="#36517844">root</a><span>|</span><a href="#36518047">parent</a><span>|</span><a href="#36517905">next</a><span>|</span><label class="collapse" for="c-36518280">[-]</label><label class="expand" for="c-36518280">[6 more]</label></div><br/><div class="children"><div class="content">`sparklines`[1] is good for an overall low-res view.  `termgraph`[2] is sometimes better for a higher-res, more capable view (but can be finicky about the data.)<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;deeplook&#x2F;sparklines">https:&#x2F;&#x2F;github.com&#x2F;deeplook&#x2F;sparklines</a><p>[2] <a href="https:&#x2F;&#x2F;github.com&#x2F;mkaz&#x2F;termgraph">https:&#x2F;&#x2F;github.com&#x2F;mkaz&#x2F;termgraph</a></div><br/><div id="36520396" class="c"><input type="checkbox" id="c-36520396" checked=""/><div class="controls bullet"><span class="by">kqr</span><span>|</span><a href="#36517844">root</a><span>|</span><a href="#36518280">parent</a><span>|</span><a href="#36517905">next</a><span>|</span><label class="collapse" for="c-36520396">[-]</label><label class="expand" for="c-36520396">[5 more]</label></div><br/><div class="children"><div class="content">But both require depending on a third party library -- hardly something on a whim if ASCII bar charts do the job?</div><br/><div id="36522881" class="c"><input type="checkbox" id="c-36522881" checked=""/><div class="controls bullet"><span class="by">zimpenfish</span><span>|</span><a href="#36517844">root</a><span>|</span><a href="#36520396">parent</a><span>|</span><a href="#36520542">next</a><span>|</span><label class="collapse" for="c-36522881">[-]</label><label class="expand" for="c-36522881">[1 more]</label></div><br/><div class="children"><div class="content">Sure but, e.g., sparklines can show me the shape of my 60 numbers[1] more effectively on a single line of 60 characters[2] than an ASCII bar chart which would be 60 lines (without binning).<p>[1] 27623 14272 22218 21267 19037 989 27116 32405 23261 27104 7793 9432 7776 28832 13521 10783 29261 32193 30367 20358 22611 2023 19607 9844 3516 6510 16533 8378 22986 17043 14628 13392 22799 23847 29212 23690 17779 17059 28211 26180 32061 22740 7911 12018 4508 9801 9578 15350 9554 15517 11112 405 22054 2743 26609 7843 713 10975 2830 1126<p>[2] <a href="http:&#x2F;&#x2F;rjp-hosted-files.s3.amazonaws.com&#x2F;sparkline-demo.png" rel="nofollow noreferrer">http:&#x2F;&#x2F;rjp-hosted-files.s3.amazonaws.com&#x2F;sparkline-demo.png</a></div><br/></div></div><div id="36520542" class="c"><input type="checkbox" id="c-36520542" checked=""/><div class="controls bullet"><span class="by">llimllib</span><span>|</span><a href="#36517844">root</a><span>|</span><a href="#36520396">parent</a><span>|</span><a href="#36522881">prev</a><span>|</span><a href="#36517905">next</a><span>|</span><label class="collapse" for="c-36520542">[-]</label><label class="expand" for="c-36520542">[3 more]</label></div><br/><div class="children"><div class="content">gnuplot is an alternative that is available on almost as many systems as awk, and can do the job as well<p>edit: this prompted me to write up a little note showing how: <a href="https:&#x2F;&#x2F;notes.billmill.org&#x2F;visualization&#x2F;graphs&#x2F;gnuplot&#x2F;A_bar_graph_in_the_terminal_with_gnuplot.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;notes.billmill.org&#x2F;visualization&#x2F;graphs&#x2F;gnuplot&#x2F;A_ba...</a></div><br/><div id="36522352" class="c"><input type="checkbox" id="c-36522352" checked=""/><div class="controls bullet"><span class="by">dima55</span><span>|</span><a href="#36517844">root</a><span>|</span><a href="#36520542">parent</a><span>|</span><a href="#36517905">next</a><span>|</span><label class="collapse" for="c-36522352">[-]</label><label class="expand" for="c-36522352">[2 more]</label></div><br/><div class="children"><div class="content">If you do this sort of thing more than once ever, look at the feedgnuplot tool (<a href="http:&#x2F;&#x2F;github.com&#x2F;dkogan&#x2F;feedgnuplot">http:&#x2F;&#x2F;github.com&#x2F;dkogan&#x2F;feedgnuplot</a>). It&#x27;ll make your life easier</div><br/><div id="36524953" class="c"><input type="checkbox" id="c-36524953" checked=""/><div class="controls bullet"><span class="by">llimllib</span><span>|</span><a href="#36517844">root</a><span>|</span><a href="#36522352">parent</a><span>|</span><a href="#36517905">next</a><span>|</span><label class="collapse" for="c-36524953">[-]</label><label class="expand" for="c-36524953">[1 more]</label></div><br/><div class="children"><div class="content">Neat! Once you&#x27;re installing something to do terminal plots though, <a href="https:&#x2F;&#x2F;github.com&#x2F;red-data-tools&#x2F;YouPlot">https:&#x2F;&#x2F;github.com&#x2F;red-data-tools&#x2F;YouPlot</a> looks the nicest I&#x27;ve seen.<p>(The nice feature of feedgnuplot of course is that you can _also_ render the plots to images, which youplot can&#x27;t)</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="36517905" class="c"><input type="checkbox" id="c-36517905" checked=""/><div class="controls bullet"><span class="by">bluetomcat</span><span>|</span><a href="#36517844">parent</a><span>|</span><a href="#36518047">prev</a><span>|</span><a href="#36518016">next</a><span>|</span><label class="collapse" for="c-36517905">[-]</label><label class="expand" for="c-36517905">[9 more]</label></div><br/><div class="children"><div class="content">Is there a particular benefit in writing a VM in AWK, placed in a big BEGIN block? Very similar code can be written in Perl or Python. Isn&#x27;t the strength of AWK in its line-matching capability, being able to pattern-match a line against a block of code?</div><br/><div id="36520815" class="c"><input type="checkbox" id="c-36520815" checked=""/><div class="controls bullet"><span class="by">chasil</span><span>|</span><a href="#36517844">root</a><span>|</span><a href="#36517905">parent</a><span>|</span><a href="#36517947">next</a><span>|</span><label class="collapse" for="c-36520815">[-]</label><label class="expand" for="c-36520815">[5 more]</label></div><br/><div class="children"><div class="content">AWK runs <i>everywhere</i>. Perl and Python do not.<p>Busybox has their own independent AWK implementation.<p><a href="https:&#x2F;&#x2F;busybox.net&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;busybox.net&#x2F;</a> <a href="https:&#x2F;&#x2F;frippery.org&#x2F;busybox&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;frippery.org&#x2F;busybox&#x2F;</a><p>Also see the first edition of the AWK manual online here:<p><a href="https:&#x2F;&#x2F;archive.org&#x2F;details&#x2F;pdfy-MgN0H1joIoDVoIC7" rel="nofollow noreferrer">https:&#x2F;&#x2F;archive.org&#x2F;details&#x2F;pdfy-MgN0H1joIoDVoIC7</a></div><br/><div id="36530236" class="c"><input type="checkbox" id="c-36530236" checked=""/><div class="controls bullet"><span class="by">unmole</span><span>|</span><a href="#36517844">root</a><span>|</span><a href="#36520815">parent</a><span>|</span><a href="#36517947">next</a><span>|</span><label class="collapse" for="c-36530236">[-]</label><label class="expand" for="c-36530236">[4 more]</label></div><br/><div class="children"><div class="content">I&#x27;m sorry, where does Awk run but Perl and Python don&#x27;t?<p>If we&#x27;re counting minimalist implementations, there&#x27;s micropython that even runs on microcontrollers that cost a less than 2 dollars.</div><br/><div id="36530724" class="c"><input type="checkbox" id="c-36530724" checked=""/><div class="controls bullet"><span class="by">paleface</span><span>|</span><a href="#36517844">root</a><span>|</span><a href="#36530236">parent</a><span>|</span><a href="#36517947">next</a><span>|</span><label class="collapse" for="c-36530724">[-]</label><label class="expand" for="c-36530724">[3 more]</label></div><br/><div class="children"><div class="content">Small, embedded, busybox systems - per the parent comment.</div><br/><div id="36531400" class="c"><input type="checkbox" id="c-36531400" checked=""/><div class="controls bullet"><span class="by">unmole</span><span>|</span><a href="#36517844">root</a><span>|</span><a href="#36530724">parent</a><span>|</span><a href="#36517947">next</a><span>|</span><label class="collapse" for="c-36531400">[-]</label><label class="expand" for="c-36531400">[2 more]</label></div><br/><div class="children"><div class="content">Like I said, MicroPython can run even on microcontrollers.</div><br/><div id="36531863" class="c"><input type="checkbox" id="c-36531863" checked=""/><div class="controls bullet"><span class="by">paleface</span><span>|</span><a href="#36517844">root</a><span>|</span><a href="#36531400">parent</a><span>|</span><a href="#36517947">next</a><span>|</span><label class="collapse" for="c-36531863">[-]</label><label class="expand" for="c-36531863">[1 more]</label></div><br/><div class="children"><div class="content">I think parent may be more implying “living off the land” situations. Awk is ubiquitous, and part of the POSIX standard. Micro Python, not so much.<p>I’m a big fan of Forth, but it’s not available everywhere. One has to adapt.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="36517947" class="c"><input type="checkbox" id="c-36517947" checked=""/><div class="controls bullet"><span class="by">siraben</span><span>|</span><a href="#36517844">root</a><span>|</span><a href="#36517905">parent</a><span>|</span><a href="#36520815">prev</a><span>|</span><a href="#36519188">next</a><span>|</span><label class="collapse" for="c-36517947">[-]</label><label class="expand" for="c-36517947">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Is there a particular benefit in writing a VM in AWK<p>Not really. Later on the book just ran out of line-matching examples to go through and started doing regular programming instead :P. When I actually write AWK code I rely on line-matching and using a variable to handle state.</div><br/><div id="36519043" class="c"><input type="checkbox" id="c-36519043" checked=""/><div class="controls bullet"><span class="by">pdw</span><span>|</span><a href="#36517844">root</a><span>|</span><a href="#36517947">parent</a><span>|</span><a href="#36519188">next</a><span>|</span><label class="collapse" for="c-36519043">[-]</label><label class="expand" for="c-36519043">[1 more]</label></div><br/><div class="children"><div class="content">At the time, awk was the only scripting language (other than shell) generally available on Unix systems. Perl, Tcl, Python didn&#x27;t exist yet. So awk was often used for general-purpose programming.</div><br/></div></div></div></div><div id="36519188" class="c"><input type="checkbox" id="c-36519188" checked=""/><div class="controls bullet"><span class="by">ufo</span><span>|</span><a href="#36517844">root</a><span>|</span><a href="#36517905">parent</a><span>|</span><a href="#36517947">prev</a><span>|</span><a href="#36518016">next</a><span>|</span><label class="collapse" for="c-36519188">[-]</label><label class="expand" for="c-36519188">[1 more]</label></div><br/><div class="children"><div class="content">I love telling about that example to my programming language friends.<p>&gt; Hey you should read the AWK book, it even says how to write a VM!<p>&gt; Why would I ever want to use AWK for that?<p>&gt; Well, the input is a text file with one space-delimited instruction per line.<p>&gt; Hmm... You have a point.</div><br/></div></div></div></div><div id="36518016" class="c"><input type="checkbox" id="c-36518016" checked=""/><div class="controls bullet"><span class="by">anthk</span><span>|</span><a href="#36517844">parent</a><span>|</span><a href="#36517905">prev</a><span>|</span><a href="#36517903">next</a><span>|</span><label class="collapse" for="c-36518016">[-]</label><label class="expand" for="c-36518016">[1 more]</label></div><br/><div class="children"><div class="content">On wm&#x27;s, why not a Z-machine? It&#x27;s ideal for this.</div><br/></div></div></div></div><div id="36517903" class="c"><input type="checkbox" id="c-36517903" checked=""/><div class="controls bullet"><span class="by">donatj</span><span>|</span><a href="#36517844">prev</a><span>|</span><a href="#36518275">next</a><span>|</span><label class="collapse" for="c-36517903">[-]</label><label class="expand" for="c-36517903">[3 more]</label></div><br/><div class="children"><div class="content">I love awk. It’s everywhere and every time I am writing a shell script and work myself into a corner, awk has been the way out.<p>I know exactly enough to be dangerous and have meant to deep dive for almost a decade.</div><br/><div id="36519639" class="c"><input type="checkbox" id="c-36519639" checked=""/><div class="controls bullet"><span class="by">coliveira</span><span>|</span><a href="#36517903">parent</a><span>|</span><a href="#36519684">next</a><span>|</span><label class="collapse" for="c-36519639">[-]</label><label class="expand" for="c-36519639">[1 more]</label></div><br/><div class="children"><div class="content">awk can be mastered by just reading the man page. The book doesn&#x27;t take long to read either. Once you understand the simple principles, you can write an infinite number of scripts for all kinds of tasks.</div><br/></div></div><div id="36519684" class="c"><input type="checkbox" id="c-36519684" checked=""/><div class="controls bullet"><span class="by">IggleSniggle</span><span>|</span><a href="#36517903">parent</a><span>|</span><a href="#36519639">prev</a><span>|</span><a href="#36518275">next</a><span>|</span><label class="collapse" for="c-36519684">[-]</label><label class="expand" for="c-36519684">[1 more]</label></div><br/><div class="children"><div class="content">See, when I&#x27;m writing a shell script interactively and work myself into a corner, I reach for awk, struggle with it for a bit, and then either:<p>1) succeed, and regret the messiness of the solution<p>or<p>2) fail, and find a non-awk way to handle it.<p>I really tried to like awk, but its portability hasn&#x27;t been enough of a feature to raise it above other scripting languages for me. Especially if I&#x27;m going to end up in an editor</div><br/></div></div></div></div><div id="36518275" class="c"><input type="checkbox" id="c-36518275" checked=""/><div class="controls bullet"><span class="by">apienx</span><span>|</span><a href="#36517903">prev</a><span>|</span><a href="#36517707">next</a><span>|</span><label class="collapse" for="c-36518275">[-]</label><label class="expand" for="c-36518275">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for your work! Awk is a rabbit hole.<p>&quot;Dark corners are basically fractal - no matter how much you illuminate, there is always a smaller but darker one.&quot; - - Brian Kernighan (quoted in the GNU Awk book)</div><br/></div></div><div id="36517707" class="c"><input type="checkbox" id="c-36517707" checked=""/><div class="controls bullet"><span class="by">binary_ninja</span><span>|</span><a href="#36518275">prev</a><span>|</span><a href="#36523769">next</a><span>|</span><label class="collapse" for="c-36517707">[-]</label><label class="expand" for="c-36517707">[36 more]</label></div><br/><div class="children"><div class="content">Awk has always been a language that I loved but I have struggled to use besides quick jobs for parsing text files. I understand it is meant to be use for exactly that, but the fact that is simple, fast and lightweight sometimes makes me want to do something more with it, but when I start trying to do something besides parsing text I find that it starts becoming awkward (pun intented?).</div><br/><div id="36517742" class="c"><input type="checkbox" id="c-36517742" checked=""/><div class="controls bullet"><span class="by">usrbinbash</span><span>|</span><a href="#36517707">parent</a><span>|</span><a href="#36518031">next</a><span>|</span><label class="collapse" for="c-36517742">[-]</label><label class="expand" for="c-36517742">[5 more]</label></div><br/><div class="children"><div class="content">&gt; but the fact that is simple, fast and lightweight<p>I see awk as a DSL to be honest. Yes, it <i>can</i> be used as a general purpose language, but that quickly becomes, as you say, awkward :D<p>Like many DSLs, it is simple, fast and lightweight <i>as long as it is used for it&#x27;s intended purpose</i>. Once you start using it for something else, these advantages evaporate pretty quickly, because then you have to essentially work around the DSL design to get it to do what you want.</div><br/><div id="36518958" class="c"><input type="checkbox" id="c-36518958" checked=""/><div class="controls bullet"><span class="by">snitty</span><span>|</span><a href="#36517707">root</a><span>|</span><a href="#36517742">parent</a><span>|</span><a href="#36518031">next</a><span>|</span><label class="collapse" for="c-36518958">[-]</label><label class="expand" for="c-36518958">[4 more]</label></div><br/><div class="children"><div class="content">DSL == Domain Specific Language?</div><br/><div id="36519048" class="c"><input type="checkbox" id="c-36519048" checked=""/><div class="controls bullet"><span class="by">Rediscover</span><span>|</span><a href="#36517707">root</a><span>|</span><a href="#36518958">parent</a><span>|</span><a href="#36518031">next</a><span>|</span><label class="collapse" for="c-36519048">[-]</label><label class="expand" for="c-36519048">[3 more]</label></div><br/><div class="children"><div class="content">Yes</div><br/><div id="36519661" class="c"><input type="checkbox" id="c-36519661" checked=""/><div class="controls bullet"><span class="by">coliveira</span><span>|</span><a href="#36517707">root</a><span>|</span><a href="#36519048">parent</a><span>|</span><a href="#36518031">next</a><span>|</span><label class="collapse" for="c-36519661">[-]</label><label class="expand" for="c-36519661">[2 more]</label></div><br/><div class="children"><div class="content">One simple thing I do with awk is to create a command processor: read one line at a time and do things on my data as a response. This is very useful because you can make your command as powerful as needed and call other unix tools as a result.</div><br/><div id="36522004" class="c"><input type="checkbox" id="c-36522004" checked=""/><div class="controls bullet"><span class="by">rsolva</span><span>|</span><a href="#36517707">root</a><span>|</span><a href="#36519661">parent</a><span>|</span><a href="#36518031">next</a><span>|</span><label class="collapse" for="c-36522004">[-]</label><label class="expand" for="c-36522004">[1 more]</label></div><br/><div class="children"><div class="content">Do you have an example of this that is available somewhere?</div><br/></div></div></div></div></div></div></div></div></div></div><div id="36518031" class="c"><input type="checkbox" id="c-36518031" checked=""/><div class="controls bullet"><span class="by">kqr</span><span>|</span><a href="#36517707">parent</a><span>|</span><a href="#36517742">prev</a><span>|</span><a href="#36522805">next</a><span>|</span><label class="collapse" for="c-36518031">[-]</label><label class="expand" for="c-36518031">[26 more]</label></div><br/><div class="children"><div class="content">This is exactly why I moved from AWK to Perl for these quick jobs a couple of years ago. If you stick to an AWK-like subset, Perl is also simple, fast and lightweight. If you want to grow your scripts (and you have a lot of discipline) Perl – in contrast to AWK – gives you enough noose to hang^W^W^W^Wthe tools you need.</div><br/><div id="36518243" class="c"><input type="checkbox" id="c-36518243" checked=""/><div class="controls bullet"><span class="by">joeythedolphin</span><span>|</span><a href="#36517707">root</a><span>|</span><a href="#36518031">parent</a><span>|</span><a href="#36522805">next</a><span>|</span><label class="collapse" for="c-36518243">[-]</label><label class="expand" for="c-36518243">[25 more]</label></div><br/><div class="children"><div class="content">Perl? Wow. Is that better than bash, python or even nodejs? Why write in Perl over these? Serious question, was propaghandized to hate Perl.</div><br/><div id="36519044" class="c"><input type="checkbox" id="c-36519044" checked=""/><div class="controls bullet"><span class="by">tyingq</span><span>|</span><a href="#36517707">root</a><span>|</span><a href="#36518243">parent</a><span>|</span><a href="#36519776">next</a><span>|</span><label class="collapse" for="c-36519044">[-]</label><label class="expand" for="c-36519044">[2 more]</label></div><br/><div class="children"><div class="content">The same shortcut syntax that people complain about does make perl really handy for one-time tasks where you&#x27;re iterating on ideas. Lots of features there that make that easy. One example:<p><pre><code>  #!&#x2F;usr&#x2F;bin&#x2F;perl
  while (&lt;&gt;) {
      # various processing here
      # $ARGV is set to either &quot;-&quot; for piped input, or the current filename
      # $_ is the data of the current line
  } 
</code></pre>
That (&lt;&gt;) construct accepts data from stdin, redirection or file(s) named as arguments and iterates over the data.  There&#x27;s lots of things like that throughout the language.</div><br/><div id="36522910" class="c"><input type="checkbox" id="c-36522910" checked=""/><div class="controls bullet"><span class="by">jandrese</span><span>|</span><a href="#36517707">root</a><span>|</span><a href="#36519044">parent</a><span>|</span><a href="#36519776">next</a><span>|</span><label class="collapse" for="c-36522910">[-]</label><label class="expand" for="c-36522910">[1 more]</label></div><br/><div class="children"><div class="content">And you can avoid even that minor boilerplate with the -n or -p flag.  It even supports BEGIN and END like awk.</div><br/></div></div></div></div><div id="36519776" class="c"><input type="checkbox" id="c-36519776" checked=""/><div class="controls bullet"><span class="by">IggleSniggle</span><span>|</span><a href="#36517707">root</a><span>|</span><a href="#36518243">parent</a><span>|</span><a href="#36519044">prev</a><span>|</span><a href="#36518868">next</a><span>|</span><label class="collapse" for="c-36519776">[-]</label><label class="expand" for="c-36519776">[2 more]</label></div><br/><div class="children"><div class="content">I write bash python and nodejs all day, and have no professional history with Perl.<p>One day while avoiding working on something important, I spent half a day learning Perl in order to implement something related to a build tool that was being used in the important thing I was avoiding.<p>I was blown away. It&#x27;s a really delightful language. Its big downfall is that it makes it feel good to do something &quot;clever.&quot;<p>Perl is a joy to write, and a devil to read. I liked it, and wish I had started my career earlier so I could have enjoyed Perl in its heyday.<p>I have similar feelings about Ruby.</div><br/><div id="36521873" class="c"><input type="checkbox" id="c-36521873" checked=""/><div class="controls bullet"><span class="by">gpvos</span><span>|</span><a href="#36517707">root</a><span>|</span><a href="#36519776">parent</a><span>|</span><a href="#36518868">next</a><span>|</span><label class="collapse" for="c-36521873">[-]</label><label class="expand" for="c-36521873">[1 more]</label></div><br/><div class="children"><div class="content">You need to make sure that you write the clever bits clearly. Maybe add a comment. It takes some discipline, but isn&#x27;t hard.<p>In fact, Perl remains remarkably robust if you stack clever tricks on top of each other.</div><br/></div></div></div></div><div id="36518868" class="c"><input type="checkbox" id="c-36518868" checked=""/><div class="controls bullet"><span class="by">throw0101a</span><span>|</span><a href="#36517707">root</a><span>|</span><a href="#36518243">parent</a><span>|</span><a href="#36519776">prev</a><span>|</span><a href="#36518409">next</a><span>|</span><label class="collapse" for="c-36518868">[-]</label><label class="expand" for="c-36518868">[1 more]</label></div><br/><div class="children"><div class="content">&gt; <i>Perl? Wow. Is that better than bash, python or even nodejs? Why write in Perl over these?</i><p>It depends on scale.<p>If you have some quick parsing to do, then awk will get you started quickly, but as you expand your experimentation on what you want to extract&#x2F;manipulate, it may not be easy to add onto the awk beginnings of your &quot;one liner&quot;.<p>But if you start with awk-like† syntax but invoking it with Perl, then if you find you have to expand, Perl has more elbow room.<p>The intention is not to &#x27;go big&#x27;, which those other languages may be better at, but to more easily &#x27;start small&#x27;.<p>† IIRC, Larry Wall wanted a utility that had awk&#x2F;(s)ed-like syntax for text manipulation, just &#x27;with more&#x27;.</div><br/></div></div><div id="36518409" class="c"><input type="checkbox" id="c-36518409" checked=""/><div class="controls bullet"><span class="by">gpvos</span><span>|</span><a href="#36517707">root</a><span>|</span><a href="#36518243">parent</a><span>|</span><a href="#36518868">prev</a><span>|</span><a href="#36519053">next</a><span>|</span><label class="collapse" for="c-36518409">[-]</label><label class="expand" for="c-36518409">[2 more]</label></div><br/><div class="children"><div class="content">Absolutely. It is comparable to python in some ways, but makes it much easier to write quick one-liners using regexes and data manipulation, and to scale those up to real programs. It fills the gap between bash scripts using awk, grep and sed, and C&#x2F;java&#x2F;C#. Compared to bash scripting, perl is a real programming language. The documentation and library ecosystem are excellent, backwards compatibility is legendary, yet it supports modern Unicode. The syntax is weird, but try it for a bit, read the man pages, it&#x27;s not that hard. The OO system is weirder, and I wouldn&#x27;t make complex class hierarchies in it, but it is usable.</div><br/><div id="36518894" class="c"><input type="checkbox" id="c-36518894" checked=""/><div class="controls bullet"><span class="by">marttt</span><span>|</span><a href="#36517707">root</a><span>|</span><a href="#36518409">parent</a><span>|</span><a href="#36519053">next</a><span>|</span><label class="collapse" for="c-36518894">[-]</label><label class="expand" for="c-36518894">[1 more]</label></div><br/><div class="children"><div class="content">I like how Awk is just a single executable. A single-executable Perl that includes only the core library would be great. There is Microperl [0, 1], but no idea how well it compiles with more up-to-date Perl versions.<p>0: <a href="https:&#x2F;&#x2F;github.com&#x2F;bentxt&#x2F;microperl-standalone">https:&#x2F;&#x2F;github.com&#x2F;bentxt&#x2F;microperl-standalone</a><p>1: Original article from 2000 by the author Simon Cozens: <a href="https:&#x2F;&#x2F;www.foo.be&#x2F;docs&#x2F;tpj&#x2F;issues&#x2F;vol5_3&#x2F;tpj0503-0003.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.foo.be&#x2F;docs&#x2F;tpj&#x2F;issues&#x2F;vol5_3&#x2F;tpj0503-0003.html</a></div><br/></div></div></div></div><div id="36519053" class="c"><input type="checkbox" id="c-36519053" checked=""/><div class="controls bullet"><span class="by">Woeps</span><span>|</span><a href="#36517707">root</a><span>|</span><a href="#36518243">parent</a><span>|</span><a href="#36518409">prev</a><span>|</span><a href="#36519584">next</a><span>|</span><label class="collapse" for="c-36519053">[-]</label><label class="expand" for="c-36519053">[8 more]</label></div><br/><div class="children"><div class="content">Perl better?  maybe or maybe not.<p>It can be very useful and they are pretty robust. 
I often found Perl scripts running for years and years without issues at different companies.<p>My main issue with Perl-scripts is that they often are not &quot;readable&quot; by anybody but the original creator.   Which of course left the company. (not a fault of Perl itself tough)<p>But your millage may vary and any script can be made (un)readable.</div><br/><div id="36523004" class="c"><input type="checkbox" id="c-36523004" checked=""/><div class="controls bullet"><span class="by">jandrese</span><span>|</span><a href="#36517707">root</a><span>|</span><a href="#36519053">parent</a><span>|</span><a href="#36519514">next</a><span>|</span><label class="collapse" for="c-36523004">[-]</label><label class="expand" for="c-36523004">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve always found it weird that people bash on Perl relentlessly for being hard to read and then turn around and praise Rust&#x27;s syntax when it is full of stuff like this:<p><pre><code>    fn print_d(t: &amp;&#x27;static impl Display) {</code></pre></div><br/></div></div><div id="36519514" class="c"><input type="checkbox" id="c-36519514" checked=""/><div class="controls bullet"><span class="by">thesuperbigfrog</span><span>|</span><a href="#36517707">root</a><span>|</span><a href="#36519053">parent</a><span>|</span><a href="#36523004">prev</a><span>|</span><a href="#36519584">next</a><span>|</span><label class="collapse" for="c-36519514">[-]</label><label class="expand" for="c-36519514">[6 more]</label></div><br/><div class="children"><div class="content">&gt;&gt; My main issue with Perl-scripts is that they often are not &quot;readable&quot; by anybody but the original creator.<p>Anyone writing Perl scripts like this should not be trusted with <i>any</i> programming language.<p>Perl scripts are no less readable than bash scripts or Awk scripts.  This is because so much of Perl was written to do the same work as bash, awk, sed, and the other related Unix text processing command line programs, but all under one roof.<p>Don&#x27;t believe me?  Take a look for yourself:<p><a href="https:&#x2F;&#x2F;learn.perl.org&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;learn.perl.org&#x2F;</a><p><a href="http:&#x2F;&#x2F;blob.perl.org&#x2F;books&#x2F;impatient-perl&#x2F;iperl.htm" rel="nofollow noreferrer">http:&#x2F;&#x2F;blob.perl.org&#x2F;books&#x2F;impatient-perl&#x2F;iperl.htm</a></div><br/><div id="36525298" class="c"><input type="checkbox" id="c-36525298" checked=""/><div class="controls bullet"><span class="by">ilovecurl</span><span>|</span><a href="#36517707">root</a><span>|</span><a href="#36519514">parent</a><span>|</span><a href="#36519584">next</a><span>|</span><label class="collapse" for="c-36525298">[-]</label><label class="expand" for="c-36525298">[5 more]</label></div><br/><div class="children"><div class="content">Perl can also be hilariously unreadable:   <a href="https:&#x2F;&#x2F;www.foo.be&#x2F;docs&#x2F;tpj&#x2F;issues&#x2F;vol4_3&#x2F;tpj0403-0017.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.foo.be&#x2F;docs&#x2F;tpj&#x2F;issues&#x2F;vol4_3&#x2F;tpj0403-0017.html</a></div><br/><div id="36525892" class="c"><input type="checkbox" id="c-36525892" checked=""/><div class="controls bullet"><span class="by">thesuperbigfrog</span><span>|</span><a href="#36517707">root</a><span>|</span><a href="#36525298">parent</a><span>|</span><a href="#36519584">next</a><span>|</span><label class="collapse" for="c-36525892">[-]</label><label class="expand" for="c-36525892">[4 more]</label></div><br/><div class="children"><div class="content">&gt;&gt; Perl can also be hilariously unreadable: <a href="https:&#x2F;&#x2F;www.foo.be&#x2F;docs&#x2F;tpj&#x2F;issues&#x2F;vol4_3&#x2F;tpj0403-0017.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.foo.be&#x2F;docs&#x2F;tpj&#x2F;issues&#x2F;vol4_3&#x2F;tpj0403-0017.html</a><p>Most programming languages can be obfuscated.  That does not mean people write code in those programming languages like that:<p>C:  <a href="https:&#x2F;&#x2F;www.ioccc.org&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.ioccc.org&#x2F;</a><p>Javascript:  view-source:<a href="https:&#x2F;&#x2F;www.google.com&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.google.com&#x2F;</a><p>The truth is that insulting Perl is considered stylish by some, so many people do despite knowing little to nothing about Perl and having never used it.<p>However, if you <i>want</i> Perl to be <i>hilariously unreadable</i>, why not write it in Latin:<p><a href="https:&#x2F;&#x2F;metacpan.org&#x2F;dist&#x2F;Lingua-Romana-Perligata&#x2F;view&#x2F;lib&#x2F;Lingua&#x2F;Romana&#x2F;Perligata.pm" rel="nofollow noreferrer">https:&#x2F;&#x2F;metacpan.org&#x2F;dist&#x2F;Lingua-Romana-Perligata&#x2F;view&#x2F;lib&#x2F;L...</a><p>Or Klingon:<p><a href="https:&#x2F;&#x2F;metacpan.org&#x2F;pod&#x2F;Lingua::tlhInganHol::yIghun" rel="nofollow noreferrer">https:&#x2F;&#x2F;metacpan.org&#x2F;pod&#x2F;Lingua::tlhInganHol::yIghun</a></div><br/></div></div></div></div></div></div></div></div><div id="36519584" class="c"><input type="checkbox" id="c-36519584" checked=""/><div class="controls bullet"><span class="by">throwawaaarrgh</span><span>|</span><a href="#36517707">root</a><span>|</span><a href="#36518243">parent</a><span>|</span><a href="#36519053">prev</a><span>|</span><a href="#36520713">next</a><span>|</span><label class="collapse" for="c-36519584">[-]</label><label class="expand" for="c-36519584">[2 more]</label></div><br/><div class="children"><div class="content">Have you ever tried to dig a hole? What tool did you use?<p>- Want to cut through and move loam, compost, sandy, and compacted soil? You&#x27;re gonna want a rounded shovel.<p>- Want to break up rocky, clay soil? A pick mattock will penetrate deep, breaking up soil, shattering smaller rocks, and is used as a lever to uproot. A tiller is a faster method but disturbs the soil more.<p>- Want to dig a narrow, deep hole? An augur will quickly break up rocks and soil in a shaft and move them upwards.<p>What do you use the Perl tool for?<p>- Quickly and efficiently open files, read line by line, analyze text, and perform any kind of operation you can think of, with complex data structures, objects and modular code, using very few lines of code.<p>- Executing external commands with a shell, returning their output, and making complex yet short programs easily with arguments to the interpreter from a command line.</div><br/><div id="36526799" class="c"><input type="checkbox" id="c-36526799" checked=""/><div class="controls bullet"><span class="by">anthk</span><span>|</span><a href="#36517707">root</a><span>|</span><a href="#36519584">parent</a><span>|</span><a href="#36520713">next</a><span>|</span><label class="collapse" for="c-36526799">[-]</label><label class="expand" for="c-36526799">[1 more]</label></div><br/><div class="children"><div class="content">Perl can do sh&#x2F;awk&#x2F;sed and a bunch more at once.</div><br/></div></div></div></div><div id="36520713" class="c"><input type="checkbox" id="c-36520713" checked=""/><div class="controls bullet"><span class="by">theonemind</span><span>|</span><a href="#36517707">root</a><span>|</span><a href="#36518243">parent</a><span>|</span><a href="#36519584">prev</a><span>|</span><a href="#36519780">next</a><span>|</span><label class="collapse" for="c-36520713">[-]</label><label class="expand" for="c-36520713">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s a limited problem domain where it&#x27;s unquestionably the best. Perl beats awk and bash at their own game on their home turf. That&#x27;s the best way to put it. It&#x27;s faster, has more shortcuts, less warts, more power, and more readability when well written, and while aged and not huge by modern standards, CPAN (like pypi or npm) is incredible for a hyper-powered awk and bash mash-up for those tasks at the edge of of that limited problem domain. It&#x27;s installed almost everywhere, so almost always available.<p>That stuff is just awkward and painful in Python by comparison.</div><br/></div></div><div id="36519780" class="c"><input type="checkbox" id="c-36519780" checked=""/><div class="controls bullet"><span class="by">j1elo</span><span>|</span><a href="#36517707">root</a><span>|</span><a href="#36518243">parent</a><span>|</span><a href="#36520713">prev</a><span>|</span><a href="#36521516">next</a><span>|</span><label class="collapse" for="c-36519780">[-]</label><label class="expand" for="c-36519780">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t write Perl code, but its CLI has been a very good way to replace <i>sed</i> with something decent. <i>sed</i> not supoorting Perl regex syntax, the most commonly kind of regex out there by large, is frankly disappointing. Even <i>grep</i> was able to put it together and add the <i>-P</i> switch. But <i>sed</i> is still stuck in the prehistoric syntax of ERE (&quot;Extended Regular Expressions&quot;, as described in man pages) which e.g. instead of <i>\d</i> for a digit, use <i>[[:digit:]]</i>, a syntax present in... zero? other tools or programming environments.</div><br/></div></div><div id="36521516" class="c"><input type="checkbox" id="c-36521516" checked=""/><div class="controls bullet"><span class="by">bandrami</span><span>|</span><a href="#36517707">root</a><span>|</span><a href="#36518243">parent</a><span>|</span><a href="#36519780">prev</a><span>|</span><a href="#36520246">next</a><span>|</span><label class="collapse" for="c-36521516">[-]</label><label class="expand" for="c-36521516">[1 more]</label></div><br/><div class="children"><div class="content">Perl is super-specialized at reporting (that&#x27;s in fact the &quot;r&quot; in Perl). In particular there&#x27;s a bunch of extremely useful implicitly defined variables that take their context from your place in a line-by-line loop through a text file.</div><br/></div></div><div id="36520246" class="c"><input type="checkbox" id="c-36520246" checked=""/><div class="controls bullet"><span class="by">ilc</span><span>|</span><a href="#36517707">root</a><span>|</span><a href="#36518243">parent</a><span>|</span><a href="#36521516">prev</a><span>|</span><a href="#36523846">next</a><span>|</span><label class="collapse" for="c-36520246">[-]</label><label class="expand" for="c-36520246">[1 more]</label></div><br/><div class="children"><div class="content">Perl is a great language, but please listen to this old perl programmer&#x27;s advice:<p>1. You can write totally unreadable perl.  It is probably the single worst language in this regard most programmers will run into.  Be careful to make your code readable.<p>2. Keep your amount of perl small.  200-300 lines is a good bit of it.<p>So for quick bang it out scripts that want to parse text etc... perl is great.  For writing a major application, not so much.</div><br/></div></div><div id="36523846" class="c"><input type="checkbox" id="c-36523846" checked=""/><div class="controls bullet"><span class="by">sigzero</span><span>|</span><a href="#36517707">root</a><span>|</span><a href="#36518243">parent</a><span>|</span><a href="#36520246">prev</a><span>|</span><a href="#36520577">next</a><span>|</span><label class="collapse" for="c-36523846">[-]</label><label class="expand" for="c-36523846">[1 more]</label></div><br/><div class="children"><div class="content">Better than BASH? Mostly. Better than Python, subjective as you would have to use them both yourself. I lean towards Perl as I like sigils to denote things. I have nothing against Python though. Both are typically installed as a default now. I have never used nodejs for sys admin work.</div><br/></div></div><div id="36520577" class="c"><input type="checkbox" id="c-36520577" checked=""/><div class="controls bullet"><span class="by">SoftTalker</span><span>|</span><a href="#36517707">root</a><span>|</span><a href="#36518243">parent</a><span>|</span><a href="#36523846">prev</a><span>|</span><a href="#36524672">next</a><span>|</span><label class="collapse" for="c-36520577">[-]</label><label class="expand" for="c-36520577">[1 more]</label></div><br/><div class="children"><div class="content">One other advantage is that Perl will be found in the base install of almost any unix-like system. Python, nodejs, even bash may not.</div><br/></div></div><div id="36524672" class="c"><input type="checkbox" id="c-36524672" checked=""/><div class="controls bullet"><span class="by">radiator</span><span>|</span><a href="#36517707">root</a><span>|</span><a href="#36518243">parent</a><span>|</span><a href="#36520577">prev</a><span>|</span><a href="#36522805">next</a><span>|</span><label class="collapse" for="c-36524672">[-]</label><label class="expand" for="c-36524672">[1 more]</label></div><br/><div class="children"><div class="content">When discussing such languages, I would like to point out that Raku is also an option.</div><br/></div></div></div></div></div></div><div id="36522805" class="c"><input type="checkbox" id="c-36522805" checked=""/><div class="controls bullet"><span class="by">PhilipRoman</span><span>|</span><a href="#36517707">parent</a><span>|</span><a href="#36518031">prev</a><span>|</span><a href="#36517909">next</a><span>|</span><label class="collapse" for="c-36522805">[-]</label><label class="expand" for="c-36522805">[1 more]</label></div><br/><div class="children"><div class="content">I find it pretty nice for writing simple preprocessors. For example I have one which takes anything between two marker lines and pipes it through a command (one invocation per block). Awk has an amazing pipe operator which lets you do something like this:<p><pre><code>    ... {
        print $0 | &quot;command&quot;
    }
</code></pre>
&quot;command&quot; is executed once, and the pipe is kept open until closed explicitly by close(&quot;command&quot;), at which point the next invocation will execute it again. The command string itself acts as a key for the pipe file descriptor.<p>And of course, no mention of awk is complete without the &quot;uniq&quot; implementation, which beats the coreutils uniq in every way possible (by supporting arbitrary expressions as keys and not requiring sorted input):<p><pre><code>    !a[$0]++</code></pre></div><br/></div></div><div id="36517909" class="c"><input type="checkbox" id="c-36517909" checked=""/><div class="controls bullet"><span class="by">tripflag</span><span>|</span><a href="#36517707">parent</a><span>|</span><a href="#36522805">prev</a><span>|</span><a href="#36517782">next</a><span>|</span><label class="collapse" for="c-36517909">[-]</label><label class="expand" for="c-36517909">[1 more]</label></div><br/><div class="children"><div class="content">I have found a handful of unconventional applications for awk -- I once needed a tiny pcm pulsewave generator, and awk was surprisingly decent for the job [1].<p>Aside from that I&#x27;ve mostly been using it for quick statistics [2], but it quickly moves into perl territory...<p>1: <a href="https:&#x2F;&#x2F;github.com&#x2F;9001&#x2F;asm&#x2F;blob&#x2F;hovudstraum&#x2F;etc&#x2F;bin&#x2F;beeps#L69-L88">https:&#x2F;&#x2F;github.com&#x2F;9001&#x2F;asm&#x2F;blob&#x2F;hovudstraum&#x2F;etc&#x2F;bin&#x2F;beeps#L...</a><p>2: <a href="https:&#x2F;&#x2F;ocv.me&#x2F;doc&#x2F;unix&#x2F;oneliners&#x2F;#965bfcb8" rel="nofollow noreferrer">https:&#x2F;&#x2F;ocv.me&#x2F;doc&#x2F;unix&#x2F;oneliners&#x2F;#965bfcb8</a></div><br/></div></div><div id="36517782" class="c"><input type="checkbox" id="c-36517782" checked=""/><div class="controls bullet"><span class="by">bluetomcat</span><span>|</span><a href="#36517707">parent</a><span>|</span><a href="#36517909">prev</a><span>|</span><a href="#36517784">next</a><span>|</span><label class="collapse" for="c-36517782">[-]</label><label class="expand" for="c-36517782">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a language for creating quick alternative views from line- and column-oriented text streams. That means, take the output of another tool and represent it in a different way.</div><br/></div></div><div id="36517784" class="c"><input type="checkbox" id="c-36517784" checked=""/><div class="controls bullet"><span class="by">asicsp</span><span>|</span><a href="#36517707">parent</a><span>|</span><a href="#36517782">prev</a><span>|</span><a href="#36523769">next</a><span>|</span><label class="collapse" for="c-36517784">[-]</label><label class="expand" for="c-36517784">[1 more]</label></div><br/><div class="children"><div class="content">I use awk mostly for one-liners and resort to Python when I need more than a few lines of code.</div><br/></div></div></div></div><div id="36523769" class="c"><input type="checkbox" id="c-36523769" checked=""/><div class="controls bullet"><span class="by">MikeTheGreat</span><span>|</span><a href="#36517707">prev</a><span>|</span><a href="#36518113">next</a><span>|</span><label class="collapse" for="c-36523769">[-]</label><label class="expand" for="c-36523769">[3 more]</label></div><br/><div class="children"><div class="content">Ok, dumb question: Is the link supposed to link to the actual book (i.e., is the book free and&#x2F;or open source) or is this just a page of miscellaneous interesting links about the book (which we can pay for, later, when it&#x27;s published).<p>I was expecting the book, but the page itself says &quot;This page is a placeholder for material related to the second edition of The AWK Programming Language.&quot;<p>It&#x27;s fine if this is a placeholder page (and an awesome excuse to read talk about AWK here on HN :) ) but I want to be sure that I&#x27;m not missing the book itself.</div><br/><div id="36523841" class="c"><input type="checkbox" id="c-36523841" checked=""/><div class="controls bullet"><span class="by">RGBCube</span><span>|</span><a href="#36523769">parent</a><span>|</span><a href="#36528292">next</a><span>|</span><label class="collapse" for="c-36523841">[-]</label><label class="expand" for="c-36523841">[1 more]</label></div><br/><div class="children"><div class="content">What I understand from the page is that the Second Edition of the book will reside in the page when it is released (the reason why it says it is a &quot;placeholder&quot;).</div><br/></div></div><div id="36528292" class="c"><input type="checkbox" id="c-36528292" checked=""/><div class="controls bullet"><span class="by">_ph_</span><span>|</span><a href="#36523769">parent</a><span>|</span><a href="#36523841">prev</a><span>|</span><a href="#36518113">next</a><span>|</span><label class="collapse" for="c-36528292">[-]</label><label class="expand" for="c-36528292">[1 more]</label></div><br/><div class="children"><div class="content">I think the page description is quite clear: it contains material related to the book. Not the book itself. So I would guess all downloadable code and perhaps supplementory material.</div><br/></div></div></div></div><div id="36518113" class="c"><input type="checkbox" id="c-36518113" checked=""/><div class="controls bullet"><span class="by">bsdooby</span><span>|</span><a href="#36523769">prev</a><span>|</span><a href="#36519310">next</a><span>|</span><label class="collapse" for="c-36518113">[-]</label><label class="expand" for="c-36518113">[5 more]</label></div><br/><div class="children"><div class="content">Currently looking @ alternatives (not that I dislike AWK, far from it):<p>Tokay: <a href="https:&#x2F;&#x2F;github.com&#x2F;tokay-lang&#x2F;tokay">https:&#x2F;&#x2F;github.com&#x2F;tokay-lang&#x2F;tokay</a><p>frawk: <a href="https:&#x2F;&#x2F;github.com&#x2F;ezrosent&#x2F;frawk">https:&#x2F;&#x2F;github.com&#x2F;ezrosent&#x2F;frawk</a></div><br/><div id="36519349" class="c"><input type="checkbox" id="c-36519349" checked=""/><div class="controls bullet"><span class="by">lambertsimnel</span><span>|</span><a href="#36518113">parent</a><span>|</span><a href="#36520667">next</a><span>|</span><label class="collapse" for="c-36519349">[-]</label><label class="expand" for="c-36519349">[1 more]</label></div><br/><div class="children"><div class="content">Have you considered tab?<p><a href="https:&#x2F;&#x2F;tkatchev.bitbucket.io&#x2F;tab&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;tkatchev.bitbucket.io&#x2F;tab&#x2F;</a></div><br/></div></div><div id="36520667" class="c"><input type="checkbox" id="c-36520667" checked=""/><div class="controls bullet"><span class="by">geophile</span><span>|</span><a href="#36518113">parent</a><span>|</span><a href="#36519349">prev</a><span>|</span><a href="#36518541">next</a><span>|</span><label class="collapse" for="c-36520667">[-]</label><label class="expand" for="c-36520667">[1 more]</label></div><br/><div class="children"><div class="content">Take a look at marcel: <a href="https:&#x2F;&#x2F;github.com&#x2F;geophile&#x2F;marcel">https:&#x2F;&#x2F;github.com&#x2F;geophile&#x2F;marcel</a></div><br/></div></div><div id="36518541" class="c"><input type="checkbox" id="c-36518541" checked=""/><div class="controls bullet"><span class="by">sgu999</span><span>|</span><a href="#36518113">parent</a><span>|</span><a href="#36520667">prev</a><span>|</span><a href="#36519310">next</a><span>|</span><label class="collapse" for="c-36518541">[-]</label><label class="expand" for="c-36518541">[2 more]</label></div><br/><div class="children"><div class="content">What do you think of them? Tokay in particular looks very polished.</div><br/><div id="36518707" class="c"><input type="checkbox" id="c-36518707" checked=""/><div class="controls bullet"><span class="by">bsdooby</span><span>|</span><a href="#36518113">root</a><span>|</span><a href="#36518541">parent</a><span>|</span><a href="#36519310">next</a><span>|</span><label class="collapse" for="c-36518707">[-]</label><label class="expand" for="c-36518707">[1 more]</label></div><br/><div class="children"><div class="content">TBH: no conclusion yet (did not find time ATM to try it out in fill detail)...sorry</div><br/></div></div></div></div></div></div><div id="36519310" class="c"><input type="checkbox" id="c-36519310" checked=""/><div class="controls bullet"><span class="by">technofiend</span><span>|</span><a href="#36518113">prev</a><span>|</span><a href="#36523877">next</a><span>|</span><label class="collapse" for="c-36519310">[-]</label><label class="expand" for="c-36519310">[1 more]</label></div><br/><div class="children"><div class="content">Seems like the best time to ask since this is an awk thread: if anyone has a line on the original artwork or a source for the awk t-shirt please let me know. From memory it&#x27;s of a gangly bird jumping &#x2F; parachuting from an airplane (DC3?) and captioned with awk&#x27;s infamous catch-all error message: &quot;Awk: bailing out near line one&quot;.</div><br/></div></div><div id="36523877" class="c"><input type="checkbox" id="c-36523877" checked=""/><div class="controls bullet"><span class="by">getpost</span><span>|</span><a href="#36519310">prev</a><span>|</span><a href="#36527858">next</a><span>|</span><label class="collapse" for="c-36523877">[-]</label><label class="expand" for="c-36523877">[8 more]</label></div><br/><div class="children"><div class="content">I know lots of people like awk, but I pretend it doesn&#x27;t exist. Why? Here&#x27;s my comment on this from 6 years ago[0],<p>&gt;I used awk until I learned Python (long ago). For me, awk was yet another example of the &quot;worse is better&quot; approach to things so common in unix. For example, if you make a syntax error, you might get a message like &quot;glob: exec error,&quot; rather than an informative message. &quot;Worse is better&quot; is probably a good strategy in business and for getting things done, but still, mediocrity and the sense of entitlement that so often goes with carelessness, sickens me.<p>[0] <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=13457265">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=13457265</a><p>Long live the Unix Hater&#x27;s Handbook! (Unix is fine, and so are the criticisms herein. Some of these criticisms have been eclipsed by ongoing development.)
<a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;The_UNIX-HATERS_Handbook" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;The_UNIX-HATERS_Handbook</a></div><br/><div id="36524234" class="c"><input type="checkbox" id="c-36524234" checked=""/><div class="controls bullet"><span class="by">ghshephard</span><span>|</span><a href="#36523877">parent</a><span>|</span><a href="#36526302">next</a><span>|</span><label class="collapse" for="c-36524234">[-]</label><label class="expand" for="c-36524234">[4 more]</label></div><br/><div class="children"><div class="content">You are missing out.   As a former data engineer&#x2F;current SRE, I spend my entire day with VSCode&#x2F;Python&#x2F;Notebooks&#x2F;CoPilot banging out python code - but whenever I need to do a complex analysis of a semistructured text file in &lt; 60 seconds, awk is my twitch reflex tool.   It can trivially do state transition based on patterns in the file, as well as populate hashes from one file and use them in analysis of the next file in just a few characters.<p>Awk&#x27;s claim to fame in my world is that it&#x27;s cognitive activation energy for anyone who has taken the 3-4 hours to learn the language from start to finish (and that&#x27;s the awesome thing about the language - it really is about 3 hours of concentrated attention) - is essentially nil.    You see a bunch of ugly not really structured text 500 MB files that you can&#x27;t pull into pandas, or easily parse into python dicts?   No problem - awk will tear through them for you and get the information you want in &lt; 60 seconds, including the time you took to write your (almostl always single line) of code.<p>That&#x27;s Awk&#x27;s sweet spot.</div><br/><div id="36524394" class="c"><input type="checkbox" id="c-36524394" checked=""/><div class="controls bullet"><span class="by">getpost</span><span>|</span><a href="#36523877">root</a><span>|</span><a href="#36524234">parent</a><span>|</span><a href="#36525134">next</a><span>|</span><label class="collapse" for="c-36524394">[-]</label><label class="expand" for="c-36524394">[2 more]</label></div><br/><div class="children"><div class="content">Point taken. I have a Python program that is an elemental version of awk, and I use that for the odd task. I can modify it if needed and I have the entire Python library to help me. Is the text Unicode? HTML? These little details matter.<p>I&#x27;m not complaining that someone banged out awk (speaking figuratively) on a Friday afternoon to do something and not have to stay after work. Excellent! My complaint is that the failure to address technical debt has negatively affected the productivity of millions, if not tens of millions, of people, often working under pressure, for DECADES.</div><br/><div id="36525668" class="c"><input type="checkbox" id="c-36525668" checked=""/><div class="controls bullet"><span class="by">ghshephard</span><span>|</span><a href="#36523877">root</a><span>|</span><a href="#36524394">parent</a><span>|</span><a href="#36525134">next</a><span>|</span><label class="collapse" for="c-36525668">[-]</label><label class="expand" for="c-36525668">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not sure what technical debt you are referring to.   Awk is designed to do one very simple job, and it does so using a language that I can usually teach to new SREs in &lt; 2 Hours with 9-10 follow up tasks that drill in their understanding.<p>It&#x27;s benefited from extraordinarily enlightened stewardship, kept it&#x27;s minimalism and strengths, and will finally get a key enhancement (UTF-8 support).<p>The first edition manual is probably the greatest example I&#x27;ve ever seen of technical writing as well.</div><br/></div></div></div></div><div id="36525134" class="c"><input type="checkbox" id="c-36525134" checked=""/><div class="controls bullet"><span class="by">classichasclass</span><span>|</span><a href="#36523877">root</a><span>|</span><a href="#36524234">parent</a><span>|</span><a href="#36524394">prev</a><span>|</span><a href="#36526302">next</a><span>|</span><label class="collapse" for="c-36525134">[-]</label><label class="expand" for="c-36525134">[1 more]</label></div><br/><div class="children"><div class="content">In general Perl fits that niche for me better, but sometimes awk is what you have.</div><br/></div></div></div></div><div id="36526302" class="c"><input type="checkbox" id="c-36526302" checked=""/><div class="controls bullet"><span class="by">momentoftop</span><span>|</span><a href="#36523877">parent</a><span>|</span><a href="#36524234">prev</a><span>|</span><a href="#36525997">next</a><span>|</span><label class="collapse" for="c-36526302">[-]</label><label class="expand" for="c-36526302">[1 more]</label></div><br/><div class="children"><div class="content">Specifically, Awk is a good solution to a problem that should never have existed in the first place. Why am I having to write these bespoke parsers for the random mess of output formats that you get from the UNIX command line?<p>Well, the fact is that I have to write such parsers. That&#x27;s very sad, but has no chance of being fixed. So it&#x27;s good to know Awk.<p>I think Erik Naggum had this exact criticism of Perl.</div><br/></div></div><div id="36525997" class="c"><input type="checkbox" id="c-36525997" checked=""/><div class="controls bullet"><span class="by">pmarreck</span><span>|</span><a href="#36523877">parent</a><span>|</span><a href="#36526302">prev</a><span>|</span><a href="#36527858">next</a><span>|</span><label class="collapse" for="c-36525997">[-]</label><label class="expand" for="c-36525997">[2 more]</label></div><br/><div class="children"><div class="content">I will bet you $1000 that time spent learning Awk will lead to better results much faster than time spent polluting your privileged user directories with Python&#x27;s excuse for &quot;dependency management&quot;</div><br/><div id="36530680" class="c"><input type="checkbox" id="c-36530680" checked=""/><div class="controls bullet"><span class="by">paleface</span><span>|</span><a href="#36523877">root</a><span>|</span><a href="#36525997">parent</a><span>|</span><a href="#36527858">next</a><span>|</span><label class="collapse" for="c-36530680">[-]</label><label class="expand" for="c-36530680">[1 more]</label></div><br/><div class="children"><div class="content">I agree entirely!<p>For many python users, it’s the only language they know. Often, they see programming in python, as part of their “identity” - so they’re overly invested in it, to the detriment of other wonderful languages, like awk.<p>I used to code perl myself, back in the day - but I came to appreciate the simplicity of awk, and now it’s one of my favourites. I no longer code perl, as a consequence, as I believe awk to be far more elegant! I wouldn’t have done so, if I was overly invested in being a “perl programmer”.</div><br/></div></div></div></div></div></div><div id="36527858" class="c"><input type="checkbox" id="c-36527858" checked=""/><div class="controls bullet"><span class="by">ineedasername</span><span>|</span><a href="#36523877">prev</a><span>|</span><a href="#36517769">next</a><span>|</span><label class="collapse" for="c-36527858">[-]</label><label class="expand" for="c-36527858">[1 more]</label></div><br/><div class="children"><div class="content">Amazing, takes me back.<p>~<p>One of my first big projects at my first job fresh out of college was using sed &amp; awk to semi-automate the transformation of semi-unstructured data into a database.<p>IIRC I couldn&#x27;t completely automate because it contained author names, from global naming conventions. (parsing names correctly is deceptively complex) They had somewhat arbitrary #&#x27;s of initials ranging from 0-3.<p>Again, IIRC, I could easily accommodate 0 or 1 initial (followed by \.) but trying for more would make the regex I was using too greedy and pull in part of the article abstract. These were scientific books and journals.<p>So I scripted a sed &amp; awk program to detect the possibility of &gt; 1 initials and when that occured, I&#x27;d pipe the record into nano for a quick review where I manually inserted the correct \. characters for the initials.<p>It was decades of back-catalogue publications for digitization so I sat there for days, listening to music on an original 1st gen iPod, waiting for my duct-taped kludge of a program to pipe one of thousands of records into a nano session every few minutes. This was on an Apple G4 workstation running OS X, where I earned my real bash scripting chops. It was an awful hack by today&#x27;s standards, but at the time, accomplishing what was expected to be a 1-year long project in ~1 month, it was seen as nearly miraculous.</div><br/></div></div><div id="36517769" class="c"><input type="checkbox" id="c-36517769" checked=""/><div class="controls bullet"><span class="by">asicsp</span><span>|</span><a href="#36527858">prev</a><span>|</span><a href="#36518265">next</a><span>|</span><label class="collapse" for="c-36517769">[-]</label><label class="expand" for="c-36517769">[1 more]</label></div><br/><div class="children"><div class="content">Have to wait, as &quot;The book will be available by the end of September&quot;<p>See <a href="https:&#x2F;&#x2F;hn.algolia.com&#x2F;?q=The+AWK+Programming+Language" rel="nofollow noreferrer">https:&#x2F;&#x2F;hn.algolia.com&#x2F;?q=The+AWK+Programming+Language</a> for discussion on the first edition<p>Didn&#x27;t know there was a list of `awk` implementations: <a href="https:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;gawk&#x2F;manual&#x2F;html_node&#x2F;Other-Versions.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;gawk&#x2F;manual&#x2F;html_node&#x2F;Other-Ver...</a></div><br/></div></div><div id="36518265" class="c"><input type="checkbox" id="c-36518265" checked=""/><div class="controls bullet"><span class="by">kar1181</span><span>|</span><a href="#36517769">prev</a><span>|</span><a href="#36517864">next</a><span>|</span><label class="collapse" for="c-36518265">[-]</label><label class="expand" for="c-36518265">[1 more]</label></div><br/><div class="children"><div class="content">One of the first utilities I had to get to grips with way back was awk, and it serves me well to this day. Best bang for buck investment of time in my entire career. Even today I still use some variant of awk -F(x) &#x27;{print $x}&#x27;.</div><br/></div></div><div id="36517864" class="c"><input type="checkbox" id="c-36517864" checked=""/><div class="controls bullet"><span class="by">radiator</span><span>|</span><a href="#36518265">prev</a><span>|</span><a href="#36530150">next</a><span>|</span><label class="collapse" for="c-36517864">[-]</label><label class="expand" for="c-36517864">[1 more]</label></div><br/><div class="children"><div class="content">This is good news, because you have to pay a lot for a used copy of the first edition nowadays. I hope the spirit remains the same as in the first edition.</div><br/></div></div><div id="36530150" class="c"><input type="checkbox" id="c-36530150" checked=""/><div class="controls bullet"><span class="by">v3ss0n</span><span>|</span><a href="#36517864">prev</a><span>|</span><a href="#36517850">next</a><span>|</span><label class="collapse" for="c-36530150">[-]</label><label class="expand" for="c-36530150">[2 more]</label></div><br/><div class="children"><div class="content">Awk was great at its time, but when you need at write more than 5 lines of awk code please consider using python since<p>1. It is a lot faster than awk&#x2F;perl&#x2F;grep&#x2F;sed combos<p>2. Way a lot readable and maintainable<p>3. More powerful than awk with it&#x27;s string functionalities<p>4. Same availability as awk in OSs since last decade</div><br/></div></div><div id="36517850" class="c"><input type="checkbox" id="c-36517850" checked=""/><div class="controls bullet"><span class="by">DarkNova6</span><span>|</span><a href="#36530150">prev</a><span>|</span><a href="#36518219">next</a><span>|</span><label class="collapse" for="c-36517850">[-]</label><label class="expand" for="c-36517850">[2 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t know about Awk, but I feel the urge to write a library named &quot;ward&quot; for it.</div><br/><div id="36517886" class="c"><input type="checkbox" id="c-36517886" checked=""/><div class="controls bullet"><span class="by">schoen</span><span>|</span><a href="#36517850">parent</a><span>|</span><a href="#36518219">next</a><span>|</span><label class="collapse" for="c-36517886">[-]</label><label class="expand" for="c-36517886">[1 more]</label></div><br/><div class="children"><div class="content">Maybe the person who deals with security issues for an awk implementation could be called the awk ward.</div><br/></div></div></div></div><div id="36518219" class="c"><input type="checkbox" id="c-36518219" checked=""/><div class="controls bullet"><span class="by">ducktective</span><span>|</span><a href="#36517850">prev</a><span>|</span><a href="#36519079">next</a><span>|</span><label class="collapse" for="c-36518219">[-]</label><label class="expand" for="c-36518219">[3 more]</label></div><br/><div class="children"><div class="content">Also watch his recent interview on Computerphile: <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=GNyQxXw_oMQ">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=GNyQxXw_oMQ</a><p>And: 
Brian Kernighan adds Unicode support to Awk  
<a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=32534173">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=32534173</a></div><br/><div id="36518896" class="c"><input type="checkbox" id="c-36518896" checked=""/><div class="controls bullet"><span class="by">throw0101a</span><span>|</span><a href="#36518219">parent</a><span>|</span><a href="#36521186">next</a><span>|</span><label class="collapse" for="c-36518896">[-]</label><label class="expand" for="c-36518896">[1 more]</label></div><br/><div class="children"><div class="content">With Lex Friedman from ~2 years ago:<p>* <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=O9upVbGSBFo">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=O9upVbGSBFo</a></div><br/></div></div><div id="36521186" class="c"><input type="checkbox" id="c-36521186" checked=""/><div class="controls bullet"><span class="by">bardak</span><span>|</span><a href="#36518219">parent</a><span>|</span><a href="#36518896">prev</a><span>|</span><a href="#36519079">next</a><span>|</span><label class="collapse" for="c-36521186">[-]</label><label class="expand" for="c-36521186">[1 more]</label></div><br/><div class="children"><div class="content">Honestly after watching a lot of Kernighan interviews and reading his original book on C he is a very great communicator. I wonder how different the software world would have been without him at Bell Labs. Would Unix and C have become as widely used as quickly?</div><br/></div></div></div></div><div id="36519079" class="c"><input type="checkbox" id="c-36519079" checked=""/><div class="controls bullet"><span class="by">penguin_booze</span><span>|</span><a href="#36518219">prev</a><span>|</span><a href="#36528610">next</a><span>|</span><label class="collapse" for="c-36519079">[-]</label><label class="expand" for="c-36519079">[3 more]</label></div><br/><div class="children"><div class="content">I wish awk had support for addressing a range of fields, like from $1 to $7. `cut` supports it, FWIW.</div><br/><div id="36519978" class="c"><input type="checkbox" id="c-36519978" checked=""/><div class="controls bullet"><span class="by">mplanchard</span><span>|</span><a href="#36519079">parent</a><span>|</span><a href="#36528610">next</a><span>|</span><label class="collapse" for="c-36519978">[-]</label><label class="expand" for="c-36519978">[2 more]</label></div><br/><div class="children"><div class="content">You can always loop through the fields, but it’s a little messy, especially for one-liners</div><br/><div id="36523973" class="c"><input type="checkbox" id="c-36523973" checked=""/><div class="controls bullet"><span class="by">penguin_booze</span><span>|</span><a href="#36519079">root</a><span>|</span><a href="#36519978">parent</a><span>|</span><a href="#36528610">next</a><span>|</span><label class="collapse" for="c-36523973">[-]</label><label class="expand" for="c-36523973">[1 more]</label></div><br/><div class="children"><div class="content">Yes, that&#x27;s an option. The range lookup is an ergonomic feature. Imagne what it would have been like, if we couldn&#x27;t do foo[-3:] in Python.</div><br/></div></div></div></div></div></div><div id="36528610" class="c"><input type="checkbox" id="c-36528610" checked=""/><div class="controls bullet"><span class="by">threeio</span><span>|</span><a href="#36519079">prev</a><span>|</span><a href="#36521452">next</a><span>|</span><label class="collapse" for="c-36528610">[-]</label><label class="expand" for="c-36528610">[1 more]</label></div><br/><div class="children"><div class="content">I read the first edition so many times as a young kid... AWK was just such a cool name when I would go to the library and grab a book out of the stacks trying to learn something new.</div><br/></div></div><div id="36521452" class="c"><input type="checkbox" id="c-36521452" checked=""/><div class="controls bullet"><span class="by">csours</span><span>|</span><a href="#36528610">prev</a><span>|</span><a href="#36520263">next</a><span>|</span><label class="collapse" for="c-36521452">[-]</label><label class="expand" for="c-36521452">[2 more]</label></div><br/><div class="children"><div class="content">I FINALLY started learning awk in the past couple weeks. I think I was intimidated because awk can be very terse, and there are some default actions that aren&#x27;t clear when you first start looking at awk scripts.<p>My other problem is that I want to accomplish things, not learn a tool, and it generally takes me a bit longer than it should to decide to actually learn something and not just hack at it.<p>Is it still worth it to be &quot;the awk guy&quot; at work?</div><br/><div id="36523134" class="c"><input type="checkbox" id="c-36523134" checked=""/><div class="controls bullet"><span class="by">simmonmt</span><span>|</span><a href="#36521452">parent</a><span>|</span><a href="#36520263">next</a><span>|</span><label class="collapse" for="c-36523134">[-]</label><label class="expand" for="c-36523134">[1 more]</label></div><br/><div class="children"><div class="content">yes, because you&#x27;ll be done with your thing before others figure out how to lay out your spreadsheet. also your solution will be reusable.<p>(based on my experience where people who could&#x27;ve benefited from awk for a one-liner dependably reach for sheets&#x2F;excel rather than something like python or perl)</div><br/></div></div></div></div><div id="36520263" class="c"><input type="checkbox" id="c-36520263" checked=""/><div class="controls bullet"><span class="by">ahalbert</span><span>|</span><a href="#36521452">prev</a><span>|</span><a href="#36524834">next</a><span>|</span><label class="collapse" for="c-36520263">[-]</label><label class="expand" for="c-36520263">[8 more]</label></div><br/><div class="children"><div class="content">I love using Awk, the only thing I miss is that it can&#x27;t handle complex csv files. Does anyone know how to handle quoted CSV strings like<p>&gt; &quot;foo&quot;,&quot;bar,baz&quot;</div><br/><div id="36520655" class="c"><input type="checkbox" id="c-36520655" checked=""/><div class="controls bullet"><span class="by">geophile</span><span>|</span><a href="#36520263">parent</a><span>|</span><a href="#36520507">next</a><span>|</span><label class="collapse" for="c-36520655">[-]</label><label class="expand" for="c-36520655">[1 more]</label></div><br/><div class="children"><div class="content">I like the idea of Unix pipelines, but I hate all the sublanguages, awk being one of the biggest. I scratched my itch and built my own shell, marcel: <a href="https:&#x2F;&#x2F;github.com&#x2F;geophile&#x2F;marcel">https:&#x2F;&#x2F;github.com&#x2F;geophile&#x2F;marcel</a>.<p>I mention this specifically, here, because of the CSV point. Marcel handles CSV, e.g. &quot;read --csv foobar.csv&quot; reads the foobar.csv file, parses the input (getting quotes and commas correct), and yields a stream of Python tuples, splitting each line of the CSV into the elements of the output tuples.<p>Marcel also supports JSON input, translating JSON structures into Python equivalents. (The &quot;What&#x27;s New&quot; section of marcel&#x27;s README has more information on JSON support, which was just added.)</div><br/></div></div><div id="36520507" class="c"><input type="checkbox" id="c-36520507" checked=""/><div class="controls bullet"><span class="by">asicsp</span><span>|</span><a href="#36520263">parent</a><span>|</span><a href="#36520655">prev</a><span>|</span><a href="#36526268">next</a><span>|</span><label class="collapse" for="c-36520507">[-]</label><label class="expand" for="c-36520507">[2 more]</label></div><br/><div class="children"><div class="content">If quoted string is the only thing you need to handle extra (i.e. no escaped quotes, newlines, etc) and if you have GNU awk:<p><pre><code>    $ echo &#x27;&quot;foo&quot;,&quot;bar,baz&quot;&#x27; | awk -v FPAT=&#x27;&quot;[^&quot;]*&quot;|[^,]*&#x27; &#x27;{print $1}&#x27;
    &quot;foo&quot;
    $ echo &#x27;&quot;foo&quot;,&quot;bar,baz&quot;&#x27; | awk -v FPAT=&#x27;&quot;[^&quot;]*&quot;|[^,]*&#x27; &#x27;{print $2}&#x27;
    &quot;bar,baz&quot;
</code></pre>
For a more robust solution, see <a href="https:&#x2F;&#x2F;stackoverflow.com&#x2F;q&#x2F;45420535" rel="nofollow noreferrer">https:&#x2F;&#x2F;stackoverflow.com&#x2F;q&#x2F;45420535</a> or use other tools like <a href="https:&#x2F;&#x2F;github.com&#x2F;BurntSushi&#x2F;xsv">https:&#x2F;&#x2F;github.com&#x2F;BurntSushi&#x2F;xsv</a></div><br/><div id="36522310" class="c"><input type="checkbox" id="c-36522310" checked=""/><div class="controls bullet"><span class="by">poetaster</span><span>|</span><a href="#36520263">root</a><span>|</span><a href="#36520507">parent</a><span>|</span><a href="#36526268">next</a><span>|</span><label class="collapse" for="c-36522310">[-]</label><label class="expand" for="c-36522310">[1 more]</label></div><br/><div class="children"><div class="content">I wanted to ask why not the more simple form:<p>echo &#x27;&quot;foo&quot;,&quot;bar,baz&quot;,&quot;boo&quot;&#x27; | awk -F&quot;\&quot;,\&quot;&quot; &#x27;{print $1}&#x27;
&quot;foo<p>echo &#x27;&quot;foo&quot;,&quot;bar,baz&quot;,&quot;boo&quot;&#x27; | awk -F&quot;\&quot;,\&quot;&quot; &#x27;{print $2}&#x27;
bar,baz<p>echo &#x27;&quot;foo&quot;,&quot;bar,baz&quot;,&quot;boo&quot;&#x27; | awk -F&quot;\&quot;,\&quot;&quot; &#x27;{print $3}&#x27;
boo&quot;<p>Realizing that I have to strip the quotes that remain.<p>Edit. formatting.<p>EDit, again, from your link, the following is more terse and too my taste (still needs strips):<p>awk -v FPAT=&#x27;(&quot;[^&quot;]*&quot;)+&#x27;</div><br/></div></div></div></div><div id="36526268" class="c"><input type="checkbox" id="c-36526268" checked=""/><div class="controls bullet"><span class="by">dbro</span><span>|</span><a href="#36520263">parent</a><span>|</span><a href="#36520507">prev</a><span>|</span><a href="#36524715">next</a><span>|</span><label class="collapse" for="c-36526268">[-]</label><label class="expand" for="c-36526268">[1 more]</label></div><br/><div class="children"><div class="content">Yes, this is what csvquote does. It does nothing else, just this so that programs like awk, sed, cut, etc. can work properly.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;dbro&#x2F;csvquote">https:&#x2F;&#x2F;github.com&#x2F;dbro&#x2F;csvquote</a></div><br/></div></div><div id="36524715" class="c"><input type="checkbox" id="c-36524715" checked=""/><div class="controls bullet"><span class="by">JdeBP</span><span>|</span><a href="#36520263">parent</a><span>|</span><a href="#36526268">prev</a><span>|</span><a href="#36523089">next</a><span>|</span><label class="collapse" for="c-36524715">[-]</label><label class="expand" for="c-36524715">[1 more]</label></div><br/><div class="children"><div class="content">Convert it with Miller first:<p><pre><code>    mlr --icsv --otsv cat examplefile
</code></pre>
* <a href="https:&#x2F;&#x2F;miller.readthedocs.io&#x2F;en&#x2F;latest&#x2F;10min&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;miller.readthedocs.io&#x2F;en&#x2F;latest&#x2F;10min&#x2F;</a></div><br/></div></div><div id="36523089" class="c"><input type="checkbox" id="c-36523089" checked=""/><div class="controls bullet"><span class="by">wmwragg</span><span>|</span><a href="#36520263">parent</a><span>|</span><a href="#36524715">prev</a><span>|</span><a href="#36520801">next</a><span>|</span><label class="collapse" for="c-36523089">[-]</label><label class="expand" for="c-36523089">[1 more]</label></div><br/><div class="children"><div class="content">I usually use this awk function to parse CSV in awk:<p><pre><code>    # This function takes a line i.e. $0, and treats it as a line of CSV, breakin
    # it into individual fields, and storing them in the passed in field array. It
    # returns the number of fields found, 0 if none found. It takes account of CSV
    # quoting, and also commas within CSV quoted fields, but doesn&#x27;t remove them
    # from the parsed field.
    # use in code like:
    #   number_of_fields = parse_csv_line($0, csv_fields)
    #   csv_fields[2]  # get second parsed field in $0
    function parse_csv_line(line, field,   _field_count) {
      _field_count = 0
      # Treat each line as a CSV line and break it up into individual fields
      while (match(line, &#x2F;(\&quot;([^\&quot;]|\&quot;\&quot;)+\&quot;)|([^,\&quot;\n]+)&#x2F;)) {
        field[++_field_count] = substr(line, RSTART, RLENGTH)
        line = substr(line, RSTART+RLENGTH+1, length(line))
      }
      return _field_count
    }
</code></pre>
It&#x27;s not perfect but gets the job done most of the time and works across all awk implementations.</div><br/></div></div><div id="36520801" class="c"><input type="checkbox" id="c-36520801" checked=""/><div class="controls bullet"><span class="by">lysium</span><span>|</span><a href="#36520263">parent</a><span>|</span><a href="#36523089">prev</a><span>|</span><a href="#36524834">next</a><span>|</span><label class="collapse" for="c-36520801">[-]</label><label class="expand" for="c-36520801">[1 more]</label></div><br/><div class="children"><div class="content">They are planning built-in support for that, see that other comment <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36518146">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36518146</a></div><br/></div></div></div></div><div id="36524834" class="c"><input type="checkbox" id="c-36524834" checked=""/><div class="controls bullet"><span class="by">rochak</span><span>|</span><a href="#36520263">prev</a><span>|</span><a href="#36517762">next</a><span>|</span><label class="collapse" for="c-36524834">[-]</label><label class="expand" for="c-36524834">[1 more]</label></div><br/><div class="children"><div class="content">I wish I use awk all the time but everytime I use it the knowledge I gain doesn&#x27;t stick. Could be due to its arcane syntax which is just too hard for me to remember.</div><br/></div></div><div id="36517762" class="c"><input type="checkbox" id="c-36517762" checked=""/><div class="controls bullet"><span class="by">fgh</span><span>|</span><a href="#36524834">prev</a><span>|</span><a href="#36518952">next</a><span>|</span><label class="collapse" for="c-36517762">[-]</label><label class="expand" for="c-36517762">[4 more]</label></div><br/><div class="children"><div class="content">Who wrote the second edition?</div><br/><div id="36517805" class="c"><input type="checkbox" id="c-36517805" checked=""/><div class="controls bullet"><span class="by">Lyngbakr</span><span>|</span><a href="#36517762">parent</a><span>|</span><a href="#36517808">next</a><span>|</span><label class="collapse" for="c-36517805">[-]</label><label class="expand" for="c-36517805">[1 more]</label></div><br/><div class="children"><div class="content">I read a comment on HN the other day by someone reviewing the book and I believe they said it was Brian Kernigan.</div><br/></div></div><div id="36517808" class="c"><input type="checkbox" id="c-36517808" checked=""/><div class="controls bullet"><span class="by">fuzztester</span><span>|</span><a href="#36517762">parent</a><span>|</span><a href="#36517805">prev</a><span>|</span><a href="#36518952">next</a><span>|</span><label class="collapse" for="c-36517808">[-]</label><label class="expand" for="c-36517808">[2 more]</label></div><br/><div class="children"><div class="content">It was mentioned recently here in another HN thread  that Brian Kernighan is writing it.</div><br/><div id="36518174" class="c"><input type="checkbox" id="c-36518174" checked=""/><div class="controls bullet"><span class="by">B1FF_PSUVM</span><span>|</span><a href="#36517762">root</a><span>|</span><a href="#36517808">parent</a><span>|</span><a href="#36518952">next</a><span>|</span><label class="collapse" for="c-36518174">[-]</label><label class="expand" for="c-36518174">[1 more]</label></div><br/><div class="children"><div class="content">The lowercase &#x27;bwk&#x27; used in the text makes me believe that ...</div><br/></div></div></div></div></div></div><div id="36518952" class="c"><input type="checkbox" id="c-36518952" checked=""/><div class="controls bullet"><span class="by">dzogchen</span><span>|</span><a href="#36517762">prev</a><span>|</span><a href="#36524678">next</a><span>|</span><label class="collapse" for="c-36518952">[-]</label><label class="expand" for="c-36518952">[1 more]</label></div><br/><div class="children"><div class="content">Wow, hyped for this.<p>I picked up this little book from my University library once, and it was a fantastic read.</div><br/></div></div><div id="36524678" class="c"><input type="checkbox" id="c-36524678" checked=""/><div class="controls bullet"><span class="by">sigzero</span><span>|</span><a href="#36518952">prev</a><span>|</span><a href="#36518040">next</a><span>|</span><label class="collapse" for="c-36524678">[-]</label><label class="expand" for="c-36524678">[1 more]</label></div><br/><div class="children"><div class="content">I am looking forward to this coming out.</div><br/></div></div><div id="36518040" class="c"><input type="checkbox" id="c-36518040" checked=""/><div class="controls bullet"><span class="by">proger</span><span>|</span><a href="#36524678">prev</a><span>|</span><a href="#36526018">next</a><span>|</span><label class="collapse" for="c-36518040">[-]</label><label class="expand" for="c-36518040">[2 more]</label></div><br/><div class="children"><div class="content">Find and AWK together, a match made in heaven. Thanks for the link.</div><br/><div id="36520529" class="c"><input type="checkbox" id="c-36520529" checked=""/><div class="controls bullet"><span class="by">lkuty</span><span>|</span><a href="#36518040">parent</a><span>|</span><a href="#36526018">next</a><span>|</span><label class="collapse" for="c-36520529">[-]</label><label class="expand" for="c-36520529">[1 more]</label></div><br/><div class="children"><div class="content">do you have some resources regarding the use of awk with find ?</div><br/></div></div></div></div><div id="36526018" class="c"><input type="checkbox" id="c-36526018" checked=""/><div class="controls bullet"><span class="by">pmarreck</span><span>|</span><a href="#36518040">prev</a><span>|</span><a href="#36517935">next</a><span>|</span><label class="collapse" for="c-36526018">[-]</label><label class="expand" for="c-36526018">[1 more]</label></div><br/><div class="children"><div class="content">Awk is old but great, designed to chew through lines of text files with ease, and has great defaults that minimize the amount of awk code you actually have to write to do anything. It&#x27;s underrated.</div><br/></div></div><div id="36517935" class="c"><input type="checkbox" id="c-36517935" checked=""/><div class="controls bullet"><span class="by">jhoechtl</span><span>|</span><a href="#36526018">prev</a><span>|</span><a href="#36518592">next</a><span>|</span><label class="collapse" for="c-36517935">[-]</label><label class="expand" for="c-36517935">[1 more]</label></div><br/><div class="children"><div class="content">I love the csv-mode. It obviously takes some time</div><br/></div></div><div id="36518592" class="c"><input type="checkbox" id="c-36518592" checked=""/><div class="controls bullet"><span class="by">shaftoe444</span><span>|</span><a href="#36517935">prev</a><span>|</span><a href="#36517884">next</a><span>|</span><label class="collapse" for="c-36518592">[-]</label><label class="expand" for="c-36518592">[1 more]</label></div><br/><div class="children"><div class="content">Can I preorder this?</div><br/></div></div><div id="36517884" class="c"><input type="checkbox" id="c-36517884" checked=""/><div class="controls bullet"><span class="by">andrewstuart</span><span>|</span><a href="#36518592">prev</a><span>|</span><label class="collapse" for="c-36517884">[-]</label><label class="expand" for="c-36517884">[4 more]</label></div><br/><div class="children"><div class="content">Awk and ChatGPT are best friends.</div><br/><div id="36528244" class="c"><input type="checkbox" id="c-36528244" checked=""/><div class="controls bullet"><span class="by">magarnicle</span><span>|</span><a href="#36517884">parent</a><span>|</span><a href="#36519908">next</a><span>|</span><label class="collapse" for="c-36528244">[-]</label><label class="expand" for="c-36528244">[1 more]</label></div><br/><div class="children"><div class="content">Yeah this solves the &quot;I don&#x27;t use it enough to remember it problem&quot;. ChatGPT eliminates the first hurdle of using it, so I&#x27;m likely to use it more, and then hopefully it will start to stick.</div><br/></div></div><div id="36519908" class="c"><input type="checkbox" id="c-36519908" checked=""/><div class="controls bullet"><span class="by">ketanmaheshwari</span><span>|</span><a href="#36517884">parent</a><span>|</span><a href="#36528244">prev</a><span>|</span><label class="collapse" for="c-36519908">[-]</label><label class="expand" for="c-36519908">[2 more]</label></div><br/><div class="children"><div class="content">How so?</div><br/><div id="36526006" class="c"><input type="checkbox" id="c-36526006" checked=""/><div class="controls bullet"><span class="by">andrewstuart</span><span>|</span><a href="#36517884">root</a><span>|</span><a href="#36519908">parent</a><span>|</span><label class="collapse" for="c-36526006">[-]</label><label class="expand" for="c-36526006">[1 more]</label></div><br/><div class="children"><div class="content">Ask ChatGPT to write your awk scripts - it does a prettyy damn good job at a first pass.</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>