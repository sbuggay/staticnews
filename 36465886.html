<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1687770058094" as="style"/><link rel="stylesheet" href="styles.css?v=1687770058094"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://utcc.utoronto.ca/~cks/space/blog/sysadmin/ReportConfigFileLocations">Everything that uses configuration files should report where they&#x27;re located</a> <span class="domain">(<a href="https://utcc.utoronto.ca">utcc.utoronto.ca</a>)</span></div><div class="subtext"><span>ingve</span> | <span>295 comments</span></div><br/><div><div id="36466182" class="c"><input type="checkbox" id="c-36466182" checked=""/><div class="controls bullet"><span class="by">Eduard</span><span>|</span><a href="#36468406">next</a><span>|</span><label class="collapse" for="c-36466182">[-]</label><label class="expand" for="c-36466182">[118 more]</label></div><br/><div class="children"><div class="content">Programs should not only report where the configuration files are located, but also report how configuration <i>options</i> contained therein are read in:<p>Some programs use a &quot;<i>last</i> occurrence wins&quot; approach, while other programs (e.g. sshd) use a &quot;<i>first</i> occurrence wins&quot; approach.<p>Buried in <a href="https:&#x2F;&#x2F;man.freebsd.org&#x2F;cgi&#x2F;man.cgi?sshd_config(5)" rel="nofollow noreferrer">https:&#x2F;&#x2F;man.freebsd.org&#x2F;cgi&#x2F;man.cgi?sshd_config(5)</a> and awkwardly expressed:<p>&quot;Unless noted otherwise, for each keyword, the first obtained value will be used.&quot;<p>That&#x27;s why e.g. Debian&#x27;s <i>&#x2F;etc&#x2F;ssh&#x2F;sshd_config</i> (  <a href="https:&#x2F;&#x2F;salsa.debian.org&#x2F;ssh-team&#x2F;openssh&#x2F;-&#x2F;blob&#x2F;debian&#x2F;1%259.3p1-1&#x2F;sshd_config?ref_type=tags#L13" rel="nofollow noreferrer">https:&#x2F;&#x2F;salsa.debian.org&#x2F;ssh-team&#x2F;openssh&#x2F;-&#x2F;blob&#x2F;debian&#x2F;1%25...</a> ) starts with<p><pre><code>  Include &#x2F;etc&#x2F;ssh&#x2F;sshd_config.d&#x2F;*.conf
</code></pre>
, so that custom configurations in that directory win over the distribution-provided defaults set up after this Include directive inside <i>&#x2F;etc&#x2F;ssh&#x2F;sshd_config</i>.</div><br/><div id="36466379" class="c"><input type="checkbox" id="c-36466379" checked=""/><div class="controls bullet"><span class="by">Eduard</span><span>|</span><a href="#36466182">parent</a><span>|</span><a href="#36466267">next</a><span>|</span><label class="collapse" for="c-36466379">[-]</label><label class="expand" for="c-36466379">[52 more]</label></div><br/><div class="children"><div class="content">And yet another gotcha with configuration file loading:<p>Over-elaborated hierarchies where configuration files may reside, and their precedence schemes.<p>E.g. from systemd.unit manpage ( <a href="https:&#x2F;&#x2F;www.freedesktop.org&#x2F;software&#x2F;systemd&#x2F;man&#x2F;systemd.unit.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.freedesktop.org&#x2F;software&#x2F;systemd&#x2F;man&#x2F;systemd.uni...</a> ):<p>&gt;...<p>&gt; In addition to &#x2F;etc&#x2F;systemd&#x2F;system, the drop-in &quot;.d&#x2F;&quot; directories for system services can be placed in &#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system or &#x2F;run&#x2F;systemd&#x2F;system directories. Drop-in files in &#x2F;etc&#x2F; take precedence over those in &#x2F;run&#x2F; which in turn take precedence over those in &#x2F;usr&#x2F;lib&#x2F;. Drop-in files under any of these directories take precedence over unit files wherever located. Multiple drop-in files with different names are applied in lexicographic order, regardless of which of the directories they reside in.<p>&gt; ...<p>And this is just an excerpt which doesn&#x27;t cover the details. Read the manpage for all the hilarity.</div><br/><div id="36468636" class="c"><input type="checkbox" id="c-36468636" checked=""/><div class="controls bullet"><span class="by">Arnavion</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36466379">parent</a><span>|</span><a href="#36467525">next</a><span>|</span><label class="collapse" for="c-36468636">[-]</label><label class="expand" for="c-36468636">[39 more]</label></div><br/><div class="children"><div class="content">&gt;Over-elaborated hierarchies where configuration files may reside, and their precedence schemes.<p>&gt;Read the manpage for all the hilarity.<p>If you find it hilarious it&#x27;s because you don&#x27;t understand the reason. &#x2F;usr belongs to the distribution and &#x2F;etc belongs to the user. The distribution doesn&#x27;t touch &#x2F;etc and the user doesn&#x27;t touch &#x2F;usr.<p>Upstream ships a unit with its own opinion of the defaults. That unit goes in &#x2F;usr.<p>Distribution would like to override a default. It can patch the file but that is somewhat harder to discover (it would require reading the package source). Alternatively it can add a drop-in. That drop-in goes into &#x2F;usr too since it&#x27;s a distribution file.<p>User would like to override a default. They should not edit &#x2F;usr because that belongs to the distribution. They drop their override in &#x2F;etc.<p>Some units are created at runtime on demand and thus ephemeral, like mount units generated by generators. These go in &#x2F;run. These are functionally &quot;system-provided units&quot; because users must be able to override them, so they&#x27;re below &#x2F;etc in the hierarchy.<p>The &quot;defaults&quot; and &quot;overrides&quot; we&#x27;re talking about are both at the level of the individual setting as well as at the level of the whole file. If a user wants one of the settings to be different, they can add a new 99-foo.conf file that unsets &#x2F; changes it. If they want a whole file to be different, they can add a new file with the same name that is empty &#x2F; has different values for its settings.<p>BTW `systemctl cat whatever.unit` will print all the files that systemd considered in the order that it considered them.<p>&gt;And this is just an excerpt which doesn&#x27;t cover the details.<p>The only detail your excerpt doesn&#x27;t include is the consideration of `service.d&#x2F;`, `socket.d&#x2F;` etc directories which provide overrides for all units of that type. It&#x27;s just one point, not commonly used, and not that big of a deal either.</div><br/><div id="36470236" class="c"><input type="checkbox" id="c-36470236" checked=""/><div class="controls bullet"><span class="by">wpietri</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36468636">parent</a><span>|</span><a href="#36469125">next</a><span>|</span><label class="collapse" for="c-36470236">[-]</label><label class="expand" for="c-36470236">[13 more]</label></div><br/><div class="children"><div class="content">&gt; If you find it hilarious it&#x27;s because you don&#x27;t understand the reason.<p>I think it&#x27;s hilarious that you think users are supposed to understand &quot;the reason&quot; at this level of detail.<p>When we make a thing, we make choices about who it&#x27;s for. Sometimes those choices are explicit. But this is a good example of an implicit choice. Clearly it grew into this shape for reasons, but those reasons are about the people doing the making, not the people using it.<p>Even if we grant that all of this hierarchy is necessary, it still imposes a large burden on the person trying to figure out &quot;why is X doing Y?&quot; And that might be fine if the makers said, &quot;Well this is going to be hard, so what can we do to make it easy?&quot;<p>But denying that users will reasonably find this hilarious (or frustrating or impossible) is just digging the hole deeper. Telling people that their understandable reactions are wrong doesn&#x27;t change their reactions, it just gets them to stop mentioning the problems around you.</div><br/><div id="36470735" class="c"><input type="checkbox" id="c-36470735" checked=""/><div class="controls bullet"><span class="by">thayne</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36470236">parent</a><span>|</span><a href="#36473569">next</a><span>|</span><label class="collapse" for="c-36470735">[-]</label><label class="expand" for="c-36470735">[8 more]</label></div><br/><div class="children"><div class="content">&gt; it still imposes a large burden on the person trying to figure out &quot;why is X doing Y?&quot;<p>Systemd has tools for that, such as systemctl cat which shows all applicable configuration and what files they come from.<p>Personally I have found the systemd hierarchy to be very useful. It allows me to create overrides for certain properties in a Unit without having to worry about keeping the rest in sync with upstream, or my package manager overwriting my configuration. And it allows me to have different independent packages (or chef recipes or ansible playbooks) that create different override files for the same unit without stepping on each others toes.<p>Yes it is a little complicated, but for most end users, you don&#x27;t really need to worry about most of the complexity, you just need to know where you put your overrides. And for distributors and power users, that complexity serves a useful purpose.</div><br/><div id="36470860" class="c"><input type="checkbox" id="c-36470860" checked=""/><div class="controls bullet"><span class="by">wpietri</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36470735">parent</a><span>|</span><a href="#36473569">next</a><span>|</span><label class="collapse" for="c-36470860">[-]</label><label class="expand" for="c-36470860">[7 more]</label></div><br/><div class="children"><div class="content">&gt; Systemd has tools for that, such as systemctl cat which shows all applicable configuration and what files they come from.<p>Sure, it could be that systemd does have amazing tooling for helping users with the burdens they have created. Or, given the very mixed feelings about systemd, maybe they&#x27;ve tried to be user focused but not hit the mark. I don&#x27;t know enough to say.<p>But my point is that either way responses of the form &quot;it&#x27;s so easy, you just have to remember [9 paragraphs of detail users don&#x27;t care about]&quot; are part of the problem, not the solution.</div><br/><div id="36471380" class="c"><input type="checkbox" id="c-36471380" checked=""/><div class="controls bullet"><span class="by">ibrahima</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36470860">parent</a><span>|</span><a href="#36471263">next</a><span>|</span><label class="collapse" for="c-36471380">[-]</label><label class="expand" for="c-36471380">[1 more]</label></div><br/><div class="children"><div class="content">Systemd didn&#x27;t create this problem. But it solves the issue of distributions shipping config files as part of packages and then on every package upgrade having to reconcile between the distribution&#x27;s config and your modifications. Now with the drop in system you don&#x27;t need to do that.<p>I am not an expert but I think in general systemd has a lot of complexity but it&#x27;s to handle existing issues in a better way. Some of the older init systems might be simpler to describe or get started but lead to more confusing situations in the long run.</div><br/></div></div><div id="36471263" class="c"><input type="checkbox" id="c-36471263" checked=""/><div class="controls bullet"><span class="by">darkwater</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36470860">parent</a><span>|</span><a href="#36471380">prev</a><span>|</span><a href="#36473569">next</a><span>|</span><label class="collapse" for="c-36471263">[-]</label><label class="expand" for="c-36471263">[5 more]</label></div><br/><div class="children"><div class="content">&quot;Make it as easy as possible, but not simpler&quot;. I think this applies perfectly here. Systemd has very complicated requirements due to its very unique position in a Linux distribution. And as a (power) end-user of it, you basically need you basically needs to touch only &#x2F;etc</div><br/><div id="36473507" class="c"><input type="checkbox" id="c-36473507" checked=""/><div class="controls bullet"><span class="by">danaris</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36471263">parent</a><span>|</span><a href="#36473569">next</a><span>|</span><label class="collapse" for="c-36473507">[-]</label><label class="expand" for="c-36473507">[4 more]</label></div><br/><div class="children"><div class="content">&gt; Systemd has very complicated requirements due to its very unique position in a Linux distribution.<p>But are all those requirements <i>actually</i> necessary for the job it&#x27;s doing? Or have its developers imposed artificial constraints through their choices in designing systemd that make it <i>more</i> complex than it could otherwise be?</div><br/><div id="36475237" class="c"><input type="checkbox" id="c-36475237" checked=""/><div class="controls bullet"><span class="by">jen20</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36473507">parent</a><span>|</span><a href="#36473569">next</a><span>|</span><label class="collapse" for="c-36475237">[-]</label><label class="expand" for="c-36475237">[3 more]</label></div><br/><div class="children"><div class="content">The combination of distributions existing and believing they “own” parts of the system, and users needing to override settings means it is as simple as possible, and no simpler.</div><br/><div id="36476756" class="c"><input type="checkbox" id="c-36476756" checked=""/><div class="controls bullet"><span class="by">rocqua</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36475237">parent</a><span>|</span><a href="#36476272">next</a><span>|</span><label class="collapse" for="c-36476756">[-]</label><label class="expand" for="c-36476756">[1 more]</label></div><br/><div class="children"><div class="content">A distribution &#x27;owning&#x27; a directory means that the package manager is allowed to change files in there, and allowed to assume nothing major was changed from what it installed.<p>A distribution that doesn&#x27;t own any directories like this effectively can&#x27;t make any changes. It&#x27;s like writing a class without private fields.</div><br/></div></div><div id="36476272" class="c"><input type="checkbox" id="c-36476272" checked=""/><div class="controls bullet"><span class="by">TheNewsIsHere</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36475237">parent</a><span>|</span><a href="#36476756">prev</a><span>|</span><a href="#36473569">next</a><span>|</span><label class="collapse" for="c-36476272">[-]</label><label class="expand" for="c-36476272">[1 more]</label></div><br/><div class="children"><div class="content">Put more generically, I think we could add: “unless you build it all yourself, you’re going to have to work with other peoples decisions.”</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="36473569" class="c"><input type="checkbox" id="c-36473569" checked=""/><div class="controls bullet"><span class="by">andmarios</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36470236">parent</a><span>|</span><a href="#36470735">prev</a><span>|</span><a href="#36470404">next</a><span>|</span><label class="collapse" for="c-36473569">[-]</label><label class="expand" for="c-36473569">[1 more]</label></div><br/><div class="children"><div class="content">Users are only supposed to know about `&#x2F;etc`. The rest of the directories are useful for distribution maintainers, people who package software for a distribution (but may not be maintainers), and some developers.</div><br/></div></div></div></div><div id="36469125" class="c"><input type="checkbox" id="c-36469125" checked=""/><div class="controls bullet"><span class="by">stinos</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36468636">parent</a><span>|</span><a href="#36470236">prev</a><span>|</span><a href="#36470178">next</a><span>|</span><label class="collapse" for="c-36469125">[-]</label><label class="expand" for="c-36469125">[17 more]</label></div><br/><div class="children"><div class="content"><i>and the user doesn&#x27;t touch &#x2F;usr.</i><p>So it&#x27;s <i>not</i> hilarious statements like this make it hard to understand the reason? I almost cannot tell whether your whole post is sarcasm, or just showcasing irony.</div><br/><div id="36469520" class="c"><input type="checkbox" id="c-36469520" checked=""/><div class="controls bullet"><span class="by">marcosdumay</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36469125">parent</a><span>|</span><a href="#36469383">next</a><span>|</span><label class="collapse" for="c-36469520">[-]</label><label class="expand" for="c-36469520">[2 more]</label></div><br/><div class="children"><div class="content">You mean that the top-level Linux directory are hilariously badly named?<p>If so, I don&#x27;t think anybody will disagree.<p>But if you meant that&#x27;s a large problem, then well, no it isn&#x27;t. There are 7 of those badly named ones. It&#x27;s a matter of reading half a page of text to see what they do, and after 2 or 3 times you read it as reference, you have them memorized.<p>If would be nice to solve the issue, but it isn&#x27;t anybody&#x27;s priority.</div><br/><div id="36470767" class="c"><input type="checkbox" id="c-36470767" checked=""/><div class="controls bullet"><span class="by">eviks</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36469520">parent</a><span>|</span><a href="#36469383">next</a><span>|</span><label class="collapse" for="c-36470767">[-]</label><label class="expand" for="c-36470767">[1 more]</label></div><br/><div class="children"><div class="content">Or you&#x27;ll never memorize them because those 2 or 3 times are many months apart since you&#x27;re just a user that rarely tweaks those configs<p>But yeah, ease of use is nobody&#x27;s priority</div><br/></div></div></div></div><div id="36469383" class="c"><input type="checkbox" id="c-36469383" checked=""/><div class="controls bullet"><span class="by">bayindirh</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36469125">parent</a><span>|</span><a href="#36469520">prev</a><span>|</span><a href="#36470019">next</a><span>|</span><label class="collapse" for="c-36469383">[-]</label><label class="expand" for="c-36469383">[2 more]</label></div><br/><div class="children"><div class="content">Yes, &quot;The user (syadmin) doesn&#x27;t touch &#x2F;usr, except &#x2F;usr&#x2F;local&quot;, where compiled in applications reside with full path so &#x2F;usr&#x2F;local&#x2F;{bin,sbin,share,...}.<p>If you&#x27;re deploying an especially big application, you may also prefer &#x2F;opt&#x2F;$APPNAME&#x2F;{bin,etc,usr,...} (A full filesystem tree, basically).<p>We manage a fleet of systems at work, and I don&#x27;t remember editing or touching a file under &#x2F;usr, unless the period I was developing .deb or .rpm packages to deploy on said fleet.<p>There are many written and unwritten rules in Linux world, and sometimes people disregard or ignore these rules so blatantly, so I can&#x27;t understand whether the post I&#x27;m replying to is a sarcasm or irony.</div><br/><div id="36470252" class="c"><input type="checkbox" id="c-36470252" checked=""/><div class="controls bullet"><span class="by">hedora</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36469383">parent</a><span>|</span><a href="#36470019">next</a><span>|</span><label class="collapse" for="c-36470252">[-]</label><label class="expand" for="c-36470252">[1 more]</label></div><br/><div class="children"><div class="content">The rules are very much written down.  For instance, here are the rules for &#x2F;opt:<p><a href="https:&#x2F;&#x2F;access.redhat.com&#x2F;documentation&#x2F;en-us&#x2F;red_hat_enterprise_linux&#x2F;4&#x2F;html&#x2F;reference_guide&#x2F;s1-filesystem-fhs#s3-filesystem-opt" rel="nofollow noreferrer">https:&#x2F;&#x2F;access.redhat.com&#x2F;documentation&#x2F;en-us&#x2F;red_hat_enterp...</a><p>There&#x27;s also a section for &#x2F;usr.</div><br/></div></div></div></div><div id="36470019" class="c"><input type="checkbox" id="c-36470019" checked=""/><div class="controls bullet"><span class="by">nickdothutton</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36469125">parent</a><span>|</span><a href="#36469383">prev</a><span>|</span><a href="#36471244">next</a><span>|</span><label class="collapse" for="c-36470019">[-]</label><label class="expand" for="c-36470019">[4 more]</label></div><br/><div class="children"><div class="content">I think there is a gap here between those who routinely (exclusively?) used UNIX machines along with 50, 100, 1000 other people all logged in at once (generally pre-Linux era) and those who only ever got to see and enjoy a time when everyone could have a UNIX workstation on their desktop (Linux, Mac, or other x86 flavour, take your pick).</div><br/><div id="36470286" class="c"><input type="checkbox" id="c-36470286" checked=""/><div class="controls bullet"><span class="by">wpietri</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36470019">parent</a><span>|</span><a href="#36470206">next</a><span>|</span><label class="collapse" for="c-36470286">[-]</label><label class="expand" for="c-36470286">[2 more]</label></div><br/><div class="children"><div class="content">Yeah, I really feel like we&#x27;re in a &quot;horseless carriage&quot; or &quot;radio with pictures&quot; era for computing. We have incredibly powerful machines available. But the dominant paradigm for managing that power is to slice it up into things that simulate much less powerful processors in software environments designed for a shared 1970s university department minicomputer.<p>In many ways I love it, of course. It&#x27;s what I grew up on, and I&#x27;m sure I&#x27;ll have a small Linux cluster in the retirement home, because that&#x27;s how computers are &quot;supposed to be&quot;. But I think the old paradigm has only lasted so long because we have so much computing power to burn.</div><br/><div id="36471103" class="c"><input type="checkbox" id="c-36471103" checked=""/><div class="controls bullet"><span class="by">jaystraw</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36470286">parent</a><span>|</span><a href="#36470206">next</a><span>|</span><label class="collapse" for="c-36471103">[-]</label><label class="expand" for="c-36471103">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not sure I understand. When the &quot;old paradigm&quot; was new, computing power was much more limited. They couldn&#x27;t afford to &quot;burn&quot; any computing power. But it&#x27;s only stuck around, because now we have more computing power? That doesn&#x27;t make sense</div><br/></div></div></div></div><div id="36470206" class="c"><input type="checkbox" id="c-36470206" checked=""/><div class="controls bullet"><span class="by">hedora</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36470019">parent</a><span>|</span><a href="#36470286">prev</a><span>|</span><a href="#36471244">next</a><span>|</span><label class="collapse" for="c-36470206">[-]</label><label class="expand" for="c-36470206">[1 more]</label></div><br/><div class="children"><div class="content">Back in the shared era, the machines were better-suited to individual customization, and were more easily understood by system administrators.  Now, they&#x27;re optimized too... waste more computational resources when idle?</div><br/></div></div></div></div><div id="36471244" class="c"><input type="checkbox" id="c-36471244" checked=""/><div class="controls bullet"><span class="by">pierat</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36469125">parent</a><span>|</span><a href="#36470019">prev</a><span>|</span><a href="#36469460">next</a><span>|</span><label class="collapse" for="c-36471244">[-]</label><label class="expand" for="c-36471244">[5 more]</label></div><br/><div class="children"><div class="content">It&#x27;s makes a lot more sense when you realize that &#x2F;usr doesn&#x27;t stand for &quot;user&quot;, but &quot;user software resources&quot;.</div><br/><div id="36474926" class="c"><input type="checkbox" id="c-36474926" checked=""/><div class="controls bullet"><span class="by">xp84</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36471244">parent</a><span>|</span><a href="#36474463">next</a><span>|</span><label class="collapse" for="c-36474926">[-]</label><label class="expand" for="c-36474926">[1 more]</label></div><br/><div class="children"><div class="content">Isn’t that just a backronym? I read recently (here, I think) that on some original specific UNIX system, the user directories were there originally, and then other stuff that belonged elsewhere went in there because the other physical volume (where things like &#x2F;bin were) ran out of space. Later another dish was added and profiles were moved there, to make &#x2F;home.</div><br/></div></div><div id="36474463" class="c"><input type="checkbox" id="c-36474463" checked=""/><div class="controls bullet"><span class="by">kps</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36471244">parent</a><span>|</span><a href="#36474926">prev</a><span>|</span><a href="#36473748">next</a><span>|</span><label class="collapse" for="c-36474463">[-]</label><label class="expand" for="c-36474463">[1 more]</label></div><br/><div class="children"><div class="content">&#x2F;usr stands for ‘user’.<p><i>In particular, in our own version of the system, there is a directory &quot;&#x2F;usr&quot; which contains all user&#x27;s directories, and which is stored on a relatively large, but slow moving head disk, while the othe files are on the fast but small fixed-head disk.</i> — <a href="https:&#x2F;&#x2F;www.bell-labs.com&#x2F;usr&#x2F;dmr&#x2F;www&#x2F;notes.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.bell-labs.com&#x2F;usr&#x2F;dmr&#x2F;www&#x2F;notes.html</a></div><br/></div></div><div id="36473748" class="c"><input type="checkbox" id="c-36473748" checked=""/><div class="controls bullet"><span class="by">gjvc</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36471244">parent</a><span>|</span><a href="#36474463">prev</a><span>|</span><a href="#36469460">next</a><span>|</span><label class="collapse" for="c-36473748">[-]</label><label class="expand" for="c-36473748">[2 more]</label></div><br/><div class="children"><div class="content">unix system resources</div><br/><div id="36475306" class="c"><input type="checkbox" id="c-36475306" checked=""/><div class="controls bullet"><span class="by">paledot</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36473748">parent</a><span>|</span><a href="#36469460">next</a><span>|</span><label class="collapse" for="c-36475306">[-]</label><label class="expand" for="c-36475306">[1 more]</label></div><br/><div class="children"><div class="content">unlikely semantic revisionism</div><br/></div></div></div></div></div></div><div id="36472834" class="c"><input type="checkbox" id="c-36472834" checked=""/><div class="controls bullet"><span class="by">dreamcompiler</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36469125">parent</a><span>|</span><a href="#36469460">prev</a><span>|</span><a href="#36470978">next</a><span>|</span><label class="collapse" for="c-36472834">[-]</label><label class="expand" for="c-36472834">[1 more]</label></div><br/><div class="children"><div class="content">X11 clients and servers are now whispering &quot;Hold my beer.&quot;</div><br/></div></div><div id="36470978" class="c"><input type="checkbox" id="c-36470978" checked=""/><div class="controls bullet"><span class="by">Eldt</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36469125">parent</a><span>|</span><a href="#36472834">prev</a><span>|</span><a href="#36470178">next</a><span>|</span><label class="collapse" for="c-36470978">[-]</label><label class="expand" for="c-36470978">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s both hilarious and unintuitive, but for some people their personal familiarity trumps most other things</div><br/></div></div></div></div><div id="36470178" class="c"><input type="checkbox" id="c-36470178" checked=""/><div class="controls bullet"><span class="by">hedora</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36468636">parent</a><span>|</span><a href="#36469125">prev</a><span>|</span><a href="#36470124">next</a><span>|</span><label class="collapse" for="c-36470178">[-]</label><label class="expand" for="c-36470178">[4 more]</label></div><br/><div class="children"><div class="content">&gt; <i>Distribution would like to override a default. It can patch the file but that is somewhat harder to discover (it would require reading the package source). Alternatively it can add a drop-in. That drop-in goes into &#x2F;usr too since it&#x27;s a distribution file.</i><p>&gt; <i>User would like to override a default. They should not edit &#x2F;usr because that belongs to the distribution. They drop their override in &#x2F;etc.</i><p>Larry Wall elegantly solved these problems 38 years ago with the &quot;patch&quot; utility.  Debian is a good example of how its use has been standardized to solve these problems.<p>The patch approach to managing distribution-provided configuration files is superior to the systemd unit approach for at least three reasons:<p>- Non-experts can read the configuration files from top to bottom in linear order, so the documentation can be inlined by the distribution provider, which means they can add maintainers notes as necessary.<p>- It also works better than the systemd unit style of configuration for sophisticated users.  In particular, if you add a now-incompatible option to the file in the suggested place (next to the documentation and commented out default version of the setting), then the package management system can detect that you&#x27;ve made a potentially breaking change before installing the new software, and ask you what to do.  This works in the absence of sophisticated data modeling, schema mapping tools, etc.<p>- The implementation of all this is factored out and standardized across 1000&#x27;s of packages, so it only needs to be implemented once and understood once.</div><br/><div id="36471062" class="c"><input type="checkbox" id="c-36471062" checked=""/><div class="controls bullet"><span class="by">manuel_w</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36470178">parent</a><span>|</span><a href="#36470414">next</a><span>|</span><label class="collapse" for="c-36471062">[-]</label><label class="expand" for="c-36471062">[1 more]</label></div><br/><div class="children"><div class="content">Rebasing patches is pretty hard I&#x27;d say. Much harder than just explaining someone the logic behind &#x2F;lib, &#x2F;etc and &#x2F;run. I mean, this directories are seperate for a reason. Knowing the idea behind the directory split (a.k.a. Linux Filesystem Hierarchy Standard) is more essential than knowing how to use the patch command line tool. There are more and more people who don&#x27;t want to use the command line. And that&#x27;s completely fine.<p>&gt; - It also works better than the systemd unit style of configuration for sophisticated users. In particular, if you add a now-incompatible option to the file in the suggested place (next to the documentation and commented out default version of the setting), then the package management system can detect that you&#x27;ve made a potentially breaking change before installing the new software, and ask you what to do. This works in the absence of sophisticated data modeling, schema mapping tools, etc.<p>Anecdata, but still: Every single time the package manager asked me what to do, it was not because of a breaking change, but simply because the base file changed in a way that the patch didn&#x27;t apply cleanly anymore. That is, I, the user, had to work around limitations of the patch format. If the distro configuration and the user configuration had been separate files, things would have just worked fine.</div><br/></div></div><div id="36470414" class="c"><input type="checkbox" id="c-36470414" checked=""/><div class="controls bullet"><span class="by">faangsticle</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36470178">parent</a><span>|</span><a href="#36471062">prev</a><span>|</span><a href="#36470124">next</a><span>|</span><label class="collapse" for="c-36470414">[-]</label><label class="expand" for="c-36470414">[2 more]</label></div><br/><div class="children"><div class="content">You don&#x27;t have to be an expert to read multiple files. If you do need expert assistance with something like that please contact me and we can work something out.</div><br/><div id="36470720" class="c"><input type="checkbox" id="c-36470720" checked=""/><div class="controls bullet"><span class="by">eviks</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36470414">parent</a><span>|</span><a href="#36470124">next</a><span>|</span><label class="collapse" for="c-36470720">[-]</label><label class="expand" for="c-36470720">[1 more]</label></div><br/><div class="children"><div class="content">The &quot;expertise&quot; is in finding those files and understanding their hierarchy</div><br/></div></div></div></div></div></div><div id="36470124" class="c"><input type="checkbox" id="c-36470124" checked=""/><div class="controls bullet"><span class="by">squeaky-clean</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36468636">parent</a><span>|</span><a href="#36470178">prev</a><span>|</span><a href="#36473166">next</a><span>|</span><label class="collapse" for="c-36470124">[-]</label><label class="expand" for="c-36470124">[1 more]</label></div><br/><div class="children"><div class="content">I can&#x27;t see how this doesn&#x27;t make it more hilarious. It gives me &quot;There&#x27;s no fighting in the war room&quot; vibes.</div><br/></div></div><div id="36473166" class="c"><input type="checkbox" id="c-36473166" checked=""/><div class="controls bullet"><span class="by">gpm</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36468636">parent</a><span>|</span><a href="#36470124">prev</a><span>|</span><a href="#36473807">next</a><span>|</span><label class="collapse" for="c-36473166">[-]</label><label class="expand" for="c-36473166">[1 more]</label></div><br/><div class="children"><div class="content">This is why &#x2F;usr&#x2F;local&#x2F;bin is located in &#x2F;etc right?</div><br/></div></div><div id="36473807" class="c"><input type="checkbox" id="c-36473807" checked=""/><div class="controls bullet"><span class="by">Aerbil313</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36468636">parent</a><span>|</span><a href="#36473166">prev</a><span>|</span><a href="#36470312">next</a><span>|</span><label class="collapse" for="c-36473807">[-]</label><label class="expand" for="c-36473807">[1 more]</label></div><br/><div class="children"><div class="content">It’s still hilarious. The fact that there’s a need for this hilarity doesn’t negate that. What a mess humanity have created… (Let’s write a suckless OS!)</div><br/></div></div><div id="36470312" class="c"><input type="checkbox" id="c-36470312" checked=""/><div class="controls bullet"><span class="by">olliecornelia</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36468636">parent</a><span>|</span><a href="#36473807">prev</a><span>|</span><a href="#36467525">next</a><span>|</span><label class="collapse" for="c-36470312">[-]</label><label class="expand" for="c-36470312">[1 more]</label></div><br/><div class="children"><div class="content">At least acknowledge how retarded this all sounds.</div><br/></div></div></div></div><div id="36467525" class="c"><input type="checkbox" id="c-36467525" checked=""/><div class="controls bullet"><span class="by">nick__m</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36466379">parent</a><span>|</span><a href="#36468636">prev</a><span>|</span><a href="#36467790">next</a><span>|</span><label class="collapse" for="c-36467525">[-]</label><label class="expand" for="c-36467525">[9 more]</label></div><br/><div class="children"><div class="content">systemd configuration lookups are lightweights and straightforward compared to ansible variables lookups rules :
--
  Understanding variable precedence<p><pre><code>  Ansible does apply variable precedence, and you might have a use for it. Here is the order of precedence from least to greatest (the last listed variables override all other variables):

        1 command line values (for example, -u my_user, these are not variables)

        2 role defaults (defined in role&#x2F;defaults&#x2F;main.yml) 1

        3 inventory file or script group vars 2

        4 inventory group_vars&#x2F;all 3

        5 playbook group_vars&#x2F;all 3

        6 inventory group_vars&#x2F;* 3

        7 playbook group_vars&#x2F;* 3

        8 inventory file or script host vars 2

        9 inventory host_vars&#x2F;* 3

        10 playbook host_vars&#x2F;* 3

        11 host facts &#x2F; cached set_facts 4

        12 play vars

        13 play vars_prompt

        14 play vars_files

        15 role vars (defined in role&#x2F;vars&#x2F;main.yml)

        16 block vars (only for tasks in block)

        17 task vars (only for the task)

        18 include_vars

        19 set_facts &#x2F; registered vars

        20 role (and include_role) params

        21 include params

        22 extra vars (for example, -e &quot;user=my_user&quot;)(always win precedence)</code></pre>
‐‐<p>that is a RedHat-isim</div><br/><div id="36467865" class="c"><input type="checkbox" id="c-36467865" checked=""/><div class="controls bullet"><span class="by">pferde</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36467525">parent</a><span>|</span><a href="#36467678">next</a><span>|</span><label class="collapse" for="c-36467865">[-]</label><label class="expand" for="c-36467865">[2 more]</label></div><br/><div class="children"><div class="content">IIRC, Ansible had this exact variable precedence long before they were acquired by RH.<p>I get that hating RH is in vogue currently, but let&#x27;s keep it grounded in reality please.<p>EDIT: And for the record, these Ansible precedence rules are not a bad thing. Once you are somewhat familiar with them, it allows you to write incredibly flexible and extensible playbooks and roles.</div><br/><div id="36476309" class="c"><input type="checkbox" id="c-36476309" checked=""/><div class="controls bullet"><span class="by">TheNewsIsHere</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36467865">parent</a><span>|</span><a href="#36467678">next</a><span>|</span><label class="collapse" for="c-36476309">[-]</label><label class="expand" for="c-36476309">[1 more]</label></div><br/><div class="children"><div class="content">As an Ansible person, I couldn’t agree more. Being able to manage variables at basically any level of precedence is extremely useful.<p>I am also ever more deeply concerned about IBM’s hell-bent purge of all the good left at Redhat. I had thought it would take them less time to destroy Redhat, but I’m sure they wanted to make sure they spent time “listening” before making all these ecosystem-eroding changes.</div><br/></div></div></div></div><div id="36467678" class="c"><input type="checkbox" id="c-36467678" checked=""/><div class="controls bullet"><span class="by">oblio</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36467525">parent</a><span>|</span><a href="#36467865">prev</a><span>|</span><a href="#36470289">next</a><span>|</span><label class="collapse" for="c-36467678">[-]</label><label class="expand" for="c-36467678">[2 more]</label></div><br/><div class="children"><div class="content">Meh, it&#x27;s not Red Hat. Configuration management tools do this. Chef is similar.</div><br/><div id="36468403" class="c"><input type="checkbox" id="c-36468403" checked=""/><div class="controls bullet"><span class="by">eropple</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36467678">parent</a><span>|</span><a href="#36470289">next</a><span>|</span><label class="collapse" for="c-36468403">[-]</label><label class="expand" for="c-36468403">[1 more]</label></div><br/><div class="children"><div class="content">Chef is <i>worse</i>. It&#x27;s discouraged to use `override` in Chef cookbooks but nothing says that you can&#x27;t, and introducing spooky action at a distance is just part of your life now.</div><br/></div></div></div></div><div id="36470289" class="c"><input type="checkbox" id="c-36470289" checked=""/><div class="controls bullet"><span class="by">hedora</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36467525">parent</a><span>|</span><a href="#36467678">prev</a><span>|</span><a href="#36470654">next</a><span>|</span><label class="collapse" for="c-36470289">[-]</label><label class="expand" for="c-36470289">[3 more]</label></div><br/><div class="children"><div class="content">I love how there are 21 places to look if you&#x27;re trying to figure out why a CLI parameter is being ignored.  Does it at least print a warning or something?</div><br/><div id="36470440" class="c"><input type="checkbox" id="c-36470440" checked=""/><div class="controls bullet"><span class="by">faangsticle</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36470289">parent</a><span>|</span><a href="#36470654">next</a><span>|</span><label class="collapse" for="c-36470440">[-]</label><label class="expand" for="c-36470440">[2 more]</label></div><br/><div class="children"><div class="content">Other way around. Cli params have highest precedence.</div><br/><div id="36470649" class="c"><input type="checkbox" id="c-36470649" checked=""/><div class="controls bullet"><span class="by">Spivak</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36470440">parent</a><span>|</span><a href="#36470654">next</a><span>|</span><label class="collapse" for="c-36470649">[-]</label><label class="expand" for="c-36470649">[1 more]</label></div><br/><div class="children"><div class="content">And CLI params override <i>everything</i>, globally.</div><br/></div></div></div></div></div></div></div></div><div id="36467790" class="c"><input type="checkbox" id="c-36467790" checked=""/><div class="controls bullet"><span class="by">crote</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36466379">parent</a><span>|</span><a href="#36467525">prev</a><span>|</span><a href="#36471214">next</a><span>|</span><label class="collapse" for="c-36467790">[-]</label><label class="expand" for="c-36467790">[2 more]</label></div><br/><div class="children"><div class="content">That doesn&#x27;t look too bad to me.<p>&quot;.d&quot; directories are a well-established pattern to split a complicated config file into logical units. In the case of something like systemd this is absolutely essential, as you wouldn&#x27;t want the config for your web server in the same file as the mail server.<p>&#x2F;usr&#x2F;lib is the location where the package manager will drop config files. This is the default, distro-provided configuration. &#x2F;etc&#x2F; is where the administrator can place config files, providing system-specific overrides. &#x2F;run&#x2F; is for files &quot;created at runtime&quot;, I am not quite sure what the point of those is.</div><br/><div id="36468332" class="c"><input type="checkbox" id="c-36468332" checked=""/><div class="controls bullet"><span class="by">andrewaylett</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36467790">parent</a><span>|</span><a href="#36471214">next</a><span>|</span><label class="collapse" for="c-36468332">[-]</label><label class="expand" for="c-36468332">[1 more]</label></div><br/><div class="children"><div class="content">&#x2F;run is useful for configuration generation.  Sure, you could maybe poke an API and have it do the right thing, but if &quot;everything is a file&quot; then why not put your configuration in a file?  That way it&#x27;s easier to see what&#x27;s actually happening.<p>Systemd is also a useful demonstration of how to show people where configuration comes from -- `systemctl status &lt;unit&gt;` will include a list of all the files found during lookup, and `systemctl show &lt;unit&gt;` will give you the resolved unit configuration including all the defaults.</div><br/></div></div></div></div><div id="36471214" class="c"><input type="checkbox" id="c-36471214" checked=""/><div class="controls bullet"><span class="by">qbasic_forever</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36466379">parent</a><span>|</span><a href="#36467790">prev</a><span>|</span><a href="#36466267">next</a><span>|</span><label class="collapse" for="c-36471214">[-]</label><label class="expand" for="c-36471214">[1 more]</label></div><br/><div class="children"><div class="content">Drop in files (config in .d folders) are a core extension point of systemd and not a symptom of an overly engineered config system. These are how services are meant to be custom tailored to specific machines and even user&#x27;s needs.<p>Let&#x27;s say you need to pass a special flag to sshd on your system, a bad approach would be to go edit the distro shipped sshd.service file.  Your change will work until the distro ships an updated file and you forget to hack in your change again.<p>Instead place a sshd.service drop-in config file in the appropriate place to customize the service as necessary.  Your config tweak takes precedence over the distro shipped config, but doesn&#x27;t live inside it or conflict with upstream changes.</div><br/></div></div></div></div><div id="36466267" class="c"><input type="checkbox" id="c-36466267" checked=""/><div class="controls bullet"><span class="by">Shrezzing</span><span>|</span><a href="#36466182">parent</a><span>|</span><a href="#36466379">prev</a><span>|</span><a href="#36466506">next</a><span>|</span><label class="collapse" for="c-36466267">[-]</label><label class="expand" for="c-36466267">[20 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a little bit away from the domain of config files, but I think CSS is the most graceful example of handling this as a generalised problem. Style configurations cascade, and the last one read is the one that gets applied. There are overrides to that flow, but you have to very overtly add a piece of syntax to the overriding line like `!important`. Two overlapping overrides revert back to the &quot;last read&quot; approach. The approach is so fundamental to CSS that the entire language is named after it, so there&#x27;s no ambiguity or forwards compatibility concerns in this regard whatsoever.</div><br/><div id="36466864" class="c"><input type="checkbox" id="c-36466864" checked=""/><div class="controls bullet"><span class="by">blowski</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36466267">parent</a><span>|</span><a href="#36466325">next</a><span>|</span><label class="collapse" for="c-36466864">[-]</label><label class="expand" for="c-36466864">[11 more]</label></div><br/><div class="children"><div class="content">I’m sure you know this, but for readers who don’t, it’s much more complex than “last defined wins with a few override options”. Based on “specificity”, rules based on the selector used.<p>Some examples:<p>1. #mydiv overrides .mydiv - IDs are more specific than classes<p>2. .outerdiv .innerdiv overrides .innerdiv - nested selectors are more specific<p>3. .mydiv overrides div - classes are more specific than elements<p>And a lot of other rules.<p>I can’t imagine I’d want this level of complexity in config files.</div><br/><div id="36467155" class="c"><input type="checkbox" id="c-36467155" checked=""/><div class="controls bullet"><span class="by">masklinn</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36466864">parent</a><span>|</span><a href="#36467513">next</a><span>|</span><label class="collapse" for="c-36467155">[-]</label><label class="expand" for="c-36467155">[2 more]</label></div><br/><div class="children"><div class="content">Nesting is not actually more specific.<p>Rather specificity is a triplet of (ids sub-selectors, class sub-selectors, element sub-selectors).  When attributes conflict, the one whose rule has the more specific selector wins.<p>The specificities of the rules you wrote out are (1,0,0), (0,1,0), (0,2,0), (0,1,0), (0,1,0), and (0,0,1).<p>In-line attributes (@style) beat out out-out-of line ones except if they’re !important. Specificity also disambiguates between !important attributes.</div><br/><div id="36467282" class="c"><input type="checkbox" id="c-36467282" checked=""/><div class="controls bullet"><span class="by">blowski</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36467155">parent</a><span>|</span><a href="#36467513">next</a><span>|</span><label class="collapse" for="c-36467282">[-]</label><label class="expand" for="c-36467282">[1 more]</label></div><br/><div class="children"><div class="content">Thank you for the clarification, I hadn&#x27;t realised that.</div><br/></div></div></div></div><div id="36467513" class="c"><input type="checkbox" id="c-36467513" checked=""/><div class="controls bullet"><span class="by">tobr</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36466864">parent</a><span>|</span><a href="#36467155">prev</a><span>|</span><a href="#36467075">next</a><span>|</span><label class="collapse" for="c-36467513">[-]</label><label class="expand" for="c-36467513">[7 more]</label></div><br/><div class="children"><div class="content">&gt; I can’t imagine I’d want this level of complexity in config files.<p>Lots of people don’t want it in their CSS either. It’s generally considered good practice to make everything the same specificity and avoid !important.</div><br/><div id="36468047" class="c"><input type="checkbox" id="c-36468047" checked=""/><div class="controls bullet"><span class="by">lavela</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36467513">parent</a><span>|</span><a href="#36476052">next</a><span>|</span><label class="collapse" for="c-36468047">[-]</label><label class="expand" for="c-36468047">[5 more]</label></div><br/><div class="children"><div class="content">&gt; avoid !important<p>Sure, haven&#x27;t seen that in a while in well structured code bases.<p>&gt; make everything the same specificity<p>How would you achieve same specificity on everything? Only use either ids or classes? No type selectors &#x2F; pseudo-classes &#x2F; pseudo-elements &#x2F; multiple selectors? I can&#x27;t imagine how that would be feasible and am not aware of anyone recommending this.</div><br/><div id="36471471" class="c"><input type="checkbox" id="c-36471471" checked=""/><div class="controls bullet"><span class="by">afiori</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36468047">parent</a><span>|</span><a href="#36468692">next</a><span>|</span><label class="collapse" for="c-36471471">[-]</label><label class="expand" for="c-36471471">[1 more]</label></div><br/><div class="children"><div class="content">With :is and :where it is trivial to trick selectors<p><i>:is(selector_1, </i>:where(selector_2))<p>Has always the specificity of selector_2, and if you choose an impossible selector for selector_1 (the easiest approach is to give multiple ids or use non existent classes&#x2F;elements) it only select by selector_2</div><br/></div></div><div id="36468692" class="c"><input type="checkbox" id="c-36468692" checked=""/><div class="controls bullet"><span class="by">Supermancho</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36468047">parent</a><span>|</span><a href="#36471471">prev</a><span>|</span><a href="#36476052">next</a><span>|</span><label class="collapse" for="c-36468692">[-]</label><label class="expand" for="c-36468692">[3 more]</label></div><br/><div class="children"><div class="content">There are a large number of companies that require ids as the basis for every selector, by policy. This may not be interesting to you, but I think this is what they meant. The fact they may or may not be familiar to you is incidental.</div><br/><div id="36469689" class="c"><input type="checkbox" id="c-36469689" checked=""/><div class="controls bullet"><span class="by">lavela</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36468692">parent</a><span>|</span><a href="#36476052">next</a><span>|</span><label class="collapse" for="c-36469689">[-]</label><label class="expand" for="c-36469689">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;m familiar with policies that generally strive for specificity of (0, 1, 0) like BEM or (1, 0, 0), but I&#x27;d be very interested in any policy that rules out pseudo-classes like `:hover`, as prohibiting them would leave you to handle any interactivity you&#x27;d get for free from CSS via JavaScript.</div><br/><div id="36470464" class="c"><input type="checkbox" id="c-36470464" checked=""/><div class="controls bullet"><span class="by">blowski</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36469689">parent</a><span>|</span><a href="#36476052">next</a><span>|</span><label class="collapse" for="c-36470464">[-]</label><label class="expand" for="c-36470464">[1 more]</label></div><br/><div class="children"><div class="content">This is effectively how Tailwind works. You end up with classes like `hover:text-black`.</div><br/></div></div></div></div></div></div></div></div><div id="36476052" class="c"><input type="checkbox" id="c-36476052" checked=""/><div class="controls bullet"><span class="by">cerved</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36467513">parent</a><span>|</span><a href="#36468047">prev</a><span>|</span><a href="#36467075">next</a><span>|</span><label class="collapse" for="c-36476052">[-]</label><label class="expand" for="c-36476052">[1 more]</label></div><br/><div class="children"><div class="content">Perhaps you mean the same kind of specificity.<p>Specificity is at the heart of CSS, you&#x27;re not supposed to design rules with equal specificity</div><br/></div></div></div></div></div></div><div id="36466325" class="c"><input type="checkbox" id="c-36466325" checked=""/><div class="controls bullet"><span class="by">masklinn</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36466267">parent</a><span>|</span><a href="#36466864">prev</a><span>|</span><a href="#36467254">next</a><span>|</span><label class="collapse" for="c-36466325">[-]</label><label class="expand" for="c-36466325">[2 more]</label></div><br/><div class="children"><div class="content">You might want to read on <i>specificity</i> because it’s a huge spanner in your assumptions.</div><br/><div id="36469280" class="c"><input type="checkbox" id="c-36469280" checked=""/><div class="controls bullet"><span class="by">lioeters</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36466325">parent</a><span>|</span><a href="#36467254">next</a><span>|</span><label class="collapse" for="c-36469280">[-]</label><label class="expand" for="c-36469280">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Specificity is the algorithm used by browsers to determine the CSS declaration that is the most relevant to an element, which in turn, determines the property value to apply to the element. The specificity algorithm calculates the weight of a CSS selector to determine which rule from competing CSS declarations gets applied to an element.<p><a href="https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;CSS&#x2F;Specificity#how_is_specificity_calculated" rel="nofollow noreferrer">https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;CSS&#x2F;Specificity...</a></div><br/></div></div></div></div><div id="36467254" class="c"><input type="checkbox" id="c-36467254" checked=""/><div class="controls bullet"><span class="by">wildrhythms</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36466267">parent</a><span>|</span><a href="#36466325">prev</a><span>|</span><a href="#36476065">next</a><span>|</span><label class="collapse" for="c-36467254">[-]</label><label class="expand" for="c-36467254">[1 more]</label></div><br/><div class="children"><div class="content">Not true at all. There is a very much non-intuitive weighting system applied to CSS selectors which is what ultimately determines which gets applied:  <a href="https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;CSS&#x2F;Specificity" rel="nofollow noreferrer">https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;CSS&#x2F;Specificity</a></div><br/></div></div><div id="36476065" class="c"><input type="checkbox" id="c-36476065" checked=""/><div class="controls bullet"><span class="by">cerved</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36466267">parent</a><span>|</span><a href="#36467254">prev</a><span>|</span><a href="#36466332">next</a><span>|</span><label class="collapse" for="c-36476065">[-]</label><label class="expand" for="c-36476065">[1 more]</label></div><br/><div class="children"><div class="content">The domain of style and configuration are very, very different. I&#x27;m not sure what works okay for displaying a website in different layouts on vastly different unknown devices share a lot of the same concerns of configuring programs on a machine</div><br/></div></div><div id="36466332" class="c"><input type="checkbox" id="c-36466332" checked=""/><div class="controls bullet"><span class="by">lavela</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36466267">parent</a><span>|</span><a href="#36476065">prev</a><span>|</span><a href="#36468354">next</a><span>|</span><label class="collapse" for="c-36466332">[-]</label><label class="expand" for="c-36466332">[1 more]</label></div><br/><div class="children"><div class="content">The rules of CSS specificity are a bit more involved than &#x27;!important&#x27; or not, and I frequently see beginners trip there, but apart from that I agree that the CSS rule set might be worth incorporating.</div><br/></div></div><div id="36468354" class="c"><input type="checkbox" id="c-36468354" checked=""/><div class="controls bullet"><span class="by">cesarb</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36466267">parent</a><span>|</span><a href="#36466332">prev</a><span>|</span><a href="#36466499">next</a><span>|</span><label class="collapse" for="c-36468354">[-]</label><label class="expand" for="c-36468354">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Two overlapping overrides revert back to the &quot;last read&quot; approach.<p>IIRC, there&#x27;s an important (heh) exception to that: user stylesheets. Without the &quot;!important&quot; override on the user stylesheet, the site stylesheet wins; with the &quot;!important&quot; override on the user stylesheet, the user stylesheet wins, even if the site stylesheet also had an &quot;!important&quot; for that rule.</div><br/></div></div><div id="36466499" class="c"><input type="checkbox" id="c-36466499" checked=""/><div class="controls bullet"><span class="by">yard2010</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36466267">parent</a><span>|</span><a href="#36468354">prev</a><span>|</span><a href="#36467107">next</a><span>|</span><label class="collapse" for="c-36466499">[-]</label><label class="expand" for="c-36466499">[1 more]</label></div><br/><div class="children"><div class="content">Fun trick to use if you use a css post processing (less, sass, etc.) is &quot;&amp;&amp;&amp;&quot;, it will resolve to a very specific rule which overwrites the other rules</div><br/></div></div></div></div><div id="36466506" class="c"><input type="checkbox" id="c-36466506" checked=""/><div class="controls bullet"><span class="by">vishnugupta</span><span>|</span><a href="#36466182">parent</a><span>|</span><a href="#36466267">prev</a><span>|</span><a href="#36468513">next</a><span>|</span><label class="collapse" for="c-36466506">[-]</label><label class="expand" for="c-36466506">[5 more]</label></div><br/><div class="children"><div class="content">While at it I’ve made it a practice to expose an internal endpoint for every service to output its config. It has saved me on numerous occasions to catch config related bugs.</div><br/><div id="36467909" class="c"><input type="checkbox" id="c-36467909" checked=""/><div class="controls bullet"><span class="by">simply_seal</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36466506">parent</a><span>|</span><a href="#36468513">next</a><span>|</span><label class="collapse" for="c-36467909">[-]</label><label class="expand" for="c-36467909">[4 more]</label></div><br/><div class="children"><div class="content">Could you explain a little more? I am not sure what exactly you mean by &quot;exposing an internal endpoint&quot; - do you mean that as a secured API endpoint which you can call? Isn&#x27;t that hard to secure?</div><br/><div id="36468113" class="c"><input type="checkbox" id="c-36468113" checked=""/><div class="controls bullet"><span class="by">delecti</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36467909">parent</a><span>|</span><a href="#36470921">next</a><span>|</span><label class="collapse" for="c-36468113">[-]</label><label class="expand" for="c-36468113">[1 more]</label></div><br/><div class="children"><div class="content">Depending on your environment, endpoints might not default to exposed. As an example where I work, we have to explicitly enumerate endpoints to expose (potentially including wildcards, like admin&#x2F;*), and anything else is only accessible with direct access to the pod.</div><br/></div></div><div id="36470921" class="c"><input type="checkbox" id="c-36470921" checked=""/><div class="controls bullet"><span class="by">shrimpx</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36467909">parent</a><span>|</span><a href="#36468113">prev</a><span>|</span><a href="#36468513">next</a><span>|</span><label class="collapse" for="c-36470921">[-]</label><label class="expand" for="c-36470921">[2 more]</label></div><br/><div class="children"><div class="content">Presumably you can access it while on a secure VPN but not publicly. You can do this by serving the config route on an internal port.</div><br/><div id="36471603" class="c"><input type="checkbox" id="c-36471603" checked=""/><div class="controls bullet"><span class="by">vishnugupta</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36470921">parent</a><span>|</span><a href="#36468513">next</a><span>|</span><label class="collapse" for="c-36471603">[-]</label><label class="expand" for="c-36471603">[1 more]</label></div><br/><div class="children"><div class="content">Indeed, that’s exactly how my team did it.</div><br/></div></div></div></div></div></div></div></div><div id="36468513" class="c"><input type="checkbox" id="c-36468513" checked=""/><div class="controls bullet"><span class="by">jonhohle</span><span>|</span><a href="#36466182">parent</a><span>|</span><a href="#36466506">prev</a><span>|</span><a href="#36467506">next</a><span>|</span><label class="collapse" for="c-36468513">[-]</label><label class="expand" for="c-36468513">[2 more]</label></div><br/><div class="children"><div class="content">Amazon had a hierarchical configuration system for loading config that could override other config (or add to it, depending on the implementation). The Java framework would provide an endpoint to show you the final resolved config along with which file and line that value came from. Very helpful when trying to figure out why config was different than expected.<p>At least the inspector in Safari (and maybe other WebKit browsers) does something similar for CSS.<p>I’m all for it. It’s a pain when writing config systems (no longer just key&#x2F;value, but key+value+meta), but very helpful. It can be a pain for things like JSON where libraries don’t give you that type of diagnostic information easily, however.</div><br/><div id="36469102" class="c"><input type="checkbox" id="c-36469102" checked=""/><div class="controls bullet"><span class="by">offbyone</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36468513">parent</a><span>|</span><a href="#36467506">next</a><span>|</span><label class="collapse" for="c-36469102">[-]</label><label class="expand" for="c-36469102">[1 more]</label></div><br/><div class="children"><div class="content">I had the distinct pleasure (?) of owning the C++, Python, and Java implementations of that config for a while and ... yeah, it had some positives, but the fact that it had two orthogonal hierarchies of configuration in addition to implementation-specific feature gaps and nuances made it something of a nightmare in practice.</div><br/></div></div></div></div><div id="36467506" class="c"><input type="checkbox" id="c-36467506" checked=""/><div class="controls bullet"><span class="by">cesaref</span><span>|</span><a href="#36466182">parent</a><span>|</span><a href="#36468513">prev</a><span>|</span><a href="#36475577">next</a><span>|</span><label class="collapse" for="c-36467506">[-]</label><label class="expand" for="c-36467506">[3 more]</label></div><br/><div class="children"><div class="content">Agreed, logging in config retrieval code should log all this stuff, requests, where they are filled from, that sort of thing.<p>The problems with this approach when it&#x27;s enabled is that log aggregators (e.g splunk) can end up including stuff like passwords which shouldn&#x27;t be visible to the group able to view those logs, so some care is needed.</div><br/><div id="36469973" class="c"><input type="checkbox" id="c-36469973" checked=""/><div class="controls bullet"><span class="by">usrusr</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36467506">parent</a><span>|</span><a href="#36467662">next</a><span>|</span><label class="collapse" for="c-36469973">[-]</label><label class="expand" for="c-36469973">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;d rather have some config reserialization capability with provenance (perhaps as an opt-in). A good config reserialization can make itself useful in so many situations, if it has the right features. Like pointing out key-value pairs that don&#x27;t have any effect, or simply writing out some documentation.<p>Logging has its merits, like discoverability when you stare at it without suspecting configuration to be the culprit, but I believe that there can and should be more.</div><br/></div></div><div id="36467662" class="c"><input type="checkbox" id="c-36467662" checked=""/><div class="controls bullet"><span class="by">TeMPOraL</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36467506">parent</a><span>|</span><a href="#36469973">prev</a><span>|</span><a href="#36475577">next</a><span>|</span><label class="collapse" for="c-36467662">[-]</label><label class="expand" for="c-36467662">[1 more]</label></div><br/><div class="children"><div class="content">Logging keys only should be sufficient for this.</div><br/></div></div></div></div><div id="36475577" class="c"><input type="checkbox" id="c-36475577" checked=""/><div class="controls bullet"><span class="by">patmcc</span><span>|</span><a href="#36466182">parent</a><span>|</span><a href="#36467506">prev</a><span>|</span><a href="#36468075">next</a><span>|</span><label class="collapse" for="c-36475577">[-]</label><label class="expand" for="c-36475577">[3 more]</label></div><br/><div class="children"><div class="content">&gt;&gt;&gt;Some programs use a &quot;last occurrence wins&quot; approach, while other programs (e.g. sshd) use a &quot;first occurrence wins&quot; approach.<p>A bunch of applications at my job use a config-loading library that will fail on startup if the same option is set to two different value (on different lines). It&#x27;s certainly frustrating at times...but it&#x27;s also prevented a huge amount of ambiguity.</div><br/><div id="36475598" class="c"><input type="checkbox" id="c-36475598" checked=""/><div class="controls bullet"><span class="by">wizofaus</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36475577">parent</a><span>|</span><a href="#36475588">next</a><span>|</span><label class="collapse" for="c-36475598">[-]</label><label class="expand" for="c-36475598">[1 more]</label></div><br/><div class="children"><div class="content">That would actually be my preference TBH.  Failing quickly at startup is usually far better than unpredictable behaviour later on, particularly if it&#x27;s a long-running service.
Though I&#x27;ve always thought that the behaviour of tools when launched interactively by the user, vs launched via an automated background process should probably be different - it may well be that if a user&#x2F;administrator isn&#x27;t aware it failed on machine startup the consequences of it not being running at all are worse than an ambiguous configuration setting.</div><br/></div></div><div id="36475588" class="c"><input type="checkbox" id="c-36475588" checked=""/><div class="controls bullet"><span class="by">fbdab103</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36475577">parent</a><span>|</span><a href="#36475598">prev</a><span>|</span><a href="#36468075">next</a><span>|</span><label class="collapse" for="c-36475588">[-]</label><label class="expand" for="c-36475588">[1 more]</label></div><br/><div class="children"><div class="content">I am incredibly torn on if this is brilliant or would have me cursing the developer&#x27;s name.</div><br/></div></div></div></div><div id="36468075" class="c"><input type="checkbox" id="c-36468075" checked=""/><div class="controls bullet"><span class="by">rapind</span><span>|</span><a href="#36466182">parent</a><span>|</span><a href="#36475577">prev</a><span>|</span><a href="#36471183">next</a><span>|</span><label class="collapse" for="c-36468075">[-]</label><label class="expand" for="c-36468075">[13 more]</label></div><br/><div class="children"><div class="content">I would prefer a convention… but first wins is backwards IMO. It really sucks when a bad convention gets adopted, like this first wins, or spaces instead of tabs. ;)</div><br/><div id="36470799" class="c"><input type="checkbox" id="c-36470799" checked=""/><div class="controls bullet"><span class="by">deredede</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36468075">parent</a><span>|</span><a href="#36468298">next</a><span>|</span><label class="collapse" for="c-36470799">[-]</label><label class="expand" for="c-36470799">[1 more]</label></div><br/><div class="children"><div class="content">First wins makes some sense from a security pov. You want to load the more &quot;trusted&quot; configuration files first because they must be able to further restrict the less trusted files, but don&#x27;t want to let the less trusted files override the settings set by the trusted files.<p>Rejecting multiple definitions is better, unless you care about DoS (I would be pissed if I got locked out of ssh access due to an option being defined twice, for instance).</div><br/></div></div><div id="36468298" class="c"><input type="checkbox" id="c-36468298" checked=""/><div class="controls bullet"><span class="by">galleywest200</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36468075">parent</a><span>|</span><a href="#36470799">prev</a><span>|</span><a href="#36468098">next</a><span>|</span><label class="collapse" for="c-36468298">[-]</label><label class="expand" for="c-36468298">[1 more]</label></div><br/><div class="children"><div class="content">At least with the spaces&#x2F;tabs my IDE can automatically convert it for me.</div><br/></div></div><div id="36468098" class="c"><input type="checkbox" id="c-36468098" checked=""/><div class="controls bullet"><span class="by">AlecSchueler</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36468075">parent</a><span>|</span><a href="#36468298">prev</a><span>|</span><a href="#36471183">next</a><span>|</span><label class="collapse" for="c-36468098">[-]</label><label class="expand" for="c-36468098">[10 more]</label></div><br/><div class="children"><div class="content">First&#x2F;last is ambiguous anyway and implementation dependant.</div><br/><div id="36468456" class="c"><input type="checkbox" id="c-36468456" checked=""/><div class="controls bullet"><span class="by">nebulous1</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36468098">parent</a><span>|</span><a href="#36471183">next</a><span>|</span><label class="collapse" for="c-36468456">[-]</label><label class="expand" for="c-36468456">[9 more]</label></div><br/><div class="children"><div class="content">How so?</div><br/><div id="36468547" class="c"><input type="checkbox" id="c-36468547" checked=""/><div class="controls bullet"><span class="by">jonhohle</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36468456">parent</a><span>|</span><a href="#36468726">next</a><span>|</span><label class="collapse" for="c-36468547">[-]</label><label class="expand" for="c-36468547">[5 more]</label></div><br/><div class="children"><div class="content">If there are multiple files in a wildcard pattern, what order are they resolved? I know for classpath loading, for example, it’s in directory order, which is file system dependent, and often based on the order the files were written to the directory and&#x2F;or the size of the directory inode. Lots of fun figuring out why the wrong version of a class is consistently loaded on one or two servers out of twenty. (Always check your classpaths for duplicates kids.)</div><br/><div id="36469781" class="c"><input type="checkbox" id="c-36469781" checked=""/><div class="controls bullet"><span class="by">usrusr</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36468547">parent</a><span>|</span><a href="#36469219">next</a><span>|</span><label class="collapse" for="c-36469781">[-]</label><label class="expand" for="c-36469781">[1 more]</label></div><br/><div class="children"><div class="content">Oh yes! Good thing if it only happens in the build server and not on deployments, but that can be &quot;fun&quot; enough. Bonus points if you have a culture of repeat builds being &quot;special&quot;.</div><br/></div></div><div id="36469219" class="c"><input type="checkbox" id="c-36469219" checked=""/><div class="controls bullet"><span class="by">ycombobreaker</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36468547">parent</a><span>|</span><a href="#36469781">prev</a><span>|</span><a href="#36468939">next</a><span>|</span><label class="collapse" for="c-36469219">[-]</label><label class="expand" for="c-36469219">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve always seen this solved by sorting (lexicographical order of bytes, originally).  First two characters were digits, for all files within a wildcard directory.</div><br/></div></div><div id="36468939" class="c"><input type="checkbox" id="c-36468939" checked=""/><div class="controls bullet"><span class="by">cesarb</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36468547">parent</a><span>|</span><a href="#36469219">prev</a><span>|</span><a href="#36469454">next</a><span>|</span><label class="collapse" for="c-36468939">[-]</label><label class="expand" for="c-36468939">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Always check your classpaths for duplicates kids.<p>I recently discovered extra-enforcer-rules which can help with that, as long as your classpath comes from Maven dependencies.</div><br/></div></div><div id="36469454" class="c"><input type="checkbox" id="c-36469454" checked=""/><div class="controls bullet"><span class="by">justsomehnguy</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36468547">parent</a><span>|</span><a href="#36468939">prev</a><span>|</span><a href="#36468726">next</a><span>|</span><label class="collapse" for="c-36469454">[-]</label><label class="expand" for="c-36469454">[1 more]</label></div><br/><div class="children"><div class="content">&gt; If there are multiple files in a wildcard pattern, what order are they resolved<p>If you don&#x27;t care (eg [0]) then do nothing and let the user bang it&#x27;s head and reinvent the wheel.<p>If you care - just sort it and mark it as &#x27;platform dependent&#x27; or somehow. Nobody really cares for the exact rules and a simple \d\d\-\w+\.conf pattern for the filenames is more than enough in 99% of cases.<p>[0] <a href="https:&#x2F;&#x2F;www.zabbix.com&#x2F;documentation&#x2F;6.0&#x2F;en&#x2F;manual&#x2F;appendix&#x2F;config&#x2F;special_notes_include" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.zabbix.com&#x2F;documentation&#x2F;6.0&#x2F;en&#x2F;manual&#x2F;appendix&#x2F;...</a></div><br/></div></div></div></div><div id="36468726" class="c"><input type="checkbox" id="c-36468726" checked=""/><div class="controls bullet"><span class="by">anilakar</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36468456">parent</a><span>|</span><a href="#36468547">prev</a><span>|</span><a href="#36471183">next</a><span>|</span><label class="collapse" for="c-36468726">[-]</label><label class="expand" for="c-36468726">[3 more]</label></div><br/><div class="children"><div class="content">Because &quot;first&quot; and &quot;last&quot; don&#x27;t convey priority. You have to know how the configuration parser works with defaults and overrides. Does the parser stop reading after the first match? Do later configuration directives override previous ones or are they appended to them, and if they are appended, in which order are they evaluated?</div><br/><div id="36469074" class="c"><input type="checkbox" id="c-36469074" checked=""/><div class="controls bullet"><span class="by">nebulous1</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36468726">parent</a><span>|</span><a href="#36469069">next</a><span>|</span><label class="collapse" for="c-36469074">[-]</label><label class="expand" for="c-36469074">[1 more]</label></div><br/><div class="children"><div class="content">First and last are only ambiguous if we make the order ambiguous though.  There&#x27;s no reason for the order to be ambiguous, and if it is then obviously we can&#x27;t use first&#x2F;last.  I don&#x27;t think that first&#x2F;last are either ambiguous or implementation dependent concepts.  The other questions are simply other questions, and aren&#x27;t directly related to whether the ordering is ambiguous or not.<p>There are plenty of applications that read a set list of configuration files and use either the first or last setting found.  I agree with the responder that the last setting usually makes more sense.</div><br/></div></div><div id="36469069" class="c"><input type="checkbox" id="c-36469069" checked=""/><div class="controls bullet"><span class="by">rapind</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36468726">parent</a><span>|</span><a href="#36469074">prev</a><span>|</span><a href="#36471183">next</a><span>|</span><label class="collapse" for="c-36469069">[-]</label><label class="expand" for="c-36469069">[1 more]</label></div><br/><div class="children"><div class="content">&gt; and if they are appended, in which order are they evaluated?<p>This would be a problem for first wins too.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="36471183" class="c"><input type="checkbox" id="c-36471183" checked=""/><div class="controls bullet"><span class="by">hinkley</span><span>|</span><a href="#36466182">parent</a><span>|</span><a href="#36468075">prev</a><span>|</span><a href="#36466263">next</a><span>|</span><label class="collapse" for="c-36471183">[-]</label><label class="expand" for="c-36471183">[1 more]</label></div><br/><div class="children"><div class="content">Ant also had first writer wins. I tried to explain this so, so many times to so many people, and only rarely did it stick. On that project I spent way too much time fixing build errors, and ended up rearranging things to make the behavior more obvious rather than less, because without it people would fool themselves into thinking they had it right, because sometimes it would appear to work.<p>And the thing with developers is that they make lousy scientists. If they want something to work, they’ll take any information that supports that theory and run straight to the repository with it.<p>The trick is not to fool yourself, and you’re the easiest person to fool.</div><br/></div></div><div id="36466263" class="c"><input type="checkbox" id="c-36466263" checked=""/><div class="controls bullet"><span class="by">Eduard</span><span>|</span><a href="#36466182">parent</a><span>|</span><a href="#36471183">prev</a><span>|</span><a href="#36466423">next</a><span>|</span><label class="collapse" for="c-36466263">[-]</label><label class="expand" for="c-36466263">[2 more]</label></div><br/><div class="children"><div class="content">Also: processes &#x2F; running programs should provide a straightforward way to show their configuration.<p>While &quot;sshd -T&quot; shows the effective configuration from all configuration file parsing, there is no straightforward way to see the configuration of the&#x2F;a currently running sshd process.<p>This has footgun potential, as someone could think their sshd is secured and hardened by checking with &quot;sshd -T&quot;, while the actually running sshd process still uses old configurations.<p>Apache also makes it needlessly hard to find out its effective (and active &#x2F; currently running) configuration. I don&#x27;t know of any better way then awkwardly using mod_info ( <a href="https:&#x2F;&#x2F;httpd.apache.org&#x2F;docs&#x2F;2.4&#x2F;mod&#x2F;mod_info.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;httpd.apache.org&#x2F;docs&#x2F;2.4&#x2F;mod&#x2F;mod_info.html</a> ) to get such insights.</div><br/><div id="36466452" class="c"><input type="checkbox" id="c-36466452" checked=""/><div class="controls bullet"><span class="by">mike_hock</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36466263">parent</a><span>|</span><a href="#36466423">next</a><span>|</span><label class="collapse" for="c-36466452">[-]</label><label class="expand" for="c-36466452">[1 more]</label></div><br/><div class="children"><div class="content">Not sure I get the reasoning here. That requires you to actually go and proofread the configuration of each and every running process, at which point it&#x27;s easier to just verify the effective configuration on disk and restart the service.<p>SSH is a special case because it leaves active sessions alive when it restarts, but that doesn&#x27;t generalize to other daemons. Just restart if in doubt.</div><br/></div></div></div></div><div id="36466423" class="c"><input type="checkbox" id="c-36466423" checked=""/><div class="controls bullet"><span class="by">micheles</span><span>|</span><a href="#36466182">parent</a><span>|</span><a href="#36466263">prev</a><span>|</span><a href="#36470704">next</a><span>|</span><label class="collapse" for="c-36466423">[-]</label><label class="expand" for="c-36466423">[3 more]</label></div><br/><div class="children"><div class="content">This is good advice and my own software is following it:<p>$ oq info cfg<p>Looking at the following paths (the last wins)<p>&#x2F;opt&#x2F;openquake&#x2F;oq-engine&#x2F;openquake&#x2F;engine&#x2F;openquake.cfg<p>&#x2F;opt&#x2F;openquake&#x2F;venv&#x2F;openquake.cfg<p>However, I do not think there is any standard API to follow, I used &quot;info cfg&quot; but many alternatives were possible. So sysadmins have to explore to find out which is the introspection command to give. Not ideal, but I don&#x27;t think there is a solution.</div><br/><div id="36466470" class="c"><input type="checkbox" id="c-36466470" checked=""/><div class="controls bullet"><span class="by">kataklasm</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36466423">parent</a><span>|</span><a href="#36470704">next</a><span>|</span><label class="collapse" for="c-36466470">[-]</label><label class="expand" for="c-36466470">[2 more]</label></div><br/><div class="children"><div class="content">I would look for something like this in the help output, i.e. --help or -h. And of course the manpage if you do supply one.</div><br/><div id="36468364" class="c"><input type="checkbox" id="c-36468364" checked=""/><div class="controls bullet"><span class="by">cesarb</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36466470">parent</a><span>|</span><a href="#36470704">next</a><span>|</span><label class="collapse" for="c-36468364">[-]</label><label class="expand" for="c-36468364">[1 more]</label></div><br/><div class="children"><div class="content">Another good place for that is the --version output, if your --version is one of those verbose multi-line ones (instead of a basic single-line output).</div><br/></div></div></div></div></div></div><div id="36470704" class="c"><input type="checkbox" id="c-36470704" checked=""/><div class="controls bullet"><span class="by">m4lvin</span><span>|</span><a href="#36466182">parent</a><span>|</span><a href="#36466423">prev</a><span>|</span><a href="#36469266">next</a><span>|</span><label class="collapse" for="c-36470704">[-]</label><label class="expand" for="c-36470704">[2 more]</label></div><br/><div class="children"><div class="content">Nice example, which opened a small rabbit hole for me: what does &quot;first occurrence wins&quot; mean for options that are meant to be used multiple times, such as &quot;Port&quot; in sshd_config. The man page only says &quot;Multiple options of this type are permitted.&quot;, but now I wonder what happens when I put my own Port into &#x2F;etc&#x2F;ssh&#x2F;sshd_config.d&#x2F;whatever.conf but leave &quot;Port 22&quot; in sshd_config? Or is the (new since bookworm) default sshd_config commenting it out for this reason?<p>More generally, for multi-options do we maybe want &quot;first file wins&quot;?</div><br/><div id="36470940" class="c"><input type="checkbox" id="c-36470940" checked=""/><div class="controls bullet"><span class="by">florbo</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36470704">parent</a><span>|</span><a href="#36469266">next</a><span>|</span><label class="collapse" for="c-36470940">[-]</label><label class="expand" for="c-36470940">[1 more]</label></div><br/><div class="children"><div class="content">Reading in general to more specific configuration directories in order and using the last value read makes the most sense to me. This is usually how I write my own applications.<p>Anyway, I thoroughly document the order and precedence, but the suggestion from Chris&#x27; blog to report more detail about the process is a good one.</div><br/></div></div></div></div><div id="36469266" class="c"><input type="checkbox" id="c-36469266" checked=""/><div class="controls bullet"><span class="by">bayindirh</span><span>|</span><a href="#36466182">parent</a><span>|</span><a href="#36470704">prev</a><span>|</span><a href="#36467612">next</a><span>|</span><label class="collapse" for="c-36469266">[-]</label><label class="expand" for="c-36469266">[4 more]</label></div><br/><div class="children"><div class="content">If you pass -verbose switch to any of my programs you&#x27;ll definitely see a line similar to this:<p><pre><code>    verbose: Configuration file found at $PATH.
</code></pre>
There are a couple of places I look for my config files: &#x2F;etc, ~&#x2F;.config and &quot;.&#x2F;conf&quot;, at that order. The last one accelerates testing a great deal.<p>And every configuration that overrides the built-in defaults are reported one by one.<p>Also, I started to detail how configuration file works in README.md file, under its section now.<p>Lastly, I decided to fix all of my tools to work on same specs from now on, regardless of the programming language they&#x27;re written in:<p>1. Use TOML, and TOML only.<p>2. Config file overrides the defaults, Command line flags overrides the configuration file.</div><br/><div id="36469980" class="c"><input type="checkbox" id="c-36469980" checked=""/><div class="controls bullet"><span class="by">cperciva</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36469266">parent</a><span>|</span><a href="#36467612">next</a><span>|</span><label class="collapse" for="c-36469980">[-]</label><label class="expand" for="c-36469980">[3 more]</label></div><br/><div class="children"><div class="content"><i>Config file overrides the defaults, Command line flags overrides the configuration file.</i><p>Don&#x27;t forget &quot;user configuration file overrides system configuration file (but is overridden by command line)&quot;.<p>In tarsnap the priority (lowest wins) is:<p>0: Command line<p>1: ~&#x2F;.tarsnaprc<p>2: &#x2F;etc&#x2F;tarsnap.conf (may be in a different system etc depending on platform standards)<p>3: tarsnap defaults.</div><br/><div id="36470354" class="c"><input type="checkbox" id="c-36470354" checked=""/><div class="controls bullet"><span class="by">spc476</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36469980">parent</a><span>|</span><a href="#36467612">next</a><span>|</span><label class="collapse" for="c-36470354">[-]</label><label class="expand" for="c-36470354">[2 more]</label></div><br/><div class="children"><div class="content">Where would configuration options via environment variables fit in?  I can see between 0 and 1, or 1 and 2, but can&#x27;t quite decide which is better.</div><br/><div id="36470753" class="c"><input type="checkbox" id="c-36470753" checked=""/><div class="controls bullet"><span class="by">cperciva</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36470354">parent</a><span>|</span><a href="#36467612">next</a><span>|</span><label class="collapse" for="c-36470753">[-]</label><label class="expand" for="c-36470753">[1 more]</label></div><br/><div class="children"><div class="content">Not relevant to tarsnap (and in general something I would be very careful about adding since people often don&#x27;t realize what&#x27;s in their environment) but I would say that command line options take priority over the environment and the environment takes priority over all configuration files.</div><br/></div></div></div></div></div></div></div></div><div id="36467612" class="c"><input type="checkbox" id="c-36467612" checked=""/><div class="controls bullet"><span class="by">amelius</span><span>|</span><a href="#36466182">parent</a><span>|</span><a href="#36469266">prev</a><span>|</span><a href="#36471891">next</a><span>|</span><label class="collapse" for="c-36467612">[-]</label><label class="expand" for="c-36467612">[2 more]</label></div><br/><div class="children"><div class="content">Also, they should report where logs are written.</div><br/><div id="36477071" class="c"><input type="checkbox" id="c-36477071" checked=""/><div class="controls bullet"><span class="by">preseinger</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36467612">parent</a><span>|</span><a href="#36471891">next</a><span>|</span><label class="collapse" for="c-36477071">[-]</label><label class="expand" for="c-36477071">[1 more]</label></div><br/><div class="children"><div class="content">logs always go to stdout&#x2F;stderr<p>hopefully!</div><br/></div></div></div></div><div id="36471891" class="c"><input type="checkbox" id="c-36471891" checked=""/><div class="controls bullet"><span class="by">doctorpangloss</span><span>|</span><a href="#36466182">parent</a><span>|</span><a href="#36467612">prev</a><span>|</span><a href="#36472352">next</a><span>|</span><label class="collapse" for="c-36471891">[-]</label><label class="expand" for="c-36471891">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s crazy that a year from now, no one is ever going to be thinking about this garbage ever again. By then, enough programmers will have discovered how insanely good GPT4 is at doing software configuration, and in the absence of the right answer, reading these verbose docs to finally <i>just</i> tell you what to do.</div><br/><div id="36477073" class="c"><input type="checkbox" id="c-36477073" checked=""/><div class="controls bullet"><span class="by">preseinger</span><span>|</span><a href="#36466182">root</a><span>|</span><a href="#36471891">parent</a><span>|</span><a href="#36472352">next</a><span>|</span><label class="collapse" for="c-36477073">[-]</label><label class="expand" for="c-36477073">[1 more]</label></div><br/><div class="children"><div class="content">lol</div><br/></div></div></div></div><div id="36472352" class="c"><input type="checkbox" id="c-36472352" checked=""/><div class="controls bullet"><span class="by">bredren</span><span>|</span><a href="#36466182">parent</a><span>|</span><a href="#36471891">prev</a><span>|</span><a href="#36469696">next</a><span>|</span><label class="collapse" for="c-36472352">[-]</label><label class="expand" for="c-36472352">[1 more]</label></div><br/><div class="children"><div class="content">It would also help if an active process said if it was running using the current config.<p>For example, if a change has been introduced to a config file, but the process has not been restarted to incorporate those changes, this should be conveniently mentioned.</div><br/></div></div><div id="36469696" class="c"><input type="checkbox" id="c-36469696" checked=""/><div class="controls bullet"><span class="by">__MatrixMan__</span><span>|</span><a href="#36466182">parent</a><span>|</span><a href="#36472352">prev</a><span>|</span><a href="#36474989">next</a><span>|</span><label class="collapse" for="c-36469696">[-]</label><label class="expand" for="c-36469696">[1 more]</label></div><br/><div class="children"><div class="content">I prefer the &quot;setting it twice to different values is an error&quot; mode, which isn&#x27;t especially common.</div><br/></div></div><div id="36474989" class="c"><input type="checkbox" id="c-36474989" checked=""/><div class="controls bullet"><span class="by">AtlasBarfed</span><span>|</span><a href="#36466182">parent</a><span>|</span><a href="#36469696">prev</a><span>|</span><a href="#36468406">next</a><span>|</span><label class="collapse" for="c-36474989">[-]</label><label class="expand" for="c-36474989">[1 more]</label></div><br/><div class="children"><div class="content">When discussing, let&#x27;s keep in mind what really mature configuration can look like:<p><a href="https:&#x2F;&#x2F;docs.spring.io&#x2F;spring-boot&#x2F;docs&#x2F;2.1.13.RELEASE&#x2F;reference&#x2F;html&#x2F;boot-features-external-config.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;docs.spring.io&#x2F;spring-boot&#x2F;docs&#x2F;2.1.13.RELEASE&#x2F;refer...</a><p>This is a big ridiculous, but the fact is that the entire order of processing there is a result of practical need evolved over likely thousands of organizations.<p>There are unit testing concerns, dev&#x2F;test&#x2F;stage&#x2F;prod concerns, CLI args, OS vars, config files, IDE vs non-ide concerns, and more. And even some references to databases (if you squint and see JNDI as a database).<p>So yeah, finding out where property value X was set can be a bit maddening oftentimes.<p>&quot;Configuration&quot; is an afterthought in most languages and frameworks in initial iterations. So bespoke &#x2F; one-off solutions will explode early on. As the original complaint details, &quot;configuration&quot; isn&#x27;t just a simple property file. It gets complex pretty quickly, and a good configuration subsystem would be nice:<p>- supports most of the concerns above<p>- provides a means for logging the final config value set and WHERE IT SOURCED FROM<p>But... oh wait, config values aren&#x27;t just key-value. Wait until you get to trees of values or other more complicated config. Then value overlaying gets pretty hard, and resolution code gets complicated too.<p>Think of infrastructure as code frameworks. The configuration is insanely deep and complicated. Many complicated systems have &quot;configuration languages&quot;, and they are probably Turing Complete.<p>And once your configuration system is complicated enough ... your configuration system kind of implicitly needs ITS OWN configuration system.<p>So maybe the first config layer is actually a bootstrap for loading all the configuration info.<p>And.... then you have config values you need to secure. Hooo boy, now you have all the complexity of high security systems interfaces: authentication and authorization, decryption and hashing.<p>And invariably there are binary blobs encoded in text friendliness.<p>It gets crazy. Fast.<p>BUT THE AMOUNT OF SIMILARITY IS NUTS. NUTS. This is begging for a common approach or standard or library.</div><br/></div></div></div></div><div id="36468406" class="c"><input type="checkbox" id="c-36468406" checked=""/><div class="controls bullet"><span class="by">vaughan</span><span>|</span><a href="#36466182">prev</a><span>|</span><a href="#36466130">next</a><span>|</span><label class="collapse" for="c-36468406">[-]</label><label class="expand" for="c-36468406">[48 more]</label></div><br/><div class="children"><div class="content">This is the central problem with all programming today.<p>You can think of everything as configuration. Parameters of a function are just configuration for that function.<p>What we need is traceability of every value in a system, not just configuration. You click on any value and you see a graph&#x2F;chain of all the transformations this data goes through right back to the source of truth. This is how we should code. Think about how difficult this is to do today with your current IDE&#x2F;editor.<p>Every task in software is wanting to change what is displayed in a user interface of some sort. Usually you have to make your way through a labyrinth to figure out what to change where, and also what side-effects will occur.<p>If this is not smack bang in front of your face when you are coding, then you are just adding more and more tangled data flows and complexity to your system.</div><br/><div id="36470742" class="c"><input type="checkbox" id="c-36470742" checked=""/><div class="controls bullet"><span class="by">spawarotti</span><span>|</span><a href="#36468406">parent</a><span>|</span><a href="#36470007">next</a><span>|</span><label class="collapse" for="c-36470742">[-]</label><label class="expand" for="c-36470742">[1 more]</label></div><br/><div class="children"><div class="content">Truer words have never been spoken.<p>Microsoft IntelliTest (formerly Pex) [1] is internally using Z3 constraint solver that traces program data and control flow graph well enough to be able to generate desired values to reach given statement of code. It can even run the program to figure out runtime values. Hence the technique is called Dynamic Symbolic Execution [3]. We have technology for this, just not yet applied correctly.<p>I would also like to be able to point at any function in my IDE and ask it:<p>- &quot;Can you show me the usual runtime input&#x2F;output pairs for this function?&quot;<p>- &quot;Can you show me the preconditions and postconditions this function obeys?&quot;<p>There is plenty of research prototypes doing it (Whyline [4], Daikon [5], ...) but sadly, not a tool usable for the daily grind.<p>[1] <a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;visualstudio&#x2F;test&#x2F;intellitest-manual&#x2F;?view=vs-2022" rel="nofollow noreferrer">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;visualstudio&#x2F;test&#x2F;intellit...</a><p>[2] <a href="https:&#x2F;&#x2F;link.springer.com&#x2F;chapter&#x2F;10.1007&#x2F;978-3-642-38916-0_9" rel="nofollow noreferrer">https:&#x2F;&#x2F;link.springer.com&#x2F;chapter&#x2F;10.1007&#x2F;978-3-642-38916-0_...</a><p>[3] <a href="https:&#x2F;&#x2F;queue.acm.org&#x2F;detail.cfm?id=2094081" rel="nofollow noreferrer">https:&#x2F;&#x2F;queue.acm.org&#x2F;detail.cfm?id=2094081</a><p>[4] <a href="https:&#x2F;&#x2F;www.cs.cmu.edu&#x2F;~NatProg&#x2F;whyline.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.cs.cmu.edu&#x2F;~NatProg&#x2F;whyline.html</a><p>[5] <a href="https:&#x2F;&#x2F;plse.cs.washington.edu&#x2F;daikon&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;plse.cs.washington.edu&#x2F;daikon&#x2F;</a></div><br/></div></div><div id="36470007" class="c"><input type="checkbox" id="c-36470007" checked=""/><div class="controls bullet"><span class="by">fasterik</span><span>|</span><a href="#36468406">parent</a><span>|</span><a href="#36470742">prev</a><span>|</span><a href="#36475416">next</a><span>|</span><label class="collapse" for="c-36470007">[-]</label><label class="expand" for="c-36470007">[3 more]</label></div><br/><div class="children"><div class="content">I suspect this is an area that is part of the essential complexity [1] of programming. Reachability, variable liveness, pointer aliasing, etc. are undecidable problems for arbitrary programs. Also, the control flow graph of most non-trivial programs is probably too complex to visualize in a usable way.<p>However, there is still a lot of room for improvement in compilers and debuggers. If I could tell the compiler to instrument my code to track the values that I care about, and then have the debugger visualize the flow of information through the system, that would be very useful. It wouldn&#x27;t guarantee that the data flow analysis applies to subsequent runs of the program, but it could reduce the amount of time spent reading and debugging code.<p>[1] <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;No_Silver_Bullet" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;No_Silver_Bullet</a></div><br/><div id="36470292" class="c"><input type="checkbox" id="c-36470292" checked=""/><div class="controls bullet"><span class="by">vaughan</span><span>|</span><a href="#36468406">root</a><span>|</span><a href="#36470007">parent</a><span>|</span><a href="#36475416">next</a><span>|</span><label class="collapse" for="c-36470292">[-]</label><label class="expand" for="c-36470292">[2 more]</label></div><br/><div class="children"><div class="content">Something that gives me hope is that I haven&#x27;t seen anyone prioritize debuggability in a modern programming language or even a framework. Vale is maybe the first getting close: <a href="https:&#x2F;&#x2F;verdagon.dev&#x2F;blog&#x2F;perfect-replayability-prototyped" rel="nofollow noreferrer">https:&#x2F;&#x2F;verdagon.dev&#x2F;blog&#x2F;perfect-replayability-prototyped</a>.<p>I think there is a new era yet to come.<p>&gt; probably too complex to visualize in a usable way<p>You can always abstract the complexity. A simplification of the control flow graph at the function level.<p>As an example, I want to understand the Postgres codebase better...there are a lot of very visualizable things going on there. If you look at lecture slides on relational DBMS, there are lots of diagrams...so why can&#x27;t be view those animating diagrams as the code executes.<p>I was thinking of instrumenting the code to get a trace of every function call and its arguments, and then filter that and visualize it.<p>The key to this approach working though is a think ultimately we need to write our code and organize our code such that it can be easily visualizable. The purpose of code is for humans to understand it, otherwise we are writing assembly.</div><br/><div id="36473266" class="c"><input type="checkbox" id="c-36473266" checked=""/><div class="controls bullet"><span class="by">Terr_</span><span>|</span><a href="#36468406">root</a><span>|</span><a href="#36470292">parent</a><span>|</span><a href="#36475416">next</a><span>|</span><label class="collapse" for="c-36473266">[-]</label><label class="expand" for="c-36473266">[1 more]</label></div><br/><div class="children"><div class="content">&gt;  I haven&#x27;t seen anyone prioritize debuggability<p>Static-checking tools and strongly-typed languages: &quot;Are we a joke to you?&quot;<p>Finding and removing bugs <i>before</i> the code runs is still debugging.</div><br/></div></div></div></div></div></div><div id="36475416" class="c"><input type="checkbox" id="c-36475416" checked=""/><div class="controls bullet"><span class="by">AdieuToLogic</span><span>|</span><a href="#36468406">parent</a><span>|</span><a href="#36470007">prev</a><span>|</span><a href="#36468947">next</a><span>|</span><label class="collapse" for="c-36475416">[-]</label><label class="expand" for="c-36475416">[1 more]</label></div><br/><div class="children"><div class="content">&gt; This is the central problem with all programming today.<p>Sweeping generalizations rarely age well.<p>&gt; You can think of everything as configuration. Parameters of a function are just configuration for that function.<p>No, parameters of a function are contextual collaborators which participate in a function implementation.  Configuration canonically influences a program aside from its individual run-time interactions.<p>Is a value given to the cosine function a configuration?  Words matter.<p>&gt; Every task in software is wanting to change what is displayed in a user interface of some sort.<p>This is a myopic perspective.  Software processes data into information which provides value in context.  This may never be &quot;displayed in a user interface.&quot;<p>To wit, the network gear involved in my posting this reply most certainly qualifies as a &quot;task in software.&quot;  So, too, is the software running in the power companies involved.  It would be quite a stretch to categorize them as &quot;wanting to change what is displayed in a user interface.&quot;</div><br/></div></div><div id="36468947" class="c"><input type="checkbox" id="c-36468947" checked=""/><div class="controls bullet"><span class="by">Blackthorn</span><span>|</span><a href="#36468406">parent</a><span>|</span><a href="#36475416">prev</a><span>|</span><a href="#36469391">next</a><span>|</span><label class="collapse" for="c-36468947">[-]</label><label class="expand" for="c-36468947">[13 more]</label></div><br/><div class="children"><div class="content">This would be sooooo nice, especially in DI heavy languages like Java. It might not be turtles all the way down, but finding the final turtle can be so difficult.</div><br/><div id="36469284" class="c"><input type="checkbox" id="c-36469284" checked=""/><div class="controls bullet"><span class="by">louzell</span><span>|</span><a href="#36468406">root</a><span>|</span><a href="#36468947">parent</a><span>|</span><a href="#36469526">next</a><span>|</span><label class="collapse" for="c-36469284">[-]</label><label class="expand" for="c-36469284">[4 more]</label></div><br/><div class="children"><div class="content">It drives me nuts when systems are unnecessarily built with &quot;magic DI&quot; frameworks rather than initializer&#x2F;constructor DI. Why is it so hard to pass a dep into the initializer? Make the initializer parameter a protocol&#x2F;interface and you can pass a mock in at testing. And you can also grep the whole codebase for callers and find the exact concrete type passed in at runtime.</div><br/><div id="36469394" class="c"><input type="checkbox" id="c-36469394" checked=""/><div class="controls bullet"><span class="by">inoffensivename</span><span>|</span><a href="#36468406">root</a><span>|</span><a href="#36469284">parent</a><span>|</span><a href="#36470505">next</a><span>|</span><label class="collapse" for="c-36469394">[-]</label><label class="expand" for="c-36469394">[2 more]</label></div><br/><div class="children"><div class="content">IMO, automatic DI frameworks were a big mistake. An idea that looks useful at the time, but actually leads to spaghetti mess code that is harder to maintain than it would be without any automatic DI.</div><br/><div id="36469946" class="c"><input type="checkbox" id="c-36469946" checked=""/><div class="controls bullet"><span class="by">erickf1</span><span>|</span><a href="#36468406">root</a><span>|</span><a href="#36469394">parent</a><span>|</span><a href="#36470505">next</a><span>|</span><label class="collapse" for="c-36469946">[-]</label><label class="expand" for="c-36469946">[1 more]</label></div><br/><div class="children"><div class="content">Agreed.</div><br/></div></div></div></div><div id="36470505" class="c"><input type="checkbox" id="c-36470505" checked=""/><div class="controls bullet"><span class="by">Blackthorn</span><span>|</span><a href="#36468406">root</a><span>|</span><a href="#36469284">parent</a><span>|</span><a href="#36469394">prev</a><span>|</span><a href="#36469526">next</a><span>|</span><label class="collapse" for="c-36470505">[-]</label><label class="expand" for="c-36470505">[1 more]</label></div><br/><div class="children"><div class="content">Eh, it&#x27;s not like it&#x27;s much easier to find the last turtle in python. Or C++ when people are extensively using patterns like PointerToImpl*, which can really obfuscate things.</div><br/></div></div></div></div><div id="36469526" class="c"><input type="checkbox" id="c-36469526" checked=""/><div class="controls bullet"><span class="by">giovannibonetti</span><span>|</span><a href="#36468406">root</a><span>|</span><a href="#36468947">parent</a><span>|</span><a href="#36469284">prev</a><span>|</span><a href="#36469391">next</a><span>|</span><label class="collapse" for="c-36469526">[-]</label><label class="expand" for="c-36469526">[8 more]</label></div><br/><div class="children"><div class="content">Object orientation kills traceability. Classes are instantiated in one trace, then methods are called in another trace, and if something goes wrong in the latter, it is not trivial to find the wrong settings passed in the former.<p>I think some functional programming languages solve that by running a good chunk (if not all) of the application in a single trace.</div><br/><div id="36469610" class="c"><input type="checkbox" id="c-36469610" checked=""/><div class="controls bullet"><span class="by">gombosg</span><span>|</span><a href="#36468406">root</a><span>|</span><a href="#36469526">parent</a><span>|</span><a href="#36470558">next</a><span>|</span><label class="collapse" for="c-36469610">[-]</label><label class="expand" for="c-36469610">[5 more]</label></div><br/><div class="children"><div class="content">Yes, this is why we love functional programming! &quot;What happened along the way&quot; equals to the call stack, as long as there is no field mutation involved.<p>And, of course, async&#x2F;non-blocking calls, as tracing a call along different threads or promises may not be available all the time.</div><br/><div id="36470724" class="c"><input type="checkbox" id="c-36470724" checked=""/><div class="controls bullet"><span class="by">gpderetta</span><span>|</span><a href="#36468406">root</a><span>|</span><a href="#36469610">parent</a><span>|</span><a href="#36470088">next</a><span>|</span><label class="collapse" for="c-36470724">[-]</label><label class="expand" for="c-36470724">[3 more]</label></div><br/><div class="children"><div class="content">&quot;&quot;&quot;The venerable master Qc Na was walking with his student, Anton. Hoping to prompt the master into a discussion, Anton said &quot;Master, I have heard that objects are a very good thing - is this true?&quot; Qc Na looked pityingly at his student and replied, &quot;Foolish pupil - objects are merely a poor man&#x27;s closures.&quot;<p>Chastised, Anton took his leave from his master and returned to his cell, intent on studying closures. He carefully read the entire &quot;Lambda: The Ultimate...&quot; series of papers and its cousins, and implemented a small Scheme interpreter with a closure-based object system. He learned much, and looked forward to informing his master of his progress.<p>On his next walk with Qc Na, Anton attempted to impress his master by saying &quot;Master, I have diligently studied the matter, and now understand that objects are truly a poor man&#x27;s closures.&quot; Qc Na responded by hitting Anton with his stick, saying &quot;When will you learn? Closures are a poor man&#x27;s object.&quot; At that moment, Anton became enlightened.&quot;&quot;&quot;</div><br/><div id="36471637" class="c"><input type="checkbox" id="c-36471637" checked=""/><div class="controls bullet"><span class="by">afiori</span><span>|</span><a href="#36468406">root</a><span>|</span><a href="#36470724">parent</a><span>|</span><a href="#36470088">next</a><span>|</span><label class="collapse" for="c-36471637">[-]</label><label class="expand" for="c-36471637">[2 more]</label></div><br/><div class="children"><div class="content">OOP is actually class oriented programming and classes are orthogonal the object&#x2F;closure duality.<p>For example in php class A { public $a = new B;} is not valid<p><a href="https:&#x2F;&#x2F;onlinephp.io&#x2F;c&#x2F;31246" rel="nofollow noreferrer">https:&#x2F;&#x2F;onlinephp.io&#x2F;c&#x2F;31246</a><p>Such a restriction makes no sense in a &quot;closures are a poor man&#x27;s object&quot; world.</div><br/><div id="36471707" class="c"><input type="checkbox" id="c-36471707" checked=""/><div class="controls bullet"><span class="by">gpderetta</span><span>|</span><a href="#36468406">root</a><span>|</span><a href="#36471637">parent</a><span>|</span><a href="#36470088">next</a><span>|</span><label class="collapse" for="c-36471707">[-]</label><label class="expand" for="c-36471707">[1 more]</label></div><br/><div class="children"><div class="content">Not sure what are you trying to say. My point was that a invoking  a function that will act on arguments that have been defined away from the callsite is not a OO specific feature.</div><br/></div></div></div></div></div></div><div id="36470088" class="c"><input type="checkbox" id="c-36470088" checked=""/><div class="controls bullet"><span class="by">asimpletune</span><span>|</span><a href="#36468406">root</a><span>|</span><a href="#36469610">parent</a><span>|</span><a href="#36470724">prev</a><span>|</span><a href="#36470558">next</a><span>|</span><label class="collapse" for="c-36470088">[-]</label><label class="expand" for="c-36470088">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, exactly. Referring back to the DI comment earlier... In FP, &quot;DI&quot; is literally just calling a function.</div><br/></div></div></div></div><div id="36470558" class="c"><input type="checkbox" id="c-36470558" checked=""/><div class="controls bullet"><span class="by">Blackthorn</span><span>|</span><a href="#36468406">root</a><span>|</span><a href="#36469526">parent</a><span>|</span><a href="#36469610">prev</a><span>|</span><a href="#36469391">next</a><span>|</span><label class="collapse" for="c-36470558">[-]</label><label class="expand" for="c-36470558">[2 more]</label></div><br/><div class="children"><div class="content">I disagree. Pretty much any program of enough size, including those written in functional languages, are going to have state that outlives the lifetime of a single call stack.</div><br/><div id="36477179" class="c"><input type="checkbox" id="c-36477179" checked=""/><div class="controls bullet"><span class="by">preseinger</span><span>|</span><a href="#36468406">root</a><span>|</span><a href="#36470558">parent</a><span>|</span><a href="#36469391">next</a><span>|</span><label class="collapse" for="c-36477179">[-]</label><label class="expand" for="c-36477179">[1 more]</label></div><br/><div class="children"><div class="content">hopefully not<p>it&#x27;s certainly not a given</div><br/></div></div></div></div></div></div></div></div><div id="36469391" class="c"><input type="checkbox" id="c-36469391" checked=""/><div class="controls bullet"><span class="by">josephcsible</span><span>|</span><a href="#36468406">parent</a><span>|</span><a href="#36468947">prev</a><span>|</span><a href="#36472972">next</a><span>|</span><label class="collapse" for="c-36469391">[-]</label><label class="expand" for="c-36469391">[2 more]</label></div><br/><div class="children"><div class="content">&gt; You click on any value and you see a graph&#x2F;chain of all the transformations this data goes through right back to the source of truth.<p>This kind of reminds me of the Whyline: <a href="https:&#x2F;&#x2F;www.cs.cmu.edu&#x2F;~NatProg&#x2F;whyline.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.cs.cmu.edu&#x2F;~NatProg&#x2F;whyline.html</a></div><br/><div id="36469599" class="c"><input type="checkbox" id="c-36469599" checked=""/><div class="controls bullet"><span class="by">aendruk</span><span>|</span><a href="#36468406">root</a><span>|</span><a href="#36469391">parent</a><span>|</span><a href="#36472972">next</a><span>|</span><label class="collapse" for="c-36469599">[-]</label><label class="expand" for="c-36469599">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Now Patented!<p>Yippee. &#x2F;s</div><br/></div></div></div></div><div id="36472972" class="c"><input type="checkbox" id="c-36472972" checked=""/><div class="controls bullet"><span class="by">dreamcompiler</span><span>|</span><a href="#36468406">parent</a><span>|</span><a href="#36469391">prev</a><span>|</span><a href="#36469077">next</a><span>|</span><label class="collapse" for="c-36472972">[-]</label><label class="expand" for="c-36472972">[1 more]</label></div><br/><div class="children"><div class="content">First thing I thought of after reading your comment was web inspectors which do help a little bit in figuring out stuff like &quot;Why is this line in italics?&quot; by showing you computed styles. But they could go a lot farther. I&#x27;d like to see a temporal graph of everything (e.g. HTML, JS, CSS, Virtual DOM, whatever) that had any visual or behavioral impact on an object, and the reasons why things changed in that order, why some changes overrode others, etc.</div><br/></div></div><div id="36469077" class="c"><input type="checkbox" id="c-36469077" checked=""/><div class="controls bullet"><span class="by">marcosnils</span><span>|</span><a href="#36468406">parent</a><span>|</span><a href="#36472972">prev</a><span>|</span><a href="#36473514">next</a><span>|</span><label class="collapse" for="c-36469077">[-]</label><label class="expand" for="c-36469077">[3 more]</label></div><br/><div class="children"><div class="content">Sounds a lot like what systeminit is working on: <a href="https:&#x2F;&#x2F;www.systeminit.com&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.systeminit.com&#x2F;</a></div><br/><div id="36469465" class="c"><input type="checkbox" id="c-36469465" checked=""/><div class="controls bullet"><span class="by">giovannibonetti</span><span>|</span><a href="#36468406">root</a><span>|</span><a href="#36469077">parent</a><span>|</span><a href="#36473514">next</a><span>|</span><label class="collapse" for="c-36469465">[-]</label><label class="expand" for="c-36469465">[2 more]</label></div><br/><div class="children"><div class="content">It seemed very promising until it showed DevOps engineers dragging blocks in a shared (synchronous) canvas like Figma.<p>Am I the only one that thinks pull requests (asynchronous) are a more appropriate medium of collaboration for this kind of work that requires strong consistency between elements?</div><br/><div id="36469691" class="c"><input type="checkbox" id="c-36469691" checked=""/><div class="controls bullet"><span class="by">aedocw</span><span>|</span><a href="#36468406">root</a><span>|</span><a href="#36469465">parent</a><span>|</span><a href="#36473514">next</a><span>|</span><label class="collapse" for="c-36469691">[-]</label><label class="expand" for="c-36469691">[1 more]</label></div><br/><div class="children"><div class="content">It works with pull requests too AFAIK.</div><br/></div></div></div></div></div></div><div id="36471251" class="c"><input type="checkbox" id="c-36471251" checked=""/><div class="controls bullet"><span class="by">opensourceac</span><span>|</span><a href="#36468406">parent</a><span>|</span><a href="#36473514">prev</a><span>|</span><a href="#36471964">next</a><span>|</span><label class="collapse" for="c-36471251">[-]</label><label class="expand" for="c-36471251">[2 more]</label></div><br/><div class="children"><div class="content">A feature of actuarial software is generating dependency graphs of functions. Actuaries don&#x27;t write the financial models that power reporting processes in standard languages (Python, Julia, C++) and instead have proprietary systems with features like this.</div><br/><div id="36471478" class="c"><input type="checkbox" id="c-36471478" checked=""/><div class="controls bullet"><span class="by">etothepii</span><span>|</span><a href="#36468406">root</a><span>|</span><a href="#36471251">parent</a><span>|</span><a href="#36471964">next</a><span>|</span><label class="collapse" for="c-36471478">[-]</label><label class="expand" for="c-36471478">[1 more]</label></div><br/><div class="children"><div class="content">What systems are you thinking if?<p>In my experience most actuaries I interact with maintain truly horrendous spreadsheets with labyrinthine complexity.</div><br/></div></div></div></div><div id="36471964" class="c"><input type="checkbox" id="c-36471964" checked=""/><div class="controls bullet"><span class="by">maximaximal</span><span>|</span><a href="#36468406">parent</a><span>|</span><a href="#36471251">prev</a><span>|</span><a href="#36470776">next</a><span>|</span><label class="collapse" for="c-36471964">[-]</label><label class="expand" for="c-36471964">[1 more]</label></div><br/><div class="children"><div class="content">Sounds quite a lot like the Common Lisp experience when using Sly and Emacs. You can (trace) every function and see lexical scopes of variables, even bind them if you execute some s-expr that does not currently have some variable under that symbol.<p>The distributed aspect is a bit more difficult though. I don&#x27;t know if there is a system that truly got this right. Maybe Erlang&#x27;s BEAM VM together with a good debugger I don&#x27;t yet know about.</div><br/></div></div><div id="36470776" class="c"><input type="checkbox" id="c-36470776" checked=""/><div class="controls bullet"><span class="by">eikenberry</span><span>|</span><a href="#36468406">parent</a><span>|</span><a href="#36471964">prev</a><span>|</span><a href="#36470054">next</a><span>|</span><label class="collapse" for="c-36470776">[-]</label><label class="expand" for="c-36470776">[1 more]</label></div><br/><div class="children"><div class="content">This is mostly due to the procedural &quot;recipe&quot; style programming paradigm that most developers seem to default to. It doesn&#x27;t scale well past small programs with the control flow being embedded in the code so the only good way to follow the flow is to track things through the callers. This is one of the reasons I prefer dataflow programming styles that makes the control flow explicit.</div><br/></div></div><div id="36470054" class="c"><input type="checkbox" id="c-36470054" checked=""/><div class="controls bullet"><span class="by">asimpletune</span><span>|</span><a href="#36468406">parent</a><span>|</span><a href="#36470776">prev</a><span>|</span><a href="#36469926">next</a><span>|</span><label class="collapse" for="c-36470054">[-]</label><label class="expand" for="c-36470054">[2 more]</label></div><br/><div class="children"><div class="content">&gt; What we need is traceability of every value in a system, not just configuration.<p>Man, you would love functional programming. I&#x27;m&#x27; not even joking.</div><br/><div id="36471171" class="c"><input type="checkbox" id="c-36471171" checked=""/><div class="controls bullet"><span class="by">hoosieree</span><span>|</span><a href="#36468406">root</a><span>|</span><a href="#36470054">parent</a><span>|</span><a href="#36469926">next</a><span>|</span><label class="collapse" for="c-36471171">[-]</label><label class="expand" for="c-36471171">[1 more]</label></div><br/><div class="children"><div class="content">anyParadigm :: RAM -&gt; RAM</div><br/></div></div></div></div><div id="36469926" class="c"><input type="checkbox" id="c-36469926" checked=""/><div class="controls bullet"><span class="by">tgamblin</span><span>|</span><a href="#36468406">parent</a><span>|</span><a href="#36470054">prev</a><span>|</span><a href="#36469813">next</a><span>|</span><label class="collapse" for="c-36469926">[-]</label><label class="expand" for="c-36469926">[1 more]</label></div><br/><div class="children"><div class="content">FWIW, we do something like this in Spack[1] with `spack config blame`.  There are different YAML configs, they can be merged and override each other based on precedence, but we tell you where all the merged values are coming from.  Here&#x27;s a simplified example -- you can see that some settings are coming from the user&#x27;s &quot;default&quot; environment, some from Spack&#x27;s defaults, and some from specialized defaults for Darwin:<p><pre><code>    &gt; spack -e default config blame packages
    ---                                               packages:
    spack&#x2F;environments&#x2F;default&#x2F;spack.yaml:59            fftw:
    spack&#x2F;environments&#x2F;default&#x2F;spack.yaml:60              require: ~mpi
    spack&#x2F;etc&#x2F;spack&#x2F;defaults&#x2F;darwin&#x2F;packages.yaml:17    all:
    spack&#x2F;defaults&#x2F;packages.yaml:18                       compiler: [apple-clang, gcc, clang]
    spack&#x2F;defaults&#x2F;darwin&#x2F;packages.yaml:20                providers:
    spack&#x2F;defaults&#x2F;darwin&#x2F;packages.yaml:21                  unwind: [apple-libunwind]
    spack&#x2F;defaults&#x2F;packages.yaml:20.                        blas: [openblas, amdblis]
    spack&#x2F;defaults&#x2F;packages.yaml:21                         jpeg: [libjpeg-turbo, libjpeg]
    spack&#x2F;defaults&#x2F;packages.yaml:22                         lapack: [openblas, amdlibflame]
    spack&#x2F;defaults&#x2F;packages.yaml:23.                        mpi: [openmpi, mpich]
    spack&#x2F;defaults&#x2F;darwin&#x2F;packages.yaml:22              apple-libunwind:
    spack&#x2F;defaults&#x2F;darwin&#x2F;packages.yaml:23                buildable: False
    spack&#x2F;defaults&#x2F;darwin&#x2F;packages.yaml:24                externals:
    spack&#x2F;defaults&#x2F;darwin&#x2F;packages.yaml:27                - spec: apple-libunwind@35.3
    spack&#x2F;defaults&#x2F;darwin&#x2F;packages.yaml:28                  prefix: &#x2F;usr
</code></pre>
The filenames are shown in color in the UI; you can see what it really looks like here: <a href="https:&#x2F;&#x2F;imgur.com&#x2F;uqeiBb5" rel="nofollow noreferrer">https:&#x2F;&#x2F;imgur.com&#x2F;uqeiBb5</a><p>For the curious, there is more on scopes and merging [2].  This isn&#x27;t exactly easy to do -- we use ruamel.yaml [3], but had to add our own finer-grained source attribution to get this level of detail. There are also tricky things to deal with to maintain provenance on plain old Python dict&#x2F;str&#x2F;list&#x2F;etc. objects [4,5].<p>[1] <a href="https:&#x2F;&#x2F;github&#x2F;spack&#x2F;spack" rel="nofollow noreferrer">https:&#x2F;&#x2F;github&#x2F;spack&#x2F;spack</a><p>[2] <a href="https:&#x2F;&#x2F;spack.readthedocs.io&#x2F;en&#x2F;latest&#x2F;configuration.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;spack.readthedocs.io&#x2F;en&#x2F;latest&#x2F;configuration.html</a><p>[3] <a href="https:&#x2F;&#x2F;yaml.readthedocs.io&#x2F;en&#x2F;latest&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;yaml.readthedocs.io&#x2F;en&#x2F;latest&#x2F;</a><p>[4] <a href="https:&#x2F;&#x2F;github.com&#x2F;spack&#x2F;spack&#x2F;blob&#x2F;95ca9de&#x2F;lib&#x2F;spack&#x2F;spack&#x2F;util&#x2F;spack_yaml.py#L36-L99">https:&#x2F;&#x2F;github.com&#x2F;spack&#x2F;spack&#x2F;blob&#x2F;95ca9de&#x2F;lib&#x2F;spack&#x2F;spack&#x2F;...</a><p>[5] <a href="https:&#x2F;&#x2F;github.com&#x2F;spack&#x2F;spack&#x2F;blob&#x2F;95ca9de&#x2F;lib&#x2F;spack&#x2F;spack&#x2F;config.py#L1202-L1206">https:&#x2F;&#x2F;github.com&#x2F;spack&#x2F;spack&#x2F;blob&#x2F;95ca9de&#x2F;lib&#x2F;spack&#x2F;spack&#x2F;...</a></div><br/></div></div><div id="36469813" class="c"><input type="checkbox" id="c-36469813" checked=""/><div class="controls bullet"><span class="by">n40487171</span><span>|</span><a href="#36468406">parent</a><span>|</span><a href="#36469926">prev</a><span>|</span><a href="#36469866">next</a><span>|</span><label class="collapse" for="c-36469813">[-]</label><label class="expand" for="c-36469813">[3 more]</label></div><br/><div class="children"><div class="content">Yes but wouldn&#x27;t the logging take up quite a bit of memory? Something like O(compute cycles* (log(lines of code)+log(memory allocated))) before compression.</div><br/><div id="36470336" class="c"><input type="checkbox" id="c-36470336" checked=""/><div class="controls bullet"><span class="by">vaughan</span><span>|</span><a href="#36468406">root</a><span>|</span><a href="#36469813">parent</a><span>|</span><a href="#36469998">next</a><span>|</span><label class="collapse" for="c-36470336">[-]</label><label class="expand" for="c-36470336">[1 more]</label></div><br/><div class="children"><div class="content">Check out <a href="https:&#x2F;&#x2F;pernos.co&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;pernos.co&#x2F;</a>.</div><br/></div></div><div id="36469998" class="c"><input type="checkbox" id="c-36469998" checked=""/><div class="controls bullet"><span class="by">bg46z</span><span>|</span><a href="#36468406">root</a><span>|</span><a href="#36469813">parent</a><span>|</span><a href="#36470336">prev</a><span>|</span><a href="#36469866">next</a><span>|</span><label class="collapse" for="c-36469998">[-]</label><label class="expand" for="c-36469998">[1 more]</label></div><br/><div class="children"><div class="content">In complex prod systems, logging and traceability are generally more important than memory consumption and disk space. Memory and Disk are cheaper than a lawsuit if something goes awry</div><br/></div></div></div></div><div id="36469866" class="c"><input type="checkbox" id="c-36469866" checked=""/><div class="controls bullet"><span class="by">Yajirobe</span><span>|</span><a href="#36468406">parent</a><span>|</span><a href="#36469813">prev</a><span>|</span><a href="#36469750">next</a><span>|</span><label class="collapse" for="c-36469866">[-]</label><label class="expand" for="c-36469866">[4 more]</label></div><br/><div class="children"><div class="content">&gt; You click on any value and you see a graph&#x2F;chain of all the transformations this data goes through right back to the source of truth<p>Isn&#x27;t that just a debugger?</div><br/><div id="36469887" class="c"><input type="checkbox" id="c-36469887" checked=""/><div class="controls bullet"><span class="by">snapcaster</span><span>|</span><a href="#36468406">root</a><span>|</span><a href="#36469866">parent</a><span>|</span><a href="#36472996">next</a><span>|</span><label class="collapse" for="c-36469887">[-]</label><label class="expand" for="c-36469887">[2 more]</label></div><br/><div class="children"><div class="content">Not in a distributed system</div><br/><div id="36469909" class="c"><input type="checkbox" id="c-36469909" checked=""/><div class="controls bullet"><span class="by">smrtinsert</span><span>|</span><a href="#36468406">root</a><span>|</span><a href="#36469887">parent</a><span>|</span><a href="#36472996">next</a><span>|</span><label class="collapse" for="c-36469909">[-]</label><label class="expand" for="c-36469909">[1 more]</label></div><br/><div class="children"><div class="content">This is what&#x27;s really needed.  In one code base it&#x27;s relatively easy for the dev team.  Across your microservices it&#x27;s practically impossible unless all teams are involved.  This is a nadir in dev productivity currently</div><br/></div></div></div></div><div id="36472996" class="c"><input type="checkbox" id="c-36472996" checked=""/><div class="controls bullet"><span class="by">olejorgenb</span><span>|</span><a href="#36468406">root</a><span>|</span><a href="#36469866">parent</a><span>|</span><a href="#36469887">prev</a><span>|</span><a href="#36469750">next</a><span>|</span><label class="collapse" for="c-36472996">[-]</label><label class="expand" for="c-36472996">[1 more]</label></div><br/><div class="children"><div class="content">Which debugger are you using?</div><br/></div></div></div></div><div id="36469750" class="c"><input type="checkbox" id="c-36469750" checked=""/><div class="controls bullet"><span class="by">CodeWriter23</span><span>|</span><a href="#36468406">parent</a><span>|</span><a href="#36469866">prev</a><span>|</span><a href="#36469414">next</a><span>|</span><label class="collapse" for="c-36469750">[-]</label><label class="expand" for="c-36469750">[1 more]</label></div><br/><div class="children"><div class="content">The perfect is the enemy of the good.</div><br/></div></div><div id="36469414" class="c"><input type="checkbox" id="c-36469414" checked=""/><div class="controls bullet"><span class="by">pmarreck</span><span>|</span><a href="#36468406">parent</a><span>|</span><a href="#36469750">prev</a><span>|</span><a href="#36469042">next</a><span>|</span><label class="collapse" for="c-36469414">[-]</label><label class="expand" for="c-36469414">[1 more]</label></div><br/><div class="children"><div class="content">This is a minor thing which I found useful- The &quot;help&quot; functions of all my bash-defined functions report which file they&#x27;re defined in (such as: `echo &quot;This function is defined in ${BASH_SOURCE[0]}&quot;`). If I could do something similar for my environment-defined values (hmmm, now I&#x27;m thinking...), I would. (I could create a function that tracks at least the changes _I&#x27;VE_ made to these values, which could help...)</div><br/></div></div><div id="36469042" class="c"><input type="checkbox" id="c-36469042" checked=""/><div class="controls bullet"><span class="by">cmrdporcupine</span><span>|</span><a href="#36468406">parent</a><span>|</span><a href="#36469414">prev</a><span>|</span><a href="#36468886">next</a><span>|</span><label class="collapse" for="c-36469042">[-]</label><label class="expand" for="c-36469042">[2 more]</label></div><br/><div class="children"><div class="content">So it&#x27;s an interesting thought experiment, but... I suspect the Rust compiler could statically figure this out for a large # of cases .... based on following the borrow&#x2F;copy&#x2F;clone tree for any particular variable. It could in theory be possible to write a tool which traces that graph back to the snippets of code where it originates, though that would usually end up being a command-line args parser, or a config file reader...<p>It&#x27;s mostly feasible in other languages to, but probably not with the same level of rigor.<p>Anybody here from JetBrains?</div><br/><div id="36469108" class="c"><input type="checkbox" id="c-36469108" checked=""/><div class="controls bullet"><span class="by">catlifeonmars</span><span>|</span><a href="#36468406">root</a><span>|</span><a href="#36469042">parent</a><span>|</span><a href="#36468886">next</a><span>|</span><label class="collapse" for="c-36469108">[-]</label><label class="expand" for="c-36469108">[1 more]</label></div><br/><div class="children"><div class="content">This should be provided by the PLS for the language, not by an IDE.</div><br/></div></div></div></div><div id="36468886" class="c"><input type="checkbox" id="c-36468886" checked=""/><div class="controls bullet"><span class="by">yawboakye</span><span>|</span><a href="#36468406">parent</a><span>|</span><a href="#36469042">prev</a><span>|</span><a href="#36469569">next</a><span>|</span><label class="collapse" for="c-36468886">[-]</label><label class="expand" for="c-36468886">[3 more]</label></div><br/><div class="children"><div class="content">i wonder whether our current strong compile-time&#x2F;runtime distinction can support this. it may be slightly easier for interpreted and vm-based languages but i’m not sure we can have it more broadly.<p>lately i’ve been playing with prolog and revisiting computer science&#x2F;computer programming before imperative languages drew a curtain on innovation and i think we have lost a lot. our modern programming isn’t the programming the founders had in mind, it seems.</div><br/><div id="36469430" class="c"><input type="checkbox" id="c-36469430" checked=""/><div class="controls bullet"><span class="by">marcosdumay</span><span>|</span><a href="#36468406">root</a><span>|</span><a href="#36468886">parent</a><span>|</span><a href="#36469056">next</a><span>|</span><label class="collapse" for="c-36469430">[-]</label><label class="expand" for="c-36469430">[1 more]</label></div><br/><div class="children"><div class="content">Compiled languages absolutely can support this.<p>But imperative ones create a bit of a problem. Nothing impossible to deal with, but it becomes harder.<p>But any choice of language, the OS can enforce it too, and maybe in a much easier way than messing with your language.</div><br/></div></div><div id="36469056" class="c"><input type="checkbox" id="c-36469056" checked=""/><div class="controls bullet"><span class="by">cmrdporcupine</span><span>|</span><a href="#36468406">root</a><span>|</span><a href="#36468886">parent</a><span>|</span><a href="#36469430">prev</a><span>|</span><a href="#36469569">next</a><span>|</span><label class="collapse" for="c-36469056">[-]</label><label class="expand" for="c-36469056">[1 more]</label></div><br/><div class="children"><div class="content">I think it could be done for Rust</div><br/></div></div></div></div><div id="36469569" class="c"><input type="checkbox" id="c-36469569" checked=""/><div class="controls bullet"><span class="by">reasonabl_human</span><span>|</span><a href="#36468406">parent</a><span>|</span><a href="#36468886">prev</a><span>|</span><a href="#36466130">next</a><span>|</span><label class="collapse" for="c-36469569">[-]</label><label class="expand" for="c-36469569">[1 more]</label></div><br/><div class="children"><div class="content">Look into Nix &#x2F; NixOS</div><br/></div></div></div></div><div id="36466130" class="c"><input type="checkbox" id="c-36466130" checked=""/><div class="controls bullet"><span class="by">antirez</span><span>|</span><a href="#36468406">prev</a><span>|</span><a href="#36477362">next</a><span>|</span><label class="collapse" for="c-36466130">[-]</label><label class="expand" for="c-36466130">[2 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>    $ redis-cli INFO
    ...
    executable:&#x2F;Users&#x2F;antirez&#x2F;hack&#x2F;redis&#x2F;src&#x2F;.&#x2F;redis-server
    config_file:&#x2F;etc&#x2F;redis&#x2F;redis.conf
    ...
</code></pre>
In the case of Redis, it is possible to do much more. With the CONFIG command you can check specific configuration parameters at runtime, and even change most of them.<p>There are commands to get reports about latency and memory usage, performing a self-analysis of the instance condition. You can see counters for commands called, and even obtian a live stream of the commands the instance is executing.<p>This should all be obvious features to make system software approachable, observable, and to make people able to act easily when shit happens, without having to guess where the configuration file is from the system startup scripts or alike. UX is not only about GUIs.</div><br/><div id="36466430" class="c"><input type="checkbox" id="c-36466430" checked=""/><div class="controls bullet"><span class="by">themoonisachees</span><span>|</span><a href="#36466130">parent</a><span>|</span><a href="#36477362">next</a><span>|</span><label class="collapse" for="c-36466430">[-]</label><label class="expand" for="c-36466430">[1 more]</label></div><br/><div class="children"><div class="content">Redis has consitently been the nicest program to admin everytime i have to interact with it as a sysadmin</div><br/></div></div></div></div><div id="36477362" class="c"><input type="checkbox" id="c-36477362" checked=""/><div class="controls bullet"><span class="by">ACV001</span><span>|</span><a href="#36466130">prev</a><span>|</span><a href="#36465947">next</a><span>|</span><label class="collapse" for="c-36477362">[-]</label><label class="expand" for="c-36477362">[1 more]</label></div><br/><div class="children"><div class="content">just stick to a convention (e.g. Spring boot properties file conventions - <a href="https:&#x2F;&#x2F;docs.spring.io&#x2F;spring-boot&#x2F;docs&#x2F;1.0.1.RELEASE&#x2F;reference&#x2F;html&#x2F;boot-features-external-config.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;docs.spring.io&#x2F;spring-boot&#x2F;docs&#x2F;1.0.1.RELEASE&#x2F;refere...</a>).</div><br/></div></div><div id="36465947" class="c"><input type="checkbox" id="c-36465947" checked=""/><div class="controls bullet"><span class="by">vaughands</span><span>|</span><a href="#36477362">prev</a><span>|</span><a href="#36467121">next</a><span>|</span><label class="collapse" for="c-36465947">[-]</label><label class="expand" for="c-36465947">[29 more]</label></div><br/><div class="children"><div class="content">A quick and dirty way to do this is run the program through `strace` and find out what syscall it issues to read it.<p>I had to do this to figure out where Cold Steel was reading save files from years back: <a href="https:&#x2F;&#x2F;vaughanhilts.me&#x2F;blog&#x2F;2018&#x2F;02&#x2F;16&#x2F;playing-trails-of-cold-steel-on-linux-wine-guide.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;vaughanhilts.me&#x2F;blog&#x2F;2018&#x2F;02&#x2F;16&#x2F;playing-trails-of-co...</a></div><br/><div id="36467358" class="c"><input type="checkbox" id="c-36467358" checked=""/><div class="controls bullet"><span class="by">hoherd</span><span>|</span><a href="#36465947">parent</a><span>|</span><a href="#36469386">next</a><span>|</span><label class="collapse" for="c-36467358">[-]</label><label class="expand" for="c-36467358">[1 more]</label></div><br/><div class="children"><div class="content">I do this with Brendan Gregg&#x27;s opensnoop, which is standard on macOS.<p><a href="https:&#x2F;&#x2F;www.brendangregg.com&#x2F;blog&#x2F;2014-07-25&#x2F;opensnoop-for-linux.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.brendangregg.com&#x2F;blog&#x2F;2014-07-25&#x2F;opensnoop-for-l...</a><p><a href="https:&#x2F;&#x2F;github.com&#x2F;brendangregg&#x2F;perf-tools&#x2F;blob&#x2F;master&#x2F;opensnoop">https:&#x2F;&#x2F;github.com&#x2F;brendangregg&#x2F;perf-tools&#x2F;blob&#x2F;master&#x2F;opens...</a></div><br/></div></div><div id="36469386" class="c"><input type="checkbox" id="c-36469386" checked=""/><div class="controls bullet"><span class="by">westurner</span><span>|</span><a href="#36465947">parent</a><span>|</span><a href="#36467358">prev</a><span>|</span><a href="#36466727">next</a><span>|</span><label class="collapse" for="c-36469386">[-]</label><label class="expand" for="c-36469386">[3 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>  ps wxa | grep &lt;cmd&gt;  # or pgrep
  strace -f -f -e trace=file &lt;cmd&gt; | grep -v &#x27;-1 ENOENT (No such file or directory)$&#x27;
</code></pre>
IIRC there&#x27;s some way to filter ENOENT messages with strace instead of grep?<p>Strace: <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Strace" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Strace</a></div><br/><div id="36470492" class="c"><input type="checkbox" id="c-36470492" checked=""/><div class="controls bullet"><span class="by">msm_</span><span>|</span><a href="#36465947">root</a><span>|</span><a href="#36469386">parent</a><span>|</span><a href="#36466727">next</a><span>|</span><label class="collapse" for="c-36470492">[-]</label><label class="expand" for="c-36470492">[2 more]</label></div><br/><div class="children"><div class="content">I use quick and dirty greps all the time, even when there is a &quot;better&quot; option available. It just works and is very intuitive in interactive contexts. Probably GP works in a similar way.</div><br/><div id="36474651" class="c"><input type="checkbox" id="c-36474651" checked=""/><div class="controls bullet"><span class="by">westurner</span><span>|</span><a href="#36465947">root</a><span>|</span><a href="#36470492">parent</a><span>|</span><a href="#36466727">next</a><span>|</span><label class="collapse" for="c-36474651">[-]</label><label class="expand" for="c-36474651">[1 more]</label></div><br/><div class="children"><div class="content">Remembered to add the `2&gt;&amp;1` stderr&gt;stdout output redirection:<p><pre><code>  ps wxa | grep &lt;cmd&gt;  # or pgrep
  strace -f -f -e trace=file &lt;cmd&gt; 2&gt;&amp;1 | grep -v &#x27;-1 ENOENT (No such file or directory)$&#x27;
</code></pre>
Bash manual &gt; 3. Basic Shell Features &gt; 3.6 Redirections: <a href="https:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;bash&#x2F;manual&#x2F;html_node&#x2F;Redirections.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;bash&#x2F;manual&#x2F;html_node&#x2F;Redirecti...</a><p>In lieu of strace, IDK how fast `ls -al &#x2F;proc&#x2F;${pid}&#x2F;fd&#x2F;*` can be polled and logged in search of which config file it is; almost like `lsof -n`:<p><pre><code>  pid=$$ # this $SHELL&#x27;s pid
  help set; # help help
  (set -B; cat &#x2F;proc&#x2F;&quot;${pid}&quot;&#x2F;{cmdline,environ}) \
    | tr &#x27;\0&#x27; $&#x27;\n&#x27;

  (while 1; do echo \#$pid; ls -al &#x2F;proc&#x2F;${pid}&#x2F;fd&#x2F;*; done) | tee &quot;file_handle_to_file_path.${pid}.log&quot;
  # Ctrl-C
</code></pre>
It&#x27;s good Configuration Management practice to wrap managed config with a preamble&#x2F;postamble indicating at least that some code somewhere wrote that and may overwrite whatever a user might manually change it to (prior to the configuration management system copying over or re-templating the config file content, thus overwriting any manual modifications)<p><pre><code>  ## &lt; managed by config_mgmt_system_xyz (in path.to.module.callable) &gt;
  ## &lt;&#x2F; managed&gt;</code></pre></div><br/></div></div></div></div></div></div><div id="36466727" class="c"><input type="checkbox" id="c-36466727" checked=""/><div class="controls bullet"><span class="by">userbinator</span><span>|</span><a href="#36465947">parent</a><span>|</span><a href="#36469386">prev</a><span>|</span><a href="#36465978">next</a><span>|</span><label class="collapse" for="c-36466727">[-]</label><label class="expand" for="c-36466727">[1 more]</label></div><br/><div class="children"><div class="content">On Windows, Process Monitor does the same thing --- with the additional feature that, since configuration is often stored in the registry there, it will also show which registry keys it touches.</div><br/></div></div><div id="36465978" class="c"><input type="checkbox" id="c-36465978" checked=""/><div class="controls bullet"><span class="by">rafark</span><span>|</span><a href="#36465947">parent</a><span>|</span><a href="#36466727">prev</a><span>|</span><a href="#36468221">next</a><span>|</span><label class="collapse" for="c-36465978">[-]</label><label class="expand" for="c-36465978">[11 more]</label></div><br/><div class="children"><div class="content">Interesting. I didn’t know you could do this. I can see how this can come in handy. Apparently there’s dtruss as an alternative for OS X.<p><a href="https:&#x2F;&#x2F;8thlight.com&#x2F;insights&#x2F;dtrace-even-better-than-strace-for-os-x" rel="nofollow noreferrer">https:&#x2F;&#x2F;8thlight.com&#x2F;insights&#x2F;dtrace-even-better-than-strace...</a></div><br/><div id="36466008" class="c"><input type="checkbox" id="c-36466008" checked=""/><div class="controls bullet"><span class="by">sharikous</span><span>|</span><a href="#36465947">root</a><span>|</span><a href="#36465978">parent</a><span>|</span><a href="#36468221">next</a><span>|</span><label class="collapse" for="c-36466008">[-]</label><label class="expand" for="c-36466008">[10 more]</label></div><br/><div class="children"><div class="content">No more. At least with apple Silicon dtrace is completely unusable.</div><br/><div id="36466066" class="c"><input type="checkbox" id="c-36466066" checked=""/><div class="controls bullet"><span class="by">comex</span><span>|</span><a href="#36465947">root</a><span>|</span><a href="#36466008">parent</a><span>|</span><a href="#36466299">next</a><span>|</span><label class="collapse" for="c-36466066">[-]</label><label class="expand" for="c-36466066">[6 more]</label></div><br/><div class="children"><div class="content">It still works if you turn off SIP.  This is the same on Apple Silicon and Intel.  However, for these purpose of tracking file accesses, I recommend using `eslogger` instead, as it doesn’t require disabling SIP and is faster, among other advantages.</div><br/><div id="36466318" class="c"><input type="checkbox" id="c-36466318" checked=""/><div class="controls bullet"><span class="by">k4ch0w</span><span>|</span><a href="#36465947">root</a><span>|</span><a href="#36466066">parent</a><span>|</span><a href="#36466260">next</a><span>|</span><label class="collapse" for="c-36466318">[-]</label><label class="expand" for="c-36466318">[2 more]</label></div><br/><div class="children"><div class="content">Use fs_usage. <a href="https:&#x2F;&#x2F;ss64.com&#x2F;osx&#x2F;fs_usage.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;ss64.com&#x2F;osx&#x2F;fs_usage.html</a><p>It’ll show all file events. No need to disable SIP. SIP is doing a lot of good work for users and unless you’re doing kernel work or low level coding I’d keep it enabled. Obv. There are other cases but for the general public keep it on.</div><br/><div id="36468883" class="c"><input type="checkbox" id="c-36468883" checked=""/><div class="controls bullet"><span class="by">zarzavat</span><span>|</span><a href="#36465947">root</a><span>|</span><a href="#36466318">parent</a><span>|</span><a href="#36466260">next</a><span>|</span><label class="collapse" for="c-36468883">[-]</label><label class="expand" for="c-36468883">[1 more]</label></div><br/><div class="children"><div class="content">It’s personal preference. If the security people had their way we’d all be developing on iPads. If SIP interferes with your work: turn it off. Linux doesn’t have SIP and it’s just fine to develop on Linux as well.</div><br/></div></div></div></div><div id="36466260" class="c"><input type="checkbox" id="c-36466260" checked=""/><div class="controls bullet"><span class="by">viraptor</span><span>|</span><a href="#36465947">root</a><span>|</span><a href="#36466066">parent</a><span>|</span><a href="#36466318">prev</a><span>|</span><a href="#36466156">next</a><span>|</span><label class="collapse" for="c-36466260">[-]</label><label class="expand" for="c-36466260">[1 more]</label></div><br/><div class="children"><div class="content">On M2 it is completely broken. Any usage of dtrace will hang the whole desktop. (Not sure if just the desktop or is it the whole kernel crashing)<p>Feel free to reference my feedback entry FB12061147 if you&#x27;re reporting the same.</div><br/></div></div><div id="36466156" class="c"><input type="checkbox" id="c-36466156" checked=""/><div class="controls bullet"><span class="by">djxfade</span><span>|</span><a href="#36465947">root</a><span>|</span><a href="#36466066">parent</a><span>|</span><a href="#36466260">prev</a><span>|</span><a href="#36466299">next</a><span>|</span><label class="collapse" for="c-36466156">[-]</label><label class="expand" for="c-36466156">[2 more]</label></div><br/><div class="children"><div class="content">You can also use Activity Monitor and view process details to see all open file handles etc</div><br/><div id="36466390" class="c"><input type="checkbox" id="c-36466390" checked=""/><div class="controls bullet"><span class="by">lost_tourist</span><span>|</span><a href="#36465947">root</a><span>|</span><a href="#36466156">parent</a><span>|</span><a href="#36466299">next</a><span>|</span><label class="collapse" for="c-36466390">[-]</label><label class="expand" for="c-36466390">[1 more]</label></div><br/><div class="children"><div class="content">Sure but I don&#x27;t think that most programs keep their config files open the whole time they&#x27;re running.</div><br/></div></div></div></div></div></div><div id="36466299" class="c"><input type="checkbox" id="c-36466299" checked=""/><div class="controls bullet"><span class="by">tanelpoder</span><span>|</span><a href="#36465947">root</a><span>|</span><a href="#36466008">parent</a><span>|</span><a href="#36466066">prev</a><span>|</span><a href="#36466668">next</a><span>|</span><label class="collapse" for="c-36466299">[-]</label><label class="expand" for="c-36466299">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s also fs_usage that doesn&#x27;t require disabling SIP:<p><a href="https:&#x2F;&#x2F;mohit.io&#x2F;blog&#x2F;fs_usage-trace-file-system-calls-on-mac-os-x&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;mohit.io&#x2F;blog&#x2F;fs_usage-trace-file-system-calls-on-ma...</a></div><br/></div></div><div id="36466668" class="c"><input type="checkbox" id="c-36466668" checked=""/><div class="controls bullet"><span class="by">chiggsy</span><span>|</span><a href="#36465947">root</a><span>|</span><a href="#36466008">parent</a><span>|</span><a href="#36466299">prev</a><span>|</span><a href="#36468221">next</a><span>|</span><label class="collapse" for="c-36466668">[-]</label><label class="expand" for="c-36466668">[2 more]</label></div><br/><div class="children"><div class="content">There was a man who never existed named Thomas Covenant, created by Stephen R Donaldson. Decades ago this character said something that has stayed and will stay with me my entire life:<p>&quot;The best way to hurt somebody who&#x27;s lost everything is to give him back something that is broken.&quot;<p>For us, this thing is MacOS. I miss dtrace every damn day.<p>DTrace allowed you to ask the damn os what it was doing, since the man pages are random and do not match the command line help, new daemons constantly appear with docs like this:<p>NAME
     rapportd – Rapport Daemon.<p>SYNOPSIS
     Daemon that enables Phone Call Handoff and other communication features between Apple devices.<p><pre><code>     Use &#x27;&#x2F;usr&#x2F;libexec&#x2F;rapportd -V&#x27; to get the version.
</code></pre>
Dogshit.</div><br/><div id="36467481" class="c"><input type="checkbox" id="c-36467481" checked=""/><div class="controls bullet"><span class="by">gjvc</span><span>|</span><a href="#36465947">root</a><span>|</span><a href="#36466668">parent</a><span>|</span><a href="#36468221">next</a><span>|</span><label class="collapse" for="c-36467481">[-]</label><label class="expand" for="c-36467481">[1 more]</label></div><br/><div class="children"><div class="content">OS X was the last chance the industry had to make a &quot;commercial unix workstation&quot;, and Apple came &gt;&lt; close.  Stallman was right.</div><br/></div></div></div></div></div></div></div></div><div id="36468221" class="c"><input type="checkbox" id="c-36468221" checked=""/><div class="controls bullet"><span class="by">kevincox</span><span>|</span><a href="#36465947">parent</a><span>|</span><a href="#36465978">prev</a><span>|</span><a href="#36466648">next</a><span>|</span><label class="collapse" for="c-36468221">[-]</label><label class="expand" for="c-36468221">[1 more]</label></div><br/><div class="children"><div class="content">I do this much more frequently than I would like. But occasionally you have issues where the program lists a directory then only acts on specific names. So the strace output won&#x27;t tell you what the expected name is.</div><br/></div></div><div id="36466648" class="c"><input type="checkbox" id="c-36466648" checked=""/><div class="controls bullet"><span class="by">EdwardDiego</span><span>|</span><a href="#36465947">parent</a><span>|</span><a href="#36468221">prev</a><span>|</span><a href="#36466007">next</a><span>|</span><label class="collapse" for="c-36466648">[-]</label><label class="expand" for="c-36466648">[1 more]</label></div><br/><div class="children"><div class="content">All that time I spent dicking around with lsof...</div><br/></div></div><div id="36466007" class="c"><input type="checkbox" id="c-36466007" checked=""/><div class="controls bullet"><span class="by">p-e-w</span><span>|</span><a href="#36465947">parent</a><span>|</span><a href="#36466648">prev</a><span>|</span><a href="#36466238">next</a><span>|</span><label class="collapse" for="c-36466007">[-]</label><label class="expand" for="c-36466007">[8 more]</label></div><br/><div class="children"><div class="content">strace uses ptrace, which some programs disable with prctl as a security measure.<p>So while this can be a useful hack, it doesn&#x27;t always work.</div><br/><div id="36466031" class="c"><input type="checkbox" id="c-36466031" checked=""/><div class="controls bullet"><span class="by">chungy</span><span>|</span><a href="#36465947">root</a><span>|</span><a href="#36466007">parent</a><span>|</span><a href="#36466266">next</a><span>|</span><label class="collapse" for="c-36466031">[-]</label><label class="expand" for="c-36466031">[4 more]</label></div><br/><div class="children"><div class="content">Can&#x27;t disable DTrace :)<p>Though DTrace is &quot;only&quot; available on Windows, Mac OS X, Solaris, illumos, and FreeBSD.<p>Oracle has relicensed DTrace to be Linux-friendly and even made kernel patches, but it&#x27;ll probably never end up in the mainline kernel.</div><br/><div id="36466468" class="c"><input type="checkbox" id="c-36466468" checked=""/><div class="controls bullet"><span class="by">viraptor</span><span>|</span><a href="#36465947">root</a><span>|</span><a href="#36466031">parent</a><span>|</span><a href="#36467705">next</a><span>|</span><label class="collapse" for="c-36466468">[-]</label><label class="expand" for="c-36466468">[1 more]</label></div><br/><div class="children"><div class="content">On Linux you can use bpftrace which is basically the same thing with slightly different names.</div><br/></div></div><div id="36467705" class="c"><input type="checkbox" id="c-36467705" checked=""/><div class="controls bullet"><span class="by">oblio</span><span>|</span><a href="#36465947">root</a><span>|</span><a href="#36466031">parent</a><span>|</span><a href="#36466468">prev</a><span>|</span><a href="#36466266">next</a><span>|</span><label class="collapse" for="c-36467705">[-]</label><label class="expand" for="c-36467705">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Though DTrace is &quot;only&quot; available on Windows<p>Is it stable and production ready for heavy duty workloads?</div><br/><div id="36469940" class="c"><input type="checkbox" id="c-36469940" checked=""/><div class="controls bullet"><span class="by">chungy</span><span>|</span><a href="#36465947">root</a><span>|</span><a href="#36467705">parent</a><span>|</span><a href="#36466266">next</a><span>|</span><label class="collapse" for="c-36469940">[-]</label><label class="expand" for="c-36469940">[1 more]</label></div><br/><div class="children"><div class="content">Microsoft ships it, so I assume so? I haven&#x27;t personally ran any versions beyond Windows 7, I can&#x27;t directly comment on any features after that.</div><br/></div></div></div></div></div></div><div id="36466266" class="c"><input type="checkbox" id="c-36466266" checked=""/><div class="controls bullet"><span class="by">patrec</span><span>|</span><a href="#36465947">root</a><span>|</span><a href="#36466007">parent</a><span>|</span><a href="#36466031">prev</a><span>|</span><a href="#36466238">next</a><span>|</span><label class="collapse" for="c-36466266">[-]</label><label class="expand" for="c-36466266">[3 more]</label></div><br/><div class="children"><div class="content">You can use sysdig instead, which doesn&#x27;t use ptrace[1] and is much faster (as well as generally more pleasant and powerful).<p>[1]It used to have its own kernel extension but is eEBF based these days.</div><br/><div id="36470114" class="c"><input type="checkbox" id="c-36470114" checked=""/><div class="controls bullet"><span class="by">everybodyknows</span><span>|</span><a href="#36465947">root</a><span>|</span><a href="#36466266">parent</a><span>|</span><a href="#36466238">next</a><span>|</span><label class="collapse" for="c-36470114">[-]</label><label class="expand" for="c-36470114">[2 more]</label></div><br/><div class="children"><div class="content">Users should be aware that `sudo apt install sysdig` may require reconfiguration of UEFI Secure Boot, and that there is no apparent clean abort from this possible.  The raw-mode terminal screen contains the text:<p><pre><code>  ┌────────────────────────┤ Configuring Secure Boot ├────────────────────────┐
  │                                                                           │ 
  │ Your system has UEFI Secure Boot enabled.                                 │ 
  │                                                                           │ 
  │ UEFI Secure Boot requires additional configuration to work with           │ 
  │ third-party drivers.                                                      │ 
  │                                                                           │ 
  │ The system will assist you in configuring UEFI Secure Boot. To permit     │ 
  │ the use of third-party drivers, a new Machine-Owner Key (MOK) has been    │ 
  │ generated. This key now needs to be enrolled in your system&#x27;s firmware.   │ 
  │                                                                           │ 
  │ To ensure that this change is being made by you as an authorized user,    │ 
  │ and not by an attacker, you must choose a password now and then confirm   │ 
  │ the change after reboot using the same password, in both the &quot;Enroll      │ 
  │ MOK&quot; and &quot;Change Secure Boot state&quot; menus that will be presented to you   │ 
  │ when this system reboots.                                                 │ 
  │                                                                           │ 
  │ If you proceed but do not confirm the password upon reboot, Ubuntu will   │ 
  │ still be able to boot on your system but any hardware that requires       │ 
  │ third-party drivers to work correctly may not be usable.                  │ 
  │                                                                           │ 
  │                                  &lt;Ok&gt;                                     │ 
  │                                                                           │ 
  └───────────────────────────────────────────────────────────────────────────┘
</code></pre>
This leads to a second screen asking for a new password.  There is a &lt;Cancel&gt; option, but selecting it merely loops back to the first screen.<p>Hitting C-c (Control-c) has no effect.<p>There are validity rules for the password, but they are presented only after you&#x27;ve entered an invalid password, twice, the second time to confirm.<p>After this installation proceeds, then terminates with a warning:<p><pre><code>  DKMS: install completed.
  Processing triggers for man-db (2.9.1-1) ...
  Processing triggers for libc-bin (2.31-0ubuntu9.9) ...
  W: Operation was interrupted before it could finish
</code></pre>
Where the &quot;W:&quot; above is colored red.<p>Distro was Ubuntu 20.04.</div><br/><div id="36471146" class="c"><input type="checkbox" id="c-36471146" checked=""/><div class="controls bullet"><span class="by">patrec</span><span>|</span><a href="#36465947">root</a><span>|</span><a href="#36470114">parent</a><span>|</span><a href="#36466238">next</a><span>|</span><label class="collapse" for="c-36471146">[-]</label><label class="expand" for="c-36471146">[1 more]</label></div><br/><div class="children"><div class="content">I suspect that&#x27;s just because you&#x27;re trying to install an old version (as I wrote sysdig used to have a kernel extension but now should use eBPF functionality provided in stock kernels). I can&#x27;t easily verify (no ubuntu at hand), but presumably if you install the vendor supplied, up-to-date version (first google hit I found: <a href="https:&#x2F;&#x2F;www.linuxcapable.com&#x2F;how-to-install-sysdig-on-ubuntu-linux&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.linuxcapable.com&#x2F;how-to-install-sysdig-on-ubuntu...</a>) it will work without UEFI changes.</div><br/></div></div></div></div></div></div></div></div><div id="36466238" class="c"><input type="checkbox" id="c-36466238" checked=""/><div class="controls bullet"><span class="by">w4rh4wk5</span><span>|</span><a href="#36465947">parent</a><span>|</span><a href="#36466007">prev</a><span>|</span><a href="#36467121">next</a><span>|</span><label class="collapse" for="c-36466238">[-]</label><label class="expand" for="c-36466238">[2 more]</label></div><br/><div class="children"><div class="content">+1 for putting together that blog post on Cold Steel. Greetings from PH3 ;)</div><br/><div id="36470869" class="c"><input type="checkbox" id="c-36470869" checked=""/><div class="controls bullet"><span class="by">vaughands</span><span>|</span><a href="#36465947">root</a><span>|</span><a href="#36466238">parent</a><span>|</span><a href="#36467121">next</a><span>|</span><label class="collapse" for="c-36470869">[-]</label><label class="expand" for="c-36470869">[1 more]</label></div><br/><div class="children"><div class="content">Thank you for your efforts!<p>These days Proton makes a lot of this unnecessary. I hope Trails games will continue to at least function on Linux. :)</div><br/></div></div></div></div></div></div><div id="36467121" class="c"><input type="checkbox" id="c-36467121" checked=""/><div class="controls bullet"><span class="by">em500</span><span>|</span><a href="#36465947">prev</a><span>|</span><a href="#36477269">next</a><span>|</span><label class="collapse" for="c-36467121">[-]</label><label class="expand" for="c-36467121">[3 more]</label></div><br/><div class="children"><div class="content">I wonder if there is any mainstream program with a more convoluted configuration scheme than bash? Just when think you understand the various invocations of .profile, .bash_profile, .bashrc in login&#x2F;non-login&#x2F;interactive&#x2F;non-interactive modes in home and&#x2F;or &#x2F;etc after digesting an article with flowcharts[1], you realize that any invocation can execute arbitrary code from any location, and different distributions (not to mention, macOS, WSL, git-for-Windows, etc) all source different stuff in their default configs (like executing .bashrc in .profile).<p>[1] <a href="https:&#x2F;&#x2F;blog.flowblok.id.au&#x2F;2013-02&#x2F;shell-startup-scripts.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;blog.flowblok.id.au&#x2F;2013-02&#x2F;shell-startup-scripts.ht...</a></div><br/><div id="36467860" class="c"><input type="checkbox" id="c-36467860" checked=""/><div class="controls bullet"><span class="by">hnlmorg</span><span>|</span><a href="#36467121">parent</a><span>|</span><a href="#36467299">next</a><span>|</span><label class="collapse" for="c-36467860">[-]</label><label class="expand" for="c-36467860">[1 more]</label></div><br/><div class="children"><div class="content">This is a why Murex (my shell) has a ‘runtime’ builtin which lets you query which script updates what. Every function, variable etc can be queried to find where they were set and even when (time stamped) too.</div><br/></div></div><div id="36467299" class="c"><input type="checkbox" id="c-36467299" checked=""/><div class="controls bullet"><span class="by">nxpnsv</span><span>|</span><a href="#36467121">parent</a><span>|</span><a href="#36467860">prev</a><span>|</span><a href="#36477269">next</a><span>|</span><label class="collapse" for="c-36467299">[-]</label><label class="expand" for="c-36467299">[1 more]</label></div><br/><div class="children"><div class="content">That graph is wild! Bash is crrrraazy</div><br/></div></div></div></div><div id="36477269" class="c"><input type="checkbox" id="c-36477269" checked=""/><div class="controls bullet"><span class="by">londons_explore</span><span>|</span><a href="#36467121">prev</a><span>|</span><a href="#36467518">next</a><span>|</span><label class="collapse" for="c-36477269">[-]</label><label class="expand" for="c-36477269">[1 more]</label></div><br/><div class="children"><div class="content">I find &quot;strace programname 2&gt;&amp;1 | grep open&quot; is a good way to find out which files are being opened for config.    It&#x27;s quicker than digging out the man page.</div><br/></div></div><div id="36467518" class="c"><input type="checkbox" id="c-36467518" checked=""/><div class="controls bullet"><span class="by">crabbone</span><span>|</span><a href="#36477269">prev</a><span>|</span><a href="#36466908">next</a><span>|</span><label class="collapse" for="c-36467518">[-]</label><label class="expand" for="c-36467518">[15 more]</label></div><br/><div class="children"><div class="content">Wasn&#x27;t Windows Registry a (failed) attempt at unifying this stuff?<p>Now, hear me out.  The problem is not the location of configuration.  The problem is the crippled and anemic way UNIX (and the likes) programs take configuration.  These can only <i>predictably</i> take environment variables and command-line arguments.  Both ways are crippled due to size limit (especially the command-line arguments) and structure (you cannot even have lists &#x2F; arrays in environment variables).  This is the reason why every application author believes they must write their own configuration, with their own (crippled) configuration format and logic for locating their configuration.<p>On the bright side, I think, systemd is moving towards making this mess more uniform.  On the not so bright side, systemd doesn&#x27;t appreciate the difficulties associated with the problem and doesn&#x27;t seem to have any sort of plan moving forward.  So, unit files are kind of configuration, but because the format is so crippled and anemic, they immediately added a way to source random external files for process environment etc.<p>Finally, systemd, even if they understood the problem well and put a good effort towards solving it are still powerless against the format in which system supplies input to processes.  What really needs to change is all the family of execve, execlp and so on.  This was always a stop-gap &#x2F; bad idea, but it was OK for a while, before programs started to require more complex input.  It should&#x27;ve died in the 80s... but today it is so deeply entrenched that removing it will take a very long time.<p>Another problem here is the approach that &quot;everything is a file&quot;.  So, the only way to provide configuration beyond command-line arguments and environment variables is a file...  But, imagine an alternative reality in which OS is capable of providing basic data-structures, which can also be persisted and queried?  Kind of like you do it with a relational database?  I think this idea is so much not novel that it&#x27;s older than most people commenting in this thread... And, even though this would make it so much easier for so many application authors to provide consistent and easy to inspect, better tested interface to their programs... nobody&#x27;s doing that :)  Because files are good enough.</div><br/><div id="36467630" class="c"><input type="checkbox" id="c-36467630" checked=""/><div class="controls bullet"><span class="by">Roark66</span><span>|</span><a href="#36467518">parent</a><span>|</span><a href="#36469630">next</a><span>|</span><label class="collapse" for="c-36467630">[-]</label><label class="expand" for="c-36467630">[11 more]</label></div><br/><div class="children"><div class="content">Having spent many years in the windows land I definitely get where you&#x27;re coming from. However, I find the Unix way where everything is a file, much simpler to work with.<p>Just take a simple task of copying a subset of some system&#x27;s configuration to another one. On Unix it&#x27;s just a matter of copying some files. On Windows (and our imaginary is that provides object storage) we would need to find the relevant objects, then write a script to export&#x2F;import it (or mess with export&#x2F;import tools for a while).<p>Personally I see &quot;everything is a file&quot; as strength not weakness. In addition to my personal preference having a centralised configuration system not only restricts in many ways, presents a potential performance bottleneck, but also is an extra point of failure.<p>Additionally, I think most Unix software uses a fairly simple text format for config files. There really is little reason for using anything else. If you need complex data structures use YAML. I&#x27;ve found many more proprietary binary config file formats on Windows (despite registry) than on Unix. So if the os would make something like this available there would still be no guarantee all apps use it. It would just be an extra thing to deal with for little benefit IMO.</div><br/><div id="36473470" class="c"><input type="checkbox" id="c-36473470" checked=""/><div class="controls bullet"><span class="by">crabbone</span><span>|</span><a href="#36467518">root</a><span>|</span><a href="#36467630">parent</a><span>|</span><a href="#36470517">next</a><span>|</span><label class="collapse" for="c-36473470">[-]</label><label class="expand" for="c-36473470">[1 more]</label></div><br/><div class="children"><div class="content">&gt; If you need complex data structures use YAML<p>YAML is a poorly engineered format. It doesn&#x27;t think about storage at all, for example (i.e. in its definition, it&#x27;s just a single text blob. What if you need to split it?<p>The format is awful for random access: you need to read the whole thing to extract a single data item.  If you need to query such a configuration multiple times you&#x27;ll do a lot of unnecessary work.<p>YAML poorly defines numerical types (how many digits can a float have? what about integers? Are floats and integers the same thing?) YAML lists... allow mixed types.  Not sure it&#x27;s such a good thing from performance and correctness perspective.<p>YAML has unnecessary &quot;hash-table&quot; type.  Hash-tables aren&#x27;t a data format, they require function in the reader that makes asymptotic properties of hash-tables work.  In fact, YAML has just a weird sub-type of list, where elements come in pairs. Since it inherited all this from JSON, there&#x27;s also the ambiguity related to repeated keys in such hash-tables -- what should an application do with those nobody knows.<p>YAML sucks for transmission due to the ambiguity caused by repeated keys in &quot;hash-tables&quot;. You cannot stream such a format if you have the policy that the last key wins or if you have the policy that repetition is not allowed.  Also, since YAML allows references but doesn&#x27;t require that the reference lexically point to a previously defined element, you may have unresolved references which, again, will prevent you from streaming.<p>YAML defines mappings to &quot;native&quot; elements of different other languages... but what should you do if you are parsing it in Ruby, but get a mapping to Python?<p>YAML schema sucks. It would require a separate &quot;expose&quot; to describe why.<p>YAML comes with no concept of users or namespaces which would be necessary for ownership &#x2F; secure sharing of information.  It also comes without triggers which would allow an application to respond to changes in data.<p>YAML is very hard to parse for no reason. It&#x27;s very easy to make a typo in YAML that will not make it invalid, but will be interpreted contrary to what was intended.<p>YAML doesn&#x27;t have a canoncial form which makes comparing two elements a non-trivial and in some cases undefined task.<p>YAML doesn&#x27;t have variables, nor does it have forall &#x2F; exists functionality.  This results in a lot of tools that work with YAML overlaying it with yet another layer of configuration, which includes variables (eg. Helm charts, Ansible playbooks).<p>----<p>I mean, honestly, people who created YAML probably saw it as an inconsequential, sketchy project that should take maybe a weekend or two.  They didn&#x27;t plan for this format to be the best... they just made something... that sort of did something... but not really.  I have no idea why something like this received the acclaim that it did.</div><br/></div></div><div id="36470517" class="c"><input type="checkbox" id="c-36470517" checked=""/><div class="controls bullet"><span class="by">_dain_</span><span>|</span><a href="#36467518">root</a><span>|</span><a href="#36467630">parent</a><span>|</span><a href="#36473470">prev</a><span>|</span><a href="#36468372">next</a><span>|</span><label class="collapse" for="c-36470517">[-]</label><label class="expand" for="c-36470517">[6 more]</label></div><br/><div class="children"><div class="content"><i>&gt;If you need complex data structures use YAML.</i><p>Please god no. JSON or TOML at most. YAML is too complicated.</div><br/><div id="36471856" class="c"><input type="checkbox" id="c-36471856" checked=""/><div class="controls bullet"><span class="by">nucleardog</span><span>|</span><a href="#36467518">root</a><span>|</span><a href="#36470517">parent</a><span>|</span><a href="#36470736">next</a><span>|</span><label class="collapse" for="c-36471856">[-]</label><label class="expand" for="c-36471856">[1 more]</label></div><br/><div class="children"><div class="content">JSON requires too much escaping to be reasonable to edit by hand in many cases. TOML is only marginally better.<p>With any significant level of nesting TOML starts to obscure the structure more than it helps anything.<p>I tend to start with a basic K=V (“dotenv”) format. Past that though I’m going straight to YAML.<p>I agree that the “everything and the kitchen sink” specification is ridiculous and rarely (if ever) use much of the functionality, but as far as representing arbitrary structured data in human readable and editable text… it sucks less than the alternatives if you stay away from the weird stuff.</div><br/></div></div><div id="36470736" class="c"><input type="checkbox" id="c-36470736" checked=""/><div class="controls bullet"><span class="by">Spivak</span><span>|</span><a href="#36467518">root</a><span>|</span><a href="#36470517">parent</a><span>|</span><a href="#36471856">prev</a><span>|</span><a href="#36468372">next</a><span>|</span><label class="collapse" for="c-36470736">[-]</label><label class="expand" for="c-36470736">[4 more]</label></div><br/><div class="children"><div class="content">For who? Yaml gives you all the standard containers, tools
to avoid repeating yourself, lord of ways to format strings so they stay readable and arbitrary object serialization.<p>Yaml only gets weird if you want to use complex objects
as dict keys but that complexity is on you then.</div><br/><div id="36471108" class="c"><input type="checkbox" id="c-36471108" checked=""/><div class="controls bullet"><span class="by">_dain_</span><span>|</span><a href="#36467518">root</a><span>|</span><a href="#36470736">parent</a><span>|</span><a href="#36468372">next</a><span>|</span><label class="collapse" for="c-36471108">[-]</label><label class="expand" for="c-36471108">[3 more]</label></div><br/><div class="children"><div class="content"><i>&gt;Yaml gives you all the standard containers</i><p>So do JSON and TOML. If you think you need more than what they provide, something has gone very wrong.<p><i>&gt;tools to avoid repeating yourself,</i><p>Bad. Config is not code. Settings should be explicit. DRY is not helpful.<p>Because of the lack of anchors&#x2F;aliasing&#x2F;variables etc, JSON has the nice property that you can parse it with exactly one upfront memory allocation: N bytes of JSON requires at most N words of memory.<p><i>&gt;lord of ways to format strings so they stay readable</i><p>Bad. Too many ways: <a href="https:&#x2F;&#x2F;stackoverflow.com&#x2F;a&#x2F;21699210&#x2F;6107981" rel="nofollow noreferrer">https:&#x2F;&#x2F;stackoverflow.com&#x2F;a&#x2F;21699210&#x2F;6107981</a> No normal human being can remember all the rules for how a string gets parsed. Therefore it isn&#x27;t actually human-readable or human-writeable, despite masquerading as such.<p><i>&gt;arbitrary object serialization</i><p>You can write out the fields as a JSON object. If this isn&#x27;t enough, then what you&#x27;re trying to serialize doesn&#x27;t belong in a human-readable text config file.<p><i>&gt;Yaml only gets weird if you want to use complex objects as dict keys but that complexity is on you then.</i><p>This assumes the guy who wrote the config schema is the same as the guy who has to later use and edit it, which is seldom the case. When people do needlessly complicated config like this, they&#x27;re taking an enormous stinking shit on my lawn for me to clean up.</div><br/><div id="36473963" class="c"><input type="checkbox" id="c-36473963" checked=""/><div class="controls bullet"><span class="by">kortex</span><span>|</span><a href="#36467518">root</a><span>|</span><a href="#36471108">parent</a><span>|</span><a href="#36468372">next</a><span>|</span><label class="collapse" for="c-36473963">[-]</label><label class="expand" for="c-36473963">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Bad. Config is not code. Settings should be explicit. DRY is not helpful.<p>I disagree. From experience, there are enough times that configuration requires repetition, loops, interpolation, etc, that you often end up in this gross space of either repeating chunks manually (error prone and brittle), or using code&#x2F;templating to generate config (requires everyone on the codebase to use a specific toolchain).<p>HCL2 (used by Terraform) has been my favorite configuration system. It&#x27;s just the right amount of power that I don&#x27;t need copypasta or feel the need to resort to configgen. TOML is great for a single human-defined configuration for a program, but HCL does just as well at that, while also working for <i>systems</i>.<p>JSON definitely fails as human-editable. Again, you need some tooling to ensure syntax correctness.<p>&gt; JSON has the nice property that you can parse it with exactly one upfront memory allocation: N bytes of JSON requires at most N words of memory.<p>I really don&#x27;t care how much memory is allocated during parse, within reason, as long as execution is bounded, can&#x27;t blow up, or otherwise misbehave.</div><br/><div id="36474499" class="c"><input type="checkbox" id="c-36474499" checked=""/><div class="controls bullet"><span class="by">_dain_</span><span>|</span><a href="#36467518">root</a><span>|</span><a href="#36473963">parent</a><span>|</span><a href="#36468372">next</a><span>|</span><label class="collapse" for="c-36474499">[-]</label><label class="expand" for="c-36474499">[1 more]</label></div><br/><div class="children"><div class="content"><i>&gt;I disagree. From experience, there are enough times that configuration requires repetition, loops, interpolation, etc, that you often end up in this gross space of either repeating chunks manually (error prone and brittle), or using code&#x2F;templating to generate config (requires everyone on the codebase to use a specific toolchain).</i><p>In such a case, use a Python script to generate the configuration, and then commit that generated config into source control. Keep the script and the generated config together in the same repo. You can set up a commit hook to keep them in sync. That way you can see explicitly what the configuration is, while reducing the repetition in the editing process.<p><i>&gt;JSON definitely fails as human-editable. Again, you need some tooling to ensure syntax correctness.</i><p>What kind of tooling are you talking about here, other than syntax highlighting? I&#x27;m really at a loss to imagine how editing JSON by hand could be hard, other than maybe the lack of trailing comma. There&#x27;s just not that much to it.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="36468372" class="c"><input type="checkbox" id="c-36468372" checked=""/><div class="controls bullet"><span class="by">genman</span><span>|</span><a href="#36467518">root</a><span>|</span><a href="#36467630">parent</a><span>|</span><a href="#36470517">prev</a><span>|</span><a href="#36471828">next</a><span>|</span><label class="collapse" for="c-36468372">[-]</label><label class="expand" for="c-36468372">[2 more]</label></div><br/><div class="children"><div class="content">Actually, why not both?<p>Why not have files and an database like interface for them?<p>Even better, databases normally provide a query plan explanation, quite like what is demanded here.</div><br/><div id="36468660" class="c"><input type="checkbox" id="c-36468660" checked=""/><div class="controls bullet"><span class="by">indymike</span><span>|</span><a href="#36467518">root</a><span>|</span><a href="#36468372">parent</a><span>|</span><a href="#36471828">next</a><span>|</span><label class="collapse" for="c-36468660">[-]</label><label class="expand" for="c-36468660">[1 more]</label></div><br/><div class="children"><div class="content">I once thought the same, but there is not a universal answer on how to store data that delivers the combination of performance, reliability for every use case. Files are the lcd and leave room for optimization - and end up being a nice abstraction to hide the inner workings of decades of different storage devices and apis.</div><br/></div></div></div></div><div id="36471828" class="c"><input type="checkbox" id="c-36471828" checked=""/><div class="controls bullet"><span class="by">crabbone</span><span>|</span><a href="#36467518">root</a><span>|</span><a href="#36467630">parent</a><span>|</span><a href="#36468372">prev</a><span>|</span><a href="#36469630">next</a><span>|</span><label class="collapse" for="c-36471828">[-]</label><label class="expand" for="c-36471828">[1 more]</label></div><br/><div class="children"><div class="content">&gt; much simpler to work with.<p>It&#x27;s simple when the task is simple, and it becomes a lot more complex than necessary when problems become more complex.<p>Consider the joy of sysfs &#x2F; procfs and similar.  These are filesystems that, through files, expose information that is numbers, strings, lists, even trees.  There&#x27;s no uniformity there, no way to predict where and what sort of files with what sort of data will appear...  Sometimes you get extra files with &quot;metadata&quot; that describes the format found in other files, sometimes it&#x27;s in the same file, and sometimes it just doesn&#x27;t exist.  Sometimes numbers are encoded as strings, and sometimes as bytes.  Booleans can be encoded as numbers, (which are either strings or bytes).<p>There&#x27;s plenty of weird behavior that isn&#x27;t described by files &#x2F; their properties. For example, suppose you want to delete a RAID device, but if fails because it turns out that it&#x27;s used by LVM volume, but you didn&#x27;t even know you were supposed to look for that...<p>It gets even worse with proprietary stuff that doesn&#x27;t follow conventions.  Take for instance NVidia GPUs.  They do appear in sysfs as PCIe devices... but most interesting properties just aren&#x27;t listed there.  Instead, NVidia&#x27;s driver creates &quot;devices&quot; in udevfs (i.e. &#x2F;dev) with arbitrary properties that you cannot predict because the format is whatever the vendor wanted it to be at any version of their product.<p>In other words, files are a very poor mechanism for describing data.  In order to work with them you need conventions that aren&#x27;t part of any file mechanism.  Take network interface names, or block device names, stuff like eth0 or nvme0n1p1 -- you need to know the convention and how to interpret the name (i.e. the first suggests that the device is using Ethernet driver and is the first one connected, the second means that the device is using NVMe driver, it&#x27;s the first device of its kind attached to PCIe bus, first namespace, first partition.) Specifically, in the case of block devices, you could discover the same information given in the file name by traversing the relevant filesystem subtree, but in some cases the information is just encoded as a file name or as it contents, but it doesn&#x27;t utilize the filesystem primitives.  It just relies on convention.<p>----<p>&gt; I think most Unix software uses a fairly simple text format for config files<p>How did you count?<p>Do you mean software that is part of UNIX standard or software that runs on UNIX?<p>What makes the majority an interesting metric?  (I.e. suppose there are 10M of different programs that run on UNIX, and 6M of them are simple enough that they don&#x27;t require complicated configuration, there are still 4M of those that do, and some of them are probably used daily by millions of users.<p>I mean, who cares if simple programs don&#x27;t need complicated configuration?  The problem is the configuration of complex programs, and they are indispensible in our daily lives.</div><br/></div></div></div></div><div id="36469630" class="c"><input type="checkbox" id="c-36469630" checked=""/><div class="controls bullet"><span class="by">jeroenhd</span><span>|</span><a href="#36467518">parent</a><span>|</span><a href="#36467630">prev</a><span>|</span><a href="#36476433">next</a><span>|</span><label class="collapse" for="c-36469630">[-]</label><label class="expand" for="c-36469630">[2 more]</label></div><br/><div class="children"><div class="content">I significantly prefer using DConf over brute forcing some new configuration file format.<p>It works like the Windows registry, but now the fields also have native support for a description that tells you what the settings do.</div><br/><div id="36472676" class="c"><input type="checkbox" id="c-36472676" checked=""/><div class="controls bullet"><span class="by">Joe_Boogz</span><span>|</span><a href="#36467518">root</a><span>|</span><a href="#36469630">parent</a><span>|</span><a href="#36476433">next</a><span>|</span><label class="collapse" for="c-36472676">[-]</label><label class="expand" for="c-36472676">[1 more]</label></div><br/><div class="children"><div class="content">So like Windows Group Policy?</div><br/></div></div></div></div><div id="36476433" class="c"><input type="checkbox" id="c-36476433" checked=""/><div class="controls bullet"><span class="by">Dalewyn</span><span>|</span><a href="#36467518">parent</a><span>|</span><a href="#36469630">prev</a><span>|</span><a href="#36466908">next</a><span>|</span><label class="collapse" for="c-36476433">[-]</label><label class="expand" for="c-36476433">[1 more]</label></div><br/><div class="children"><div class="content">&gt;Wasn&#x27;t Windows Registry a (failed) attempt at unifying this stuff?<p>The way I see it, Windows Registry &quot;failed&quot; for no reason other than a handful of CLI neckbeards refusing to let go of individual .ini and other such plain text config files written however and scattered wherever they damn well please.<p>The Registry is really well designed, it&#x27;s a central repository of settings for everything that exists in that Windows installation including Windows itself. It can hold data besides plain text. It can be manipulated both by the CLI and GUI and is easily accessed, either individual keys or in batches. It can accomodate multi-user environments independently of the file system.<p>The Registry still exists and is still used by most Windows programs, though unfortunately even Windows is starting to disregard the Registry with its newer developments. The Registry for me is a reminder that the programming industry is, in many ways, one of the most regressive industries ever.</div><br/></div></div></div></div><div id="36466908" class="c"><input type="checkbox" id="c-36466908" checked=""/><div class="controls bullet"><span class="by">usrbinbash</span><span>|</span><a href="#36467518">prev</a><span>|</span><a href="#36466380">next</a><span>|</span><label class="collapse" for="c-36466908">[-]</label><label class="expand" for="c-36466908">[1 more]</label></div><br/><div class="children"><div class="content">Not only that, but past a certain complexity of the config, programs should have a way to dump their runtime config to the command line. Yes, I am talking to you, server daemons that take configs from 2-3 different rc-file locations, hardcoded defaults, envvars, the moon phase and the current market value of dried parsnips.<p>If you don&#x27;t have a way to simply tell me what your current config is, then you have no earthly right to run it.</div><br/></div></div><div id="36466380" class="c"><input type="checkbox" id="c-36466380" checked=""/><div class="controls bullet"><span class="by">c0nsumer</span><span>|</span><a href="#36466908">prev</a><span>|</span><a href="#36465976">next</a><span>|</span><label class="collapse" for="c-36466380">[-]</label><label class="expand" for="c-36466380">[14 more]</label></div><br/><div class="children"><div class="content">In my day job I do a lot of troubleshooting. That&#x27;s most of my job... helping other IT folks figure out what the heck is happening with something.<p>I&#x27;d say that in 70% of things I work on, part of that time is figuring out what config files are used because the app&#x2F;service&#x2F;process&#x2F;whatever is doing something the owner&#x2F;tech&#x2F;whatever doesn&#x27;t expect, yet is rational, and they &quot;didn&#x27;t tell it to do that&quot;.<p>It&#x27;d be great if everything reported as the article mentions -- amazing, in fact -- but I feel like it&#x27;s a pie in the sky wish. Like asking that all programs always exit cleanly or something. I feel like there&#x27;ll always be inevitable edge cases -- libraries that themselves pick up config files or registry values or environment variables that aren&#x27;t expected, who knows -- that&#x27;ll need to be discovered. If things are already not going right with a program, I&#x27;m less likely to trust what it says it&#x27;s doing and more likely to just watch it and see what it&#x27;s actually reading and doing.</div><br/><div id="36466450" class="c"><input type="checkbox" id="c-36466450" checked=""/><div class="controls bullet"><span class="by">johnchristopher</span><span>|</span><a href="#36466380">parent</a><span>|</span><a href="#36466679">next</a><span>|</span><label class="collapse" for="c-36466450">[-]</label><label class="expand" for="c-36466450">[7 more]</label></div><br/><div class="children"><div class="content">Yesterday I was wondering why the self signed root certificate and the certificates I added to my debian install didn&#x27;t work with httpie (ssl warning) but did work with curl (and the browsers I added the RootCA to).<p>I found the explanation: <a href="https:&#x2F;&#x2F;github.com&#x2F;httpie&#x2F;httpie&#x2F;issues&#x2F;480">https:&#x2F;&#x2F;github.com&#x2F;httpie&#x2F;httpie&#x2F;issues&#x2F;480</a> httpie doesn&#x27;t look into &#x2F;usr&#x2F;local&#x2F;share&#x2F;ca-certificates but apparently it&#x27;s not httpie&#x27;s fault, it&#x27;s the python requests library that doesn&#x27;t check that folder.<p>I don&#x27;t know what to think of it and who is supposed to fix it. But I am back to curl with my tail between the legs (because I oversold httpie to my coworkers) for now. There&#x27;s only one place where the bucket stops with curl.</div><br/><div id="36466723" class="c"><input type="checkbox" id="c-36466723" checked=""/><div class="controls bullet"><span class="by">drunkpotato</span><span>|</span><a href="#36466380">root</a><span>|</span><a href="#36466450">parent</a><span>|</span><a href="#36466711">next</a><span>|</span><label class="collapse" for="c-36466723">[-]</label><label class="expand" for="c-36466723">[1 more]</label></div><br/><div class="children"><div class="content">I ran into this the other day as well.<p>You can override the REQUESTS_CA_BUNDLE env var to point to your own certs.<p><a href="https:&#x2F;&#x2F;stackoverflow.com&#x2F;a&#x2F;37447847" rel="nofollow noreferrer">https:&#x2F;&#x2F;stackoverflow.com&#x2F;a&#x2F;37447847</a></div><br/></div></div><div id="36466711" class="c"><input type="checkbox" id="c-36466711" checked=""/><div class="controls bullet"><span class="by">EdwardDiego</span><span>|</span><a href="#36466380">root</a><span>|</span><a href="#36466450">parent</a><span>|</span><a href="#36466723">prev</a><span>|</span><a href="#36467467">next</a><span>|</span><label class="collapse" for="c-36466711">[-]</label><label class="expand" for="c-36466711">[4 more]</label></div><br/><div class="children"><div class="content">Gosh sigmavirus24 is a salty chap.</div><br/><div id="36467290" class="c"><input type="checkbox" id="c-36467290" checked=""/><div class="controls bullet"><span class="by">imron</span><span>|</span><a href="#36466380">root</a><span>|</span><a href="#36466711">parent</a><span>|</span><a href="#36467467">next</a><span>|</span><label class="collapse" for="c-36467290">[-]</label><label class="expand" for="c-36467290">[3 more]</label></div><br/><div class="children"><div class="content">I read the thread after seeing your comment, and it strikes me that besides the first comment being a little brusque, sigmavirus24 comes across as both calm and helpful - doubly so given that the original issue appears to have been PEBKAC related<p>&gt; I think I forgot to run &quot;pip3 uninstall&quot; and ran only &quot;pip uninstall&quot; as I had to use python3 to get working ssl in the first place.</div><br/><div id="36467534" class="c"><input type="checkbox" id="c-36467534" checked=""/><div class="controls bullet"><span class="by">DangitBobby</span><span>|</span><a href="#36466380">root</a><span>|</span><a href="#36467290">parent</a><span>|</span><a href="#36472292">next</a><span>|</span><label class="collapse" for="c-36467534">[-]</label><label class="expand" for="c-36467534">[1 more]</label></div><br/><div class="children"><div class="content">The issue is still open, so it has nothing to do with PEBKAC. &quot;A little brusque&quot; is definitely underselling it. That was a fine display of internet assholery.</div><br/></div></div><div id="36472292" class="c"><input type="checkbox" id="c-36472292" checked=""/><div class="controls bullet"><span class="by">EdwardDiego</span><span>|</span><a href="#36466380">root</a><span>|</span><a href="#36467290">parent</a><span>|</span><a href="#36467534">prev</a><span>|</span><a href="#36467467">next</a><span>|</span><label class="collapse" for="c-36472292">[-]</label><label class="expand" for="c-36472292">[1 more]</label></div><br/><div class="children"><div class="content">My interpretation of saltiness was also formed by reading the linked requests issue. Just sarcasm went unnecessary.</div><br/></div></div></div></div></div></div><div id="36467467" class="c"><input type="checkbox" id="c-36467467" checked=""/><div class="controls bullet"><span class="by">IshKebab</span><span>|</span><a href="#36466380">root</a><span>|</span><a href="#36466450">parent</a><span>|</span><a href="#36466711">prev</a><span>|</span><a href="#36466679">next</a><span>|</span><label class="collapse" for="c-36467467">[-]</label><label class="expand" for="c-36467467">[1 more]</label></div><br/><div class="children"><div class="content">For once I would say it isn&#x27;t Python&#x27;s fault either. There are at least 10 different locations that certificates can be stored at on various Unix variants and Linux distros. Go checks them all, which is probably the only sane solution, but seriously come on Unix devs... Is it that hard to pick a standard location?</div><br/></div></div></div></div><div id="36466679" class="c"><input type="checkbox" id="c-36466679" checked=""/><div class="controls bullet"><span class="by">EdwardDiego</span><span>|</span><a href="#36466380">parent</a><span>|</span><a href="#36466450">prev</a><span>|</span><a href="#36467208">next</a><span>|</span><label class="collapse" for="c-36466679">[-]</label><label class="expand" for="c-36466679">[3 more]</label></div><br/><div class="children"><div class="content">My favourite is a very bad pattern common in Docker images. Just configure it with env vars, and then a script plucks them into a config file somewhere.<p>And then document it misleadingly badly. These options are mandatory! (lists 5 of the 10 actual mandatory options).<p>Then a script branches on a env var value, which isn&#x27;t one that&#x27;s documented, and then fails opaquely if it took the wrong branch because you didn&#x27;t know you needed to set that env var.<p>Best ones are the ones that consume your env vars and set _other_ env vars, it&#x27;s great!</div><br/><div id="36468600" class="c"><input type="checkbox" id="c-36468600" checked=""/><div class="controls bullet"><span class="by">mch82</span><span>|</span><a href="#36466380">root</a><span>|</span><a href="#36466679">parent</a><span>|</span><a href="#36467208">next</a><span>|</span><label class="collapse" for="c-36468600">[-]</label><label class="expand" for="c-36468600">[2 more]</label></div><br/><div class="children"><div class="content">How should this be done instead? Are there any good docs&#x2F;tutorials?</div><br/><div id="36472938" class="c"><input type="checkbox" id="c-36472938" checked=""/><div class="controls bullet"><span class="by">EdwardDiego</span><span>|</span><a href="#36466380">root</a><span>|</span><a href="#36468600">parent</a><span>|</span><a href="#36467208">next</a><span>|</span><label class="collapse" for="c-36472938">[-]</label><label class="expand" for="c-36472938">[1 more]</label></div><br/><div class="children"><div class="content">1) Document <i>all</i> the config options, and ensure you highlight any interactions between settings, and explain them. I&#x27;m biased because I used to work on this project at RH, but I really did like the documentation for Strimzi, here&#x27;s how their env vars are documented [0].<p>To highlight a few examples of how I think they&#x27;re good:<p>&gt; STRIMZI_ZOOKEEPER_ADMIN_SESSION_TIMEOUT_MS
Optional, default 10000 ms. The session timeout for the Cluster Operator’s ZooKeeper admin client, in milliseconds. Increase the value if ZooKeeper requests from the Cluster Operator are regularly failing due to timeout issues.<p>We know if it&#x27;s required, what it defaults, and what I love to see, why we might want to use it.<p>&gt; STRIMZI_KAFKA_MIRROR_MAKER_IMAGES
...
This [provided prop] is used when a KafkaMirrorMaker.spec.version property is specified but not the KafkaMirrorMaker.spec.image<p>I like this, explaining when this env var will or will not be used.<p>&gt; STRIMZI_IMAGE_PULL_POLICY
Optional. The ImagePullPolicy that is applied to containers in all pods managed by the Cluster Operator. The valid values are Always, IfNotPresent, and Never. If not specified, the Kubernetes defaults are used. Changing the policy will result in a rolling update of all your Kafka, Kafka Connect, and Kafka MirrorMaker clusters.<p>Firstly, always great to enumerate all accepted values for enum-like props. But what I really like here is that the consequences of altering this value are explained.<p>&gt; STRIMZI_LEADER_ELECTION_IDENTITY
Required when leader election is enabled. Configures the identity of a given Cluster Operator instance used during the leader election. The identity must be unique for each operator instance. You can use the downward API to configure it to the name of the pod where the Cluster Operator is deployed. (Code snippet omitted)<p>Interactions between config options highlighted - if you set STRIMZI_LEADER_ELECTION_ENABLED to true, this option is now required.<p>We&#x27;re told that this must be unique. And a suggestion on one straightforward way to do this, with example code.<p>One more thing to call out as good:<p>&gt; The environment variables are specified for the container image of the Cluster Operator in its Deployment configuration file. (install&#x2F;cluster-operator&#x2F;060-Deployment-strimzi-cluster-operator.yaml)<p>Being told _where_ in the source code the env var is being consumed is great.<p>Now compare the Confluent docs for their Kafka Connect image. [1] A colleague of mine was using this image, and was connecting to Confluent Cloud, so needs to use an API key and secret. There&#x27;s no mention of doing that at all. But you can. Just merely set the CONNECT_SASL_JAAS_CONFIG option, and make sure you also set 
CONNECT_SSL_ENDPOINT_IDENTIFICATION_ALGORITHM and CONNECT_SASL_MECHANISM.<p>And very importantly, don&#x27;t forget CONNECT_SECURITY_PROTOCOL, as not only will you have odd connection failures (usually manifests as the client dying at the ApiVersions negotiation stage of the Kafka protocol&#x27;s handshake), but because a script run in the image uses the value of that undocumented setting to execute a prerequisite in different ways [2], and you&#x27;ll get weird behaviour that obscures the real issue.<p>2) Support more than one way of configuring things - maybe I want to mount in a config file, maybe I want to provide a ConfigMap, maybe I want to do it via env vars. Well... [3]<p>[0]: <a href="https:&#x2F;&#x2F;strimzi.io&#x2F;docs&#x2F;operators&#x2F;latest&#x2F;deploying.html#ref-operator-cluster-str" rel="nofollow noreferrer">https:&#x2F;&#x2F;strimzi.io&#x2F;docs&#x2F;operators&#x2F;latest&#x2F;deploying.html#ref-...</a><p>[1]: <a href="https:&#x2F;&#x2F;docs.confluent.io&#x2F;platform&#x2F;current&#x2F;installation&#x2F;docker&#x2F;config-reference.html#kconnect-long-configuration" rel="nofollow noreferrer">https:&#x2F;&#x2F;docs.confluent.io&#x2F;platform&#x2F;current&#x2F;installation&#x2F;dock...</a><p>[2]: <a href="https:&#x2F;&#x2F;github.com&#x2F;confluentinc&#x2F;kafka-images&#x2F;blob&#x2F;master&#x2F;kafka-connect-base&#x2F;include&#x2F;etc&#x2F;confluent&#x2F;docker&#x2F;ensure#L21">https:&#x2F;&#x2F;github.com&#x2F;confluentinc&#x2F;kafka-images&#x2F;blob&#x2F;master&#x2F;kaf...</a><p>[3]: <a href="https:&#x2F;&#x2F;strimzi.io&#x2F;docs&#x2F;operators&#x2F;latest&#x2F;deploying.html#assembly-loading-config-with-providers-str" rel="nofollow noreferrer">https:&#x2F;&#x2F;strimzi.io&#x2F;docs&#x2F;operators&#x2F;latest&#x2F;deploying.html#asse...</a></div><br/></div></div></div></div></div></div><div id="36467208" class="c"><input type="checkbox" id="c-36467208" checked=""/><div class="controls bullet"><span class="by">CoastalCoder</span><span>|</span><a href="#36466380">parent</a><span>|</span><a href="#36466679">prev</a><span>|</span><a href="#36465976">next</a><span>|</span><label class="collapse" for="c-36467208">[-]</label><label class="expand" for="c-36467208">[3 more]</label></div><br/><div class="children"><div class="content">If any of the frequent offenders are open source, I wonder if ot would be worth your while to submit (or get someone else to) a change to add this functionality.</div><br/><div id="36467614" class="c"><input type="checkbox" id="c-36467614" checked=""/><div class="controls bullet"><span class="by">coldtea</span><span>|</span><a href="#36466380">root</a><span>|</span><a href="#36467208">parent</a><span>|</span><a href="#36465976">next</a><span>|</span><label class="collapse" for="c-36467614">[-]</label><label class="expand" for="c-36467614">[2 more]</label></div><br/><div class="children"><div class="content">&quot;Submit a change and they&#x27;ll include it&quot; is the demo&#x2F;promotional version of FOSS</div><br/><div id="36468710" class="c"><input type="checkbox" id="c-36468710" checked=""/><div class="controls bullet"><span class="by">CoastalCoder</span><span>|</span><a href="#36466380">root</a><span>|</span><a href="#36467614">parent</a><span>|</span><a href="#36465976">next</a><span>|</span><label class="collapse" for="c-36468710">[-]</label><label class="expand" for="c-36468710">[1 more]</label></div><br/><div class="children"><div class="content">I suspect that varies from one project to the next.</div><br/></div></div></div></div></div></div></div></div><div id="36465976" class="c"><input type="checkbox" id="c-36465976" checked=""/><div class="controls bullet"><span class="by">p-e-w</span><span>|</span><a href="#36466380">prev</a><span>|</span><a href="#36468347">next</a><span>|</span><label class="collapse" for="c-36465976">[-]</label><label class="expand" for="c-36465976">[16 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t think I&#x27;ve ever encountered a widely used program that doesn&#x27;t have that information in its manpage. The manpage <i>is</i> the canonical source the article calls for.<p>With the exception of New Age software like Go, that for some reason doesn&#x27;t use manpages, I&#x27;m not convinced that the problem implied here actually exists.</div><br/><div id="36466006" class="c"><input type="checkbox" id="c-36466006" checked=""/><div class="controls bullet"><span class="by">BaculumMeumEst</span><span>|</span><a href="#36465976">parent</a><span>|</span><a href="#36465979">next</a><span>|</span><label class="collapse" for="c-36466006">[-]</label><label class="expand" for="c-36466006">[10 more]</label></div><br/><div class="children"><div class="content">Doesn&#x27;t the man page often list several potential locations where it looks for the file and the ordering behavior, leaving you to investigate and find which is actually loaded? It&#x27;s still annoying.</div><br/><div id="36466041" class="c"><input type="checkbox" id="c-36466041" checked=""/><div class="controls bullet"><span class="by">p-e-w</span><span>|</span><a href="#36465976">root</a><span>|</span><a href="#36466006">parent</a><span>|</span><a href="#36465979">next</a><span>|</span><label class="collapse" for="c-36466041">[-]</label><label class="expand" for="c-36466041">[9 more]</label></div><br/><div class="children"><div class="content">But that is exactly the information you need in order to determine which config file is being read in all situations. A single location doesn&#x27;t cut it if the reality is more complicated.<p>If the goal is to find out which <i>particular</i> file is being used <i>at this particular time, on this particular system,</i> the maximum verbosity log might have that information, and otherwise strace can help, as described in the other comments.</div><br/><div id="36467625" class="c"><input type="checkbox" id="c-36467625" checked=""/><div class="controls bullet"><span class="by">coldtea</span><span>|</span><a href="#36465976">root</a><span>|</span><a href="#36466041">parent</a><span>|</span><a href="#36466093">next</a><span>|</span><label class="collapse" for="c-36467625">[-]</label><label class="expand" for="c-36467625">[1 more]</label></div><br/><div class="children"><div class="content">These Stockhom Syndrome rationalizations are the reason we can&#x27;t have nice things</div><br/></div></div><div id="36466093" class="c"><input type="checkbox" id="c-36466093" checked=""/><div class="controls bullet"><span class="by">eptcyka</span><span>|</span><a href="#36465976">root</a><span>|</span><a href="#36466041">parent</a><span>|</span><a href="#36467625">prev</a><span>|</span><a href="#36468638">next</a><span>|</span><label class="collapse" for="c-36466093">[-]</label><label class="expand" for="c-36466093">[6 more]</label></div><br/><div class="children"><div class="content">I really do not care about all the possible paths a config file might be read from. I want a flag that I can pass to a binary to see which paths it will actually read, and ideally, I&#x27;d like those paths to be logged to STDOUT on startup.</div><br/><div id="36466462" class="c"><input type="checkbox" id="c-36466462" checked=""/><div class="controls bullet"><span class="by">em-bee</span><span>|</span><a href="#36465976">root</a><span>|</span><a href="#36466093">parent</a><span>|</span><a href="#36467636">next</a><span>|</span><label class="collapse" for="c-36466462">[-]</label><label class="expand" for="c-36466462">[4 more]</label></div><br/><div class="children"><div class="content">but it reads all of them in a particular order and in case of conflicting settings you have to figure out which one takes precedence.</div><br/><div id="36466990" class="c"><input type="checkbox" id="c-36466990" checked=""/><div class="controls bullet"><span class="by">eptcyka</span><span>|</span><a href="#36465976">root</a><span>|</span><a href="#36466462">parent</a><span>|</span><a href="#36470542">next</a><span>|</span><label class="collapse" for="c-36466990">[-]</label><label class="expand" for="c-36466990">[2 more]</label></div><br/><div class="children"><div class="content">Yes, I want to know which files in which order.cI don&#x27;t want a static list of all possible locations, I want it to deduce what files would take effect in a given environment and with the given config files - a program must already know this when it is ran - so let&#x27;s just be open and print said paths.</div><br/><div id="36470225" class="c"><input type="checkbox" id="c-36470225" checked=""/><div class="controls bullet"><span class="by">Joker_vD</span><span>|</span><a href="#36465976">root</a><span>|</span><a href="#36466990">parent</a><span>|</span><a href="#36470542">next</a><span>|</span><label class="collapse" for="c-36470225">[-]</label><label class="expand" for="c-36470225">[1 more]</label></div><br/><div class="children"><div class="content">Absolutely. For example, if you pass &quot;-v&quot; to ssh, it prints paths to configs that it tried to open, paths to identity files that it tried to open, to known_hosts files, etc. This info is not needed so very often, but when it is, it&#x27;s incredibly useful.</div><br/></div></div></div></div><div id="36470542" class="c"><input type="checkbox" id="c-36470542" checked=""/><div class="controls bullet"><span class="by">_dain_</span><span>|</span><a href="#36465976">root</a><span>|</span><a href="#36466462">parent</a><span>|</span><a href="#36466990">prev</a><span>|</span><a href="#36467636">next</a><span>|</span><label class="collapse" for="c-36470542">[-]</label><label class="expand" for="c-36470542">[1 more]</label></div><br/><div class="children"><div class="content">Yes. Exactly. Which is why <i>the program</i> should tell you which one takes precedence.<p>The program already knows what config files it&#x27;s loading and in what order, so why is it left up to the human to do all that work again? There should be a flag like --manifest or something that would spit out what actually got loaded from where.</div><br/></div></div></div></div><div id="36467636" class="c"><input type="checkbox" id="c-36467636" checked=""/><div class="controls bullet"><span class="by">coldtea</span><span>|</span><a href="#36465976">root</a><span>|</span><a href="#36466093">parent</a><span>|</span><a href="#36466462">prev</a><span>|</span><a href="#36468638">next</a><span>|</span><label class="collapse" for="c-36467636">[-]</label><label class="expand" for="c-36467636">[1 more]</label></div><br/><div class="children"><div class="content">That would be stderr but hell yes</div><br/></div></div></div></div><div id="36468638" class="c"><input type="checkbox" id="c-36468638" checked=""/><div class="controls bullet"><span class="by">lelanthran</span><span>|</span><a href="#36465976">root</a><span>|</span><a href="#36466041">parent</a><span>|</span><a href="#36466093">prev</a><span>|</span><a href="#36465979">next</a><span>|</span><label class="collapse" for="c-36468638">[-]</label><label class="expand" for="c-36468638">[1 more]</label></div><br/><div class="children"><div class="content">Okay, but why should I have to determine what the program already knew?</div><br/></div></div></div></div></div></div><div id="36465979" class="c"><input type="checkbox" id="c-36465979" checked=""/><div class="controls bullet"><span class="by">vaughands</span><span>|</span><a href="#36465976">parent</a><span>|</span><a href="#36466006">prev</a><span>|</span><a href="#36467554">next</a><span>|</span><label class="collapse" for="c-36465979">[-]</label><label class="expand" for="c-36465979">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s more common to have to guess in blackbox &#x2F; proprietary software, like games.</div><br/></div></div><div id="36467554" class="c"><input type="checkbox" id="c-36467554" checked=""/><div class="controls bullet"><span class="by">DangitBobby</span><span>|</span><a href="#36465976">parent</a><span>|</span><a href="#36465979">prev</a><span>|</span><a href="#36466146">next</a><span>|</span><label class="collapse" for="c-36467554">[-]</label><label class="expand" for="c-36467554">[1 more]</label></div><br/><div class="children"><div class="content">A short way in to TFA:<p>&gt; Ideally I&#x27;d like to avoid scanning all the way through the manual page or other documentation for the program to find out, because that&#x27;s slow and annoying.</div><br/></div></div><div id="36466146" class="c"><input type="checkbox" id="c-36466146" checked=""/><div class="controls bullet"><span class="by">formerly_proven</span><span>|</span><a href="#36465976">parent</a><span>|</span><a href="#36467554">prev</a><span>|</span><a href="#36468347">next</a><span>|</span><label class="collapse" for="c-36466146">[-]</label><label class="expand" for="c-36466146">[3 more]</label></div><br/><div class="children"><div class="content">&gt; With the exception of New Age software like Go, that for some reason doesn&#x27;t use manpages<p>Primarily because man pages need to go in the MANPATH to be useful but these tools tend to dwell somewhere in ~&#x2F;.</div><br/><div id="36466684" class="c"><input type="checkbox" id="c-36466684" checked=""/><div class="controls bullet"><span class="by">unnah</span><span>|</span><a href="#36465976">root</a><span>|</span><a href="#36466146">parent</a><span>|</span><a href="#36466508">next</a><span>|</span><label class="collapse" for="c-36466684">[-]</label><label class="expand" for="c-36466684">[1 more]</label></div><br/><div class="children"><div class="content">Out of interest, I checked out <i>man man</i> on Linux and found the search logic documented in <i>man 5 manpath</i>. In addition to system directories specified in &#x2F;etc&#x2F;manpath.config, the man command checks directories in the user&#x27;s PATH and maps them to related man directories: pathdir, pathdir&#x2F;..&#x2F;man, pathdir&#x2F;man, pathdir&#x2F;..&#x2F;share&#x2F;man, and pathdir&#x2F;share&#x2F;man are all considered. The MANPATH environment variable overrides all other configuration and should not be necessary.<p>So, following current practices, installing binaries in ~&#x2F;.local&#x2F;bin and man pages in ~&#x2F;.local&#x2F;share&#x2F;man should work without any additional configuration.</div><br/></div></div><div id="36466508" class="c"><input type="checkbox" id="c-36466508" checked=""/><div class="controls bullet"><span class="by">em-bee</span><span>|</span><a href="#36465976">root</a><span>|</span><a href="#36466146">parent</a><span>|</span><a href="#36466684">prev</a><span>|</span><a href="#36468347">next</a><span>|</span><label class="collapse" for="c-36466508">[-]</label><label class="expand" for="c-36466508">[1 more]</label></div><br/><div class="children"><div class="content">my manpath includes $HOME&#x2F;.local&#x2F;share&#x2F;man; and that is with $MANPATH unset, so it&#x27;s a distribution default</div><br/></div></div></div></div></div></div><div id="36468347" class="c"><input type="checkbox" id="c-36468347" checked=""/><div class="controls bullet"><span class="by">js2</span><span>|</span><a href="#36465976">prev</a><span>|</span><a href="#36466193">next</a><span>|</span><label class="collapse" for="c-36468347">[-]</label><label class="expand" for="c-36468347">[4 more]</label></div><br/><div class="children"><div class="content">I needed to update &#x2F;etc&#x2F;resolv.conf under RedHat the other day and I was surprised by how much this has changed. You don&#x27;t edit &#x2F;etc&#x2F;resolv.conf directly anymore because it&#x27;s maintained by Network Manager[1]. Instead you edit either one of the interface configuration files and tell NM (via nmcli) to reload it, or you use nmcli to update the interface config file.<p>Fine, I can deal with that.<p>What really surprised me were a couple programs that needed to be restarted to see the updated &#x2F;etc&#x2F;resolv.conf as they apparently don&#x27;t use glibc for DNS resolution. I used lsof to figure out what was sending DNS requests to the old name server IPs.<p>It turned out to be osqueryd and Apache Traffic Server.<p>1. There are various ways to put &#x2F;etc&#x2F;resolv.conf back under manual control if you don&#x27;t want NM to maintain it.</div><br/><div id="36469647" class="c"><input type="checkbox" id="c-36469647" checked=""/><div class="controls bullet"><span class="by">marcosdumay</span><span>|</span><a href="#36468347">parent</a><span>|</span><a href="#36466193">next</a><span>|</span><label class="collapse" for="c-36469647">[-]</label><label class="expand" for="c-36469647">[3 more]</label></div><br/><div class="children"><div class="content">&gt; Instead you edit either one of the interface configuration files and tell NM (via nmcli) to reload it<p>Yeah, and this would be fine if both &#x2F;etc&#x2F;resolv.conf told you what is creating that file <i>and</i> NM didn&#x27;t rewrite its own configuration files all the time.<p>Anyway, it would be not that bad if NM was kept restricted to RedHat, because the entire philosophy of that distro is that configuration files are just suggestions and the system is free to change anything at any time. But instead, that behavior infected everything.</div><br/><div id="36469805" class="c"><input type="checkbox" id="c-36469805" checked=""/><div class="controls bullet"><span class="by">js2</span><span>|</span><a href="#36468347">root</a><span>|</span><a href="#36469647">parent</a><span>|</span><a href="#36466193">next</a><span>|</span><label class="collapse" for="c-36469805">[-]</label><label class="expand" for="c-36469805">[2 more]</label></div><br/><div class="children"><div class="content">The first line of resolv.conf is a comment indicating it&#x27;s written by Network Manager. So that part didn&#x27;t trip me up at least.</div><br/><div id="36471367" class="c"><input type="checkbox" id="c-36471367" checked=""/><div class="controls bullet"><span class="by">marcosdumay</span><span>|</span><a href="#36468347">root</a><span>|</span><a href="#36469805">parent</a><span>|</span><a href="#36466193">next</a><span>|</span><label class="collapse" for="c-36471367">[-]</label><label class="expand" for="c-36471367">[1 more]</label></div><br/><div class="children"><div class="content">On Debian it only says it&#x27;s auto-generated and you shouldn&#x27;t edit. It&#x27;s not necessarily created by NM either¹, so it would be really helpful to have it.<p>1 - The policy of whatever configures your network last rewrites this file is spreading. Apparently systemd creates it first, and Debian has more than one network configurator for you to choose.</div><br/></div></div></div></div></div></div></div></div><div id="36466193" class="c"><input type="checkbox" id="c-36466193" checked=""/><div class="controls bullet"><span class="by">klabb3</span><span>|</span><a href="#36468347">prev</a><span>|</span><a href="#36470609">next</a><span>|</span><label class="collapse" for="c-36466193">[-]</label><label class="expand" for="c-36466193">[1 more]</label></div><br/><div class="children"><div class="content">I maintained a CLI tool for a long time. I came to the conclusion that good config is a bit harder and more subtle than most people think. I agree with the premise of the article, but there are more layers to it, literally.<p>Depending on how much config you have, sooner rather than later you’ll have multiple sources: system defaults, user config files, sometimes profiles, env vars, and flags. Configuration may be sourced from a combination of these, so overrides need to be handled and naming needs to be consistent. Another source of mess is deeply nested config, such as for a user-defined project. Those are very awkward to add flags for, in which case it’s better to enforce a file (like kubernetes config).<p>To me, tools like git strikes a good balance. And by that I mean that project-local config is in a project root directory that’s not necessarily checked in to VCS, but picks up the config even if you’re in a subdir. It rarely causes any unwanted surprises, but at the cost of being somewhat flag heavy, which is then alleviated with user-defined aliases.</div><br/></div></div><div id="36470609" class="c"><input type="checkbox" id="c-36470609" checked=""/><div class="controls bullet"><span class="by">elihu</span><span>|</span><a href="#36466193">prev</a><span>|</span><a href="#36466764">next</a><span>|</span><label class="collapse" for="c-36470609">[-]</label><label class="expand" for="c-36470609">[5 more]</label></div><br/><div class="children"><div class="content">I would go one further and say that the default should be that programs cannot read, open, or see files at all unless they&#x27;re either explicitly allow-listed to open those files, or the user has given permission for them to open those files (i.e. by using the file name as a command-line argument, or selecting the file in an os-provided file selection dialog box).</div><br/><div id="36472175" class="c"><input type="checkbox" id="c-36472175" checked=""/><div class="controls bullet"><span class="by">theobeers</span><span>|</span><a href="#36470609">parent</a><span>|</span><a href="#36470640">next</a><span>|</span><label class="collapse" for="c-36472175">[-]</label><label class="expand" for="c-36472175">[1 more]</label></div><br/><div class="children"><div class="content">I like this about Deno (not to suggest that the runtime is without its flaws). Whenever I try to run a script and it tells me I need to allow e.g. read access to the filesystem, I’m more grateful than annoyed. And it lets you choose the granularity of the permissions that you grant. Hopefully this approach will become more common.<p><a href="https:&#x2F;&#x2F;deno.com&#x2F;manual@v1.34.3&#x2F;basics&#x2F;permissions" rel="nofollow noreferrer">https:&#x2F;&#x2F;deno.com&#x2F;manual@v1.34.3&#x2F;basics&#x2F;permissions</a></div><br/></div></div><div id="36470640" class="c"><input type="checkbox" id="c-36470640" checked=""/><div class="controls bullet"><span class="by">jjtheblunt</span><span>|</span><a href="#36470609">parent</a><span>|</span><a href="#36472175">prev</a><span>|</span><a href="#36466764">next</a><span>|</span><label class="collapse" for="c-36470640">[-]</label><label class="expand" for="c-36470640">[3 more]</label></div><br/><div class="children"><div class="content">Is that what macOS does?  (I&#x27;m thinking it&#x27;s coarser granularity, like asks if a program can see a filesystem tree, for a few such checked trees.)</div><br/><div id="36475696" class="c"><input type="checkbox" id="c-36475696" checked=""/><div class="controls bullet"><span class="by">notatoad</span><span>|</span><a href="#36470609">root</a><span>|</span><a href="#36470640">parent</a><span>|</span><a href="#36470888">next</a><span>|</span><label class="collapse" for="c-36475696">[-]</label><label class="expand" for="c-36475696">[1 more]</label></div><br/><div class="children"><div class="content">i think that&#x27;s only mac store apps.</div><br/></div></div><div id="36470888" class="c"><input type="checkbox" id="c-36470888" checked=""/><div class="controls bullet"><span class="by">elihu</span><span>|</span><a href="#36470609">root</a><span>|</span><a href="#36470640">parent</a><span>|</span><a href="#36475696">prev</a><span>|</span><a href="#36466764">next</a><span>|</span><label class="collapse" for="c-36470888">[-]</label><label class="expand" for="c-36470888">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t know; I don&#x27;t use a Mac.</div><br/></div></div></div></div></div></div><div id="36466764" class="c"><input type="checkbox" id="c-36466764" checked=""/><div class="controls bullet"><span class="by">smcameron</span><span>|</span><a href="#36470609">prev</a><span>|</span><a href="#36466166">next</a><span>|</span><label class="collapse" for="c-36466764">[-]</label><label class="expand" for="c-36466764">[3 more]</label></div><br/><div class="children"><div class="content">List them in the FILES section of the man page. You have a man page, right?<p>Also, follow the XDG base directory specification[1].<p>[1] <a href="https:&#x2F;&#x2F;specifications.freedesktop.org&#x2F;basedir-spec&#x2F;basedir-spec-latest.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;specifications.freedesktop.org&#x2F;basedir-spec&#x2F;basedir-...</a></div><br/><div id="36467251" class="c"><input type="checkbox" id="c-36467251" checked=""/><div class="controls bullet"><span class="by">JdeBP</span><span>|</span><a href="#36466764">parent</a><span>|</span><a href="#36470982">next</a><span>|</span><label class="collapse" for="c-36467251">[-]</label><label class="expand" for="c-36467251">[1 more]</label></div><br/><div class="children"><div class="content">systemd has manual pages.  I pointed out some missing configuration file locations back in 2016.  They are still undocumented today.<p>* <a href="https:&#x2F;&#x2F;jdebp.uk&#x2F;FGA&#x2F;systemd-documentation-errata.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;jdebp.uk&#x2F;FGA&#x2F;systemd-documentation-errata.html</a></div><br/></div></div><div id="36470982" class="c"><input type="checkbox" id="c-36470982" checked=""/><div class="controls bullet"><span class="by">Rediscover</span><span>|</span><a href="#36466764">parent</a><span>|</span><a href="#36467251">prev</a><span>|</span><a href="#36466166">next</a><span>|</span><label class="collapse" for="c-36470982">[-]</label><label class="expand" for="c-36470982">[1 more]</label></div><br/><div class="children"><div class="content">And also `strace`.</div><br/></div></div></div></div><div id="36466166" class="c"><input type="checkbox" id="c-36466166" checked=""/><div class="controls bullet"><span class="by">ilyt</span><span>|</span><a href="#36466764">prev</a><span>|</span><a href="#36466972">next</a><span>|</span><label class="collapse" for="c-36466166">[-]</label><label class="expand" for="c-36466166">[2 more]</label></div><br/><div class="children"><div class="content">As a system administrator I want 2 things from config files:<p>* loading a directory of config files, so various Configuration Management tools have easier time deploying config (especially for multi-use apps like say syslog daemon, where multiple disparate apps might want to put a part of the config in)<p>* a function to dry-run config validation, so CM can alert about that instead of restarting an app to a wrong config<p>Finding where is one has never been a problem.</div><br/><div id="36466447" class="c"><input type="checkbox" id="c-36466447" checked=""/><div class="controls bullet"><span class="by">themoonisachees</span><span>|</span><a href="#36466166">parent</a><span>|</span><a href="#36466972">next</a><span>|</span><label class="collapse" for="c-36466447">[-]</label><label class="expand" for="c-36466447">[1 more]</label></div><br/><div class="children"><div class="content">Seconding dry-run, while looking intently aws-cli for haveing the worst possible dry-run option imaginable.</div><br/></div></div></div></div><div id="36466972" class="c"><input type="checkbox" id="c-36466972" checked=""/><div class="controls bullet"><span class="by">egberts1</span><span>|</span><a href="#36466166">prev</a><span>|</span><a href="#36472845">next</a><span>|</span><label class="collapse" for="c-36466972">[-]</label><label class="expand" for="c-36466972">[3 more]</label></div><br/><div class="children"><div class="content">Fastest way to identify hidden and dynamic configuration filenames:<p><pre><code>    strace -f &lt;executable-file&gt; | grep openat
</code></pre>
Yeah, I was just looking at the biggest offender that I have encountered: Debian&#x27;s update-ca-certificates, 37 hidden configuration files.</div><br/><div id="36473198" class="c"><input type="checkbox" id="c-36473198" checked=""/><div class="controls bullet"><span class="by">egberts1</span><span>|</span><a href="#36466972">parent</a><span>|</span><a href="#36472845">next</a><span>|</span><label class="collapse" for="c-36473198">[-]</label><label class="expand" for="c-36473198">[2 more]</label></div><br/><div class="children"><div class="content">Details of hidden files opened by Debian&#x27;s update-ca-certificates:<p><a href="https:&#x2F;&#x2F;egbert.net&#x2F;blog&#x2F;articles&#x2F;ca-certificates-rebuild-on-debian.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;egbert.net&#x2F;blog&#x2F;articles&#x2F;ca-certificates-rebuild-on-...</a><p>&#x2F;etc&#x2F;ca-certificates.conf file<p>&#x2F;usr&#x2F;share&#x2F;ca-certificates&#x2F;* directory<p>&#x2F;usr&#x2F;share&#x2F;ca-certificates&#x2F;mozilla&#x2F;* directory<p>&#x2F;usr&#x2F;share&#x2F;ca-certificates&#x2F;<i>&#x2F;</i> directory<p>&#x2F;usr&#x2F;local&#x2F;share&#x2F;ca-certificates&#x2F;* directory<p>&#x2F;usr&#x2F;local&#x2F;share&#x2F;ca-certificates&#x2F;<i>&#x2F;</i> directory<p>&#x2F;etc&#x2F;ssl&#x2F;certs directory
$CWD&#x2F;&lt;all-certs-read-before&gt; files<p>&#x2F;usr&#x2F;lib&#x2F;ssl&#x2F;openssl.cnf file<p>&#x2F;etc&#x2F;ca-certificates&#x2F;update.d directory<p>&#x2F;etc&#x2F;ca-certificates&#x2F;update.d&#x2F;jks-keystore directory<p>&#x2F;etc&#x2F;default&#x2F;cacerts directory<p>&#x2F;etc&#x2F;java-11-openjdk&#x2F;security&#x2F;nss.cfg file<p>&#x2F;usr&#x2F;share&#x2F;ca-certificates-java directory<p>&#x2F;usr&#x2F;lib&#x2F;jvm&#x2F;java-11-openjdk-amd64&#x2F;lib&#x2F;jvm.cfg file<p>&#x2F;usr&#x2F;share&#x2F;ca-certificates-java&#x2F;ca-certificates-java.jar file<p>&#x2F;etc&#x2F;ca-certificates&#x2F;update.d&#x2F;mono-keystore directory<p>&#x2F;etc&#x2F;mono&#x2F;4.5&#x2F;machine.config file<p>&#x2F;etc&#x2F;mono&#x2F;assemblies&#x2F;cert-sync&#x2F;cert-sync.config file<p>&#x2F;etc&#x2F;mono&#x2F;assemblies&#x2F;Mono.Security&#x2F;Mono.Security.config file<p>&#x2F;etc&#x2F;mono&#x2F;assemblies&#x2F;mscorlib&#x2F;mscorlib.config file<p>&#x2F;etc&#x2F;mono&#x2F;assemblies&#x2F;System&#x2F;System.config file<p>&#x2F;etc&#x2F;mono&#x2F;config file<p>&#x2F;etc&#x2F;ssl&#x2F;certs&#x2F;ca-certificates.crt file<p>$HOME&#x2F;.mono&#x2F;config file<p>&#x2F;usr&#x2F;lib&#x2F;mono&#x2F;4.5&#x2F;cert-sync.exe.config file<p>&#x2F;usr&#x2F;lib&#x2F;mono&#x2F;4.5&#x2F;cert-sync.exe.config file<p>&#x2F;usr&#x2F;lib&#x2F;mono&#x2F;4.5&#x2F;mscorlib.dll.config file<p>&#x2F;usr&#x2F;lib&#x2F;mono&#x2F;gac&#x2F;Mono.Security&#x2F;4.0.0.0_0738eb9f132ed765&#x2F;Mono.Security.dll.config file<p>&#x2F;usr&#x2F;lib&#x2F;mono&#x2F;gac&#x2F;System&#x2F;4.0.0.0__b77a5c561934e089&#x2F;System.dll.config file<p>&#x2F;usr&#x2F;share&#x2F;.mono&#x2F;certs&#x2F;Trust&#x2F;ski-*.cer file<p>&#x2F;usr&#x2F;share&#x2F;.mono&#x2F;certs&#x2F;new-certs&#x2F;XXXXXXXX.0 file<p>$CWD&#x2F;openssl EXECUTABLE!!! (why look in $CWD?)<p>&#x2F;usr&#x2F;bin&#x2F;openssl<p>&#x2F;usr&#x2F;local&#x2F;bin&#x2F;openssl<p>&#x2F;usr&#x2F;local&#x2F;sbin&#x2F;openssl<p>&#x2F;usr&#x2F;sbin&#x2F;openssl (VERY STRANGE ordering of &#x2F;usr&#x2F;[local&#x2F;][s]bin&#x2F;</div><br/><div id="36476083" class="c"><input type="checkbox" id="c-36476083" checked=""/><div class="controls bullet"><span class="by">efreak</span><span>|</span><a href="#36466972">root</a><span>|</span><a href="#36473198">parent</a><span>|</span><a href="#36472845">next</a><span>|</span><label class="collapse" for="c-36476083">[-]</label><label class="expand" for="c-36476083">[1 more]</label></div><br/><div class="children"><div class="content">&gt; $CWD&#x2F;openssl EXECUTABLE!!! (why look in $CWD?)<p>debootstrap, maybe?</div><br/></div></div></div></div></div></div><div id="36472845" class="c"><input type="checkbox" id="c-36472845" checked=""/><div class="controls bullet"><span class="by">seiferteric</span><span>|</span><a href="#36466972">prev</a><span>|</span><a href="#36466646">next</a><span>|</span><label class="collapse" for="c-36472845">[-]</label><label class="expand" for="c-36472845">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve mentioned this before in a comment long ago that I thought there should be a library for configurations, like libconfig. This would expose an API that a program could get it&#x27;s config from, then the user could decide in which format they would like to keep their configs, like ini, json, yaml etc and could translate between them. Then you could get like a unified config for your system.</div><br/></div></div><div id="36466646" class="c"><input type="checkbox" id="c-36466646" checked=""/><div class="controls bullet"><span class="by">thecosmicfrog</span><span>|</span><a href="#36472845">prev</a><span>|</span><a href="#36467770">next</a><span>|</span><label class="collapse" for="c-36466646">[-]</label><label class="expand" for="c-36466646">[3 more]</label></div><br/><div class="children"><div class="content">I wish more programs had an obvious way of showing what configuration values are <i>currently</i> set. Something like `program --config` with no arguments should print all configuration keys and their current values.</div><br/><div id="36467327" class="c"><input type="checkbox" id="c-36467327" checked=""/><div class="controls bullet"><span class="by">reidacdc</span><span>|</span><a href="#36466646">parent</a><span>|</span><a href="#36467770">next</a><span>|</span><label class="collapse" for="c-36467327">[-]</label><label class="expand" for="c-36467327">[2 more]</label></div><br/><div class="children"><div class="content">Seconding this, for sure. &quot;&#x2F;usr&#x2F;sbin&#x2F;sshd -T&quot; (T for &quot;test&quot;) has been a life-saver more than once.<p>My strongest version of this is that <i>any</i> application that manages <i>any</i> state should be able to report on that state in a human- and machine-readable way.</div><br/><div id="36476118" class="c"><input type="checkbox" id="c-36476118" checked=""/><div class="controls bullet"><span class="by">efreak</span><span>|</span><a href="#36466646">root</a><span>|</span><a href="#36467327">parent</a><span>|</span><a href="#36467770">next</a><span>|</span><label class="collapse" for="c-36476118">[-]</label><label class="expand" for="c-36476118">[1 more]</label></div><br/><div class="children"><div class="content">This doesn&#x27;t tell you the current running configuration, it tells you the current configuration on disk. These <i>should</i> be the same, but aren&#x27;t always. I personally have a nasty habit of forgetting to reload configs. I make sure to leave them in a syntactically valid state, but I really don&#x27;t care if someone can&#x27;t access my webserver for a while; if I have to go, I add a quote and a curly bracket, save, and close my ssh session. If my 5 minutes away runs into tomorrow, then I no longer remember what&#x27;s been changed (I manage this these days by making &#x2F;etc a git repo with an ignore list and stashing incomplete changes...then forgetting to commit them when I&#x27;m done)</div><br/></div></div></div></div></div></div><div id="36467770" class="c"><input type="checkbox" id="c-36467770" checked=""/><div class="controls bullet"><span class="by">timokoesters</span><span>|</span><a href="#36466646">prev</a><span>|</span><a href="#36466086">next</a><span>|</span><label class="collapse" for="c-36467770">[-]</label><label class="expand" for="c-36467770">[2 more]</label></div><br/><div class="children"><div class="content">In Conduit (<a href="https:&#x2F;&#x2F;conduit.rs" rel="nofollow noreferrer">https:&#x2F;&#x2F;conduit.rs</a>) there is no default config path. In order to start Conduit, you need to specify the CONDUIT_CONFIG environment variable, which is the path to your config. This will typically be done in a systemd service.<p>This has multiple benefits:<p>- You can&#x27;t accidentally start Conduit with a wrong config (e.g. the config in the current working directory)<p>- You can have multiple Conduits running at the same time with different config<p>- It&#x27;s easier to understand for the system administrator because there is no hidden information</div><br/><div id="36474751" class="c"><input type="checkbox" id="c-36474751" checked=""/><div class="controls bullet"><span class="by">magarnicle</span><span>|</span><a href="#36467770">parent</a><span>|</span><a href="#36466086">next</a><span>|</span><label class="collapse" for="c-36474751">[-]</label><label class="expand" for="c-36474751">[1 more]</label></div><br/><div class="children"><div class="content">That seems like a really good solution, for the cost of a little more mucking around to begin with.</div><br/></div></div></div></div><div id="36466086" class="c"><input type="checkbox" id="c-36466086" checked=""/><div class="controls bullet"><span class="by">lewo</span><span>|</span><a href="#36467770">prev</a><span>|</span><a href="#36468550">next</a><span>|</span><label class="collapse" for="c-36466086">[-]</label><label class="expand" for="c-36466086">[6 more]</label></div><br/><div class="children"><div class="content">The main issue is to use configuration files residing somewhere in the filesystem. This looks like a global variable in a codebase (something we generally try to avoid).
Instead, the configuration file should be explicitly provided as a command line argument. Systemd sandboxing can also be useful to ensure the program only uses the expected set of files.<p>For instance, on my NixOS machine, the Nginx configuration is not in `&#x2F;etc&#x2F;nginx` but explicitly provided and can then be known with ps:<p>$ ps aux | grep nginx<p>nginx: master process &#x2F;nix&#x2F;store&#x2F;9iiqv6c3q8zlsqfp75vd2r7f1grwbxh7-nginx-1.24.0&#x2F;bin&#x2F;nginx -c &#x2F;nix&#x2F;store&#x2F;9ffljwl3nlw4rkzbyhhirycb9hjv89lr-nginx.conf</div><br/><div id="36466977" class="c"><input type="checkbox" id="c-36466977" checked=""/><div class="controls bullet"><span class="by">Karellen</span><span>|</span><a href="#36466086">parent</a><span>|</span><a href="#36466343">next</a><span>|</span><label class="collapse" for="c-36466977">[-]</label><label class="expand" for="c-36466977">[1 more]</label></div><br/><div class="children"><div class="content">&gt; This looks like a global variable in a codebase (something we generally try to avoid).<p>Aren&#x27;t they more like global <i>constants</i> than variables? Loaded at startup, and never change during that run of the program. (With the exception of only explicitly being re-read on SIGUSR1 for daemon-like programs.)<p>And global consts, or #defines, or whatever, are things we generally don&#x27;t try to avoid?</div><br/></div></div><div id="36466343" class="c"><input type="checkbox" id="c-36466343" checked=""/><div class="controls bullet"><span class="by">ris58h</span><span>|</span><a href="#36466086">parent</a><span>|</span><a href="#36466977">prev</a><span>|</span><a href="#36466477">next</a><span>|</span><label class="collapse" for="c-36466343">[-]</label><label class="expand" for="c-36466343">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not a bad idea but it&#x27;s not applicable  to every piece of software. I don&#x27;t think that passing a config file for every git command would be convenient.</div><br/><div id="36466483" class="c"><input type="checkbox" id="c-36466483" checked=""/><div class="controls bullet"><span class="by">viraptor</span><span>|</span><a href="#36466086">root</a><span>|</span><a href="#36466343">parent</a><span>|</span><a href="#36466477">next</a><span>|</span><label class="collapse" for="c-36466483">[-]</label><label class="expand" for="c-36466483">[1 more]</label></div><br/><div class="children"><div class="content">You can change the commandline string at runtime. You could inject a fake &quot;-c correct&#x2F;path&quot; even if it&#x27;s not there. (That&#x27;s useful for other things too, like injecting the git revision of the app into the commandline)</div><br/></div></div></div></div><div id="36466477" class="c"><input type="checkbox" id="c-36466477" checked=""/><div class="controls bullet"><span class="by">jamann</span><span>|</span><a href="#36466086">parent</a><span>|</span><a href="#36466343">prev</a><span>|</span><a href="#36468550">next</a><span>|</span><label class="collapse" for="c-36466477">[-]</label><label class="expand" for="c-36466477">[2 more]</label></div><br/><div class="children"><div class="content">How long does it take you to type out that path?</div><br/><div id="36466634" class="c"><input type="checkbox" id="c-36466634" checked=""/><div class="controls bullet"><span class="by">em-bee</span><span>|</span><a href="#36466086">root</a><span>|</span><a href="#36466477">parent</a><span>|</span><a href="#36468550">next</a><span>|</span><label class="collapse" for="c-36466634">[-]</label><label class="expand" for="c-36466634">[1 more]</label></div><br/><div class="children"><div class="content">&#x2F;nix&#x2F;store&#x2F;9ii&lt;tab&gt;nginx.conf</div><br/></div></div></div></div></div></div><div id="36468550" class="c"><input type="checkbox" id="c-36468550" checked=""/><div class="controls bullet"><span class="by">jdwyah</span><span>|</span><a href="#36466086">prev</a><span>|</span><a href="#36467548">next</a><span>|</span><label class="collapse" for="c-36468550">[-]</label><label class="expand" for="c-36468550">[2 more]</label></div><br/><div class="children"><div class="content">Strong agreement. I&#x27;m building a tool for dynamic configuration and that makes this doubly fun, because now the configuration can come from a remote, live updating source as well.<p>In Prefab, the source can be a default file, env specific defaults, live values, or machine specific overrides when doing local development.<p>Right now I&#x27;ve landed on printing out the name, value &amp; source type and path on boot. It looks like <a href="https:&#x2F;&#x2F;gist.github.com&#x2F;jdwyah&#x2F;5ca4b0eacdc04414540af0761b8a0a14" rel="nofollow noreferrer">https:&#x2F;&#x2F;gist.github.com&#x2F;jdwyah&#x2F;5ca4b0eacdc04414540af0761b8a0...</a><p>I think it&#x27;s allright, but I&#x27;m still thinking about how to make it better. More details in:
<a href="https:&#x2F;&#x2F;docs.prefab.cloud&#x2F;docs&#x2F;explanations&#x2F;bootstrapping" rel="nofollow noreferrer">https:&#x2F;&#x2F;docs.prefab.cloud&#x2F;docs&#x2F;explanations&#x2F;bootstrapping</a></div><br/><div id="36468597" class="c"><input type="checkbox" id="c-36468597" checked=""/><div class="controls bullet"><span class="by">jdwyah</span><span>|</span><a href="#36468550">parent</a><span>|</span><a href="#36467548">next</a><span>|</span><label class="collapse" for="c-36468597">[-]</label><label class="expand" for="c-36468597">[1 more]</label></div><br/><div class="children"><div class="content">And if you are interested in making all of your configuration typesafe, please get in touch. I have things I want to show you.</div><br/></div></div></div></div><div id="36467548" class="c"><input type="checkbox" id="c-36467548" checked=""/><div class="controls bullet"><span class="by">Aissen</span><span>|</span><a href="#36468550">prev</a><span>|</span><a href="#36475764">next</a><span>|</span><label class="collapse" for="c-36467548">[-]</label><label class="expand" for="c-36467548">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s one thing I like about &quot;systemctl cat &lt;service&#x2F;unit name&gt;&quot;: it shows both the content and the path of the config file.</div><br/></div></div><div id="36475764" class="c"><input type="checkbox" id="c-36475764" checked=""/><div class="controls bullet"><span class="by">ayakang31415</span><span>|</span><a href="#36467548">prev</a><span>|</span><a href="#36468787">next</a><span>|</span><label class="collapse" for="c-36475764">[-]</label><label class="expand" for="c-36475764">[1 more]</label></div><br/><div class="children"><div class="content">I am curious, as UNIX user, why there is no global configuration directory in home path where all the configuration files are stored. I hate that my home directory is cluttered with lots of .file and .dir.</div><br/></div></div><div id="36468787" class="c"><input type="checkbox" id="c-36468787" checked=""/><div class="controls bullet"><span class="by">the__alchemist</span><span>|</span><a href="#36475764">prev</a><span>|</span><a href="#36466493">next</a><span>|</span><label class="collapse" for="c-36468787">[-]</label><label class="expand" for="c-36468787">[3 more]</label></div><br/><div class="children"><div class="content">This article (And most notably its title) uses a narrow view of <i>programs</i>, how they&#x27;re interacted with, and storage models. Should your car&#x27;s ECUs do this? Your washing machine? A GUI program? What should they output if storage is the last page of flash memory? What if it uses 2 pages? If it&#x27;s offboard, should it report the device ID? If it&#x27;s a GUI, should it have a button that displays this? Would an import&#x2F;export feature meet the intent?</div><br/><div id="36469840" class="c"><input type="checkbox" id="c-36469840" checked=""/><div class="controls bullet"><span class="by">cafeinux</span><span>|</span><a href="#36468787">parent</a><span>|</span><a href="#36466493">next</a><span>|</span><label class="collapse" for="c-36469840">[-]</label><label class="expand" for="c-36469840">[2 more]</label></div><br/><div class="children"><div class="content">I find the author&#x27;s intent and meaning to be rather straightforward to understand: he&#x27;s a Unix sysadmin, so I think it&#x27;s understandable that he&#x27;s speaking about programs executed on a Unix-like system that a sysadmin is likely to administrate.<p>So no, nor a washing machine nor a car ECU is expected to do this (not until sysadmins are paid to administrate them at least).
As for technicians that might need to configure one someday, those people are usually expected to already know where to look, or at least to be able to read their documentation correctly. And anyway, car ECUs and washing machine usually provide a UI for configuration and don&#x27;t rely on config files as a primary mode of configuration.<p>As for GUI programs, if they use a human readable config file under the hood, or if they accept a config file as input (some let the user change some simple settings through their UI but uses a config file to change more advanced settings), yes they should have a way to show where it is (either through a command, or through the settings UI for example).<p>I don&#x27;t really know what you are talking about with the pages of a flash memory... Since in Unix, everything is a file, it will be read through a file anyway, not directly through pages. Same thing for offboard: just display the path to the file, wherever it might physically be. And if you really are in the most rare and hypothetical scenario where your program reads its config directly from the pages of a flash memory, just have it display &quot;The config is read from the last [two] page[s] of &lt;this flash memory&gt; when invoqued with --help.</div><br/><div id="36470290" class="c"><input type="checkbox" id="c-36470290" checked=""/><div class="controls bullet"><span class="by">the__alchemist</span><span>|</span><a href="#36468787">root</a><span>|</span><a href="#36469840">parent</a><span>|</span><a href="#36466493">next</a><span>|</span><label class="collapse" for="c-36470290">[-]</label><label class="expand" for="c-36470290">[1 more]</label></div><br/><div class="children"><div class="content">The article makes sense in this context, and after a reread, the hint is identification of background in the first sentence. I misunderstood due to the title of &quot;Everything that uses configuration files should report where they&#x27;re located&quot;,and lines &quot;if a program uses a configuration file (or several), it should have an obvious command line way to find out where it expects to find that configuration file.&quot;, and use of &quot;program&quot; in general.<p>Specifically, &quot;program&quot; in this case refers to &quot;CLI program that runs on Linux, used by the IT field&quot;.</div><br/></div></div></div></div></div></div><div id="36466493" class="c"><input type="checkbox" id="c-36466493" checked=""/><div class="controls bullet"><span class="by">YourDadVPN</span><span>|</span><a href="#36468787">prev</a><span>|</span><a href="#36476113">next</a><span>|</span><label class="collapse" for="c-36466493">[-]</label><label class="expand" for="c-36466493">[5 more]</label></div><br/><div class="children"><div class="content">I think the best way to achieve this is by providing an OS API that results in the files always being created in the same place. Applications&#x2F;libraries could still choose their own filenames and syntax, just the location would be OS controlled. I think there is room for a new desktop&#x2F;laptop OS to emerge and one good idea from mobile OS design I would like to see is having everything be an API call that allows the OS to impose standardisation, permissions and user preferences rather than the free-for-all desktop OSes have (though I propose letting the user run non-compliant applications, and not porting the iOS app store only model into the OS).</div><br/><div id="36466615" class="c"><input type="checkbox" id="c-36466615" checked=""/><div class="controls bullet"><span class="by">AeroNotix</span><span>|</span><a href="#36466493">parent</a><span>|</span><a href="#36476113">next</a><span>|</span><label class="collapse" for="c-36466615">[-]</label><label class="expand" for="c-36466615">[4 more]</label></div><br/><div class="children"><div class="content">You&#x27;re basically suggesting the windows registry.</div><br/><div id="36467197" class="c"><input type="checkbox" id="c-36467197" checked=""/><div class="controls bullet"><span class="by">aeonik</span><span>|</span><a href="#36466493">root</a><span>|</span><a href="#36466615">parent</a><span>|</span><a href="#36466746">next</a><span>|</span><label class="collapse" for="c-36467197">[-]</label><label class="expand" for="c-36467197">[2 more]</label></div><br/><div class="children"><div class="content">The problem with the Windows registry, at least back in the day, was that it was a single file that could be corrupted and it would wreck your whole system.<p>I think having a standard utility API for *nix configs makes a lot of sense. I&#x27;m surprised it doesn&#x27;t exist.<p>I tried to find one, and there are some libraries for reading and parsing in every language, but nothing that seems to cover everything.<p>This bash script seems to be a fairly &quot;built in&quot; way to parse them: <a href="https:&#x2F;&#x2F;unix.stackexchange.com&#x2F;questions&#x2F;441076&#x2F;which-is-the-standard-configuration-parser-library-used-in-linux" rel="nofollow noreferrer">https:&#x2F;&#x2F;unix.stackexchange.com&#x2F;questions&#x2F;441076&#x2F;which-is-the...</a></div><br/><div id="36468384" class="c"><input type="checkbox" id="c-36468384" checked=""/><div class="controls bullet"><span class="by">feldrim</span><span>|</span><a href="#36466493">root</a><span>|</span><a href="#36467197">parent</a><span>|</span><a href="#36466746">next</a><span>|</span><label class="collapse" for="c-36468384">[-]</label><label class="expand" for="c-36468384">[1 more]</label></div><br/><div class="children"><div class="content">&gt; The problem with the Windows registry, at least back in the day, was that it was a single file that could be corrupted and it would wreck your whole system.<p>Exactly. But Registry has been using NTFS and it&#x27;s capabilities for rollbacks and recovery. Therefore, the problem is mostly solved. There are occasions [0] of bugs causing corruptions though but they are very rare.<p>0. <a href="https:&#x2F;&#x2F;www.bleepingcomputer.com&#x2F;news&#x2F;microsoft&#x2F;windows-10-ntfs-corruption-bug-gets-unofficial-temporary-fix&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.bleepingcomputer.com&#x2F;news&#x2F;microsoft&#x2F;windows-10-n...</a></div><br/></div></div></div></div><div id="36466746" class="c"><input type="checkbox" id="c-36466746" checked=""/><div class="controls bullet"><span class="by">angulardragon03</span><span>|</span><a href="#36466493">root</a><span>|</span><a href="#36466615">parent</a><span>|</span><a href="#36467197">prev</a><span>|</span><a href="#36476113">next</a><span>|</span><label class="collapse" for="c-36466746">[-]</label><label class="expand" for="c-36466746">[1 more]</label></div><br/><div class="children"><div class="content">macOS has something similar also with defaults [1].<p><a href="https:&#x2F;&#x2F;macos-defaults.com&#x2F;#%F0%9F%99%8B-what-s-a-defaults-command" rel="nofollow noreferrer">https:&#x2F;&#x2F;macos-defaults.com&#x2F;#%F0%9F%99%8B-what-s-a-defaults-c...</a></div><br/></div></div></div></div></div></div><div id="36476113" class="c"><input type="checkbox" id="c-36476113" checked=""/><div class="controls bullet"><span class="by">avereveard</span><span>|</span><a href="#36466493">prev</a><span>|</span><a href="#36472208">next</a><span>|</span><label class="collapse" for="c-36476113">[-]</label><label class="expand" for="c-36476113">[1 more]</label></div><br/><div class="children"><div class="content">Amen, plus all the folders in the search path, so sweet know where to properly override defaults.</div><br/></div></div><div id="36472208" class="c"><input type="checkbox" id="c-36472208" checked=""/><div class="controls bullet"><span class="by">dmckeon</span><span>|</span><a href="#36476113">prev</a><span>|</span><a href="#36470988">next</a><span>|</span><label class="collapse" for="c-36472208">[-]</label><label class="expand" for="c-36472208">[1 more]</label></div><br/><div class="children"><div class="content">Programs that use configuration files should provide ways to:<p><pre><code>    show which sources of config data were used: files, CLI, env vars, etc.
        with --verbose, also show which potential sources were not used

    show any conflicts or overrides from config sources

    show config settings differing from program defaults
        in the same format as their source, or 
        in an appropriate format for a config file
</code></pre>
For the last item, it should be possible to capture the output showing
non-default settings and append it to a config file, without any editing
or processing, to reproduce the program configuration state exactly.</div><br/></div></div><div id="36470988" class="c"><input type="checkbox" id="c-36470988" checked=""/><div class="controls bullet"><span class="by">parentheses</span><span>|</span><a href="#36472208">prev</a><span>|</span><a href="#36471839">next</a><span>|</span><label class="collapse" for="c-36470988">[-]</label><label class="expand" for="c-36470988">[1 more]</label></div><br/><div class="children"><div class="content">This is a great idea. I feel that the best total situation is 2 things:<p>1. A way to print the paths to all files visible that will be read for configuration. This means that if the user config file means the system config file is ignored, print only the user config file path. Alternatively print that the system file will not be read but show its path anyways. There&#x27;s many ways to solve this and it depends on the way the app loads configs.<p>2. A way to print the final configuration after it&#x27;s been loaded and validated. This should show what settings override others. For example if the user misunderstands the config merging or erroneously quotes a numeric value causing validation to fail, this would be a great way to triangulate that.<p>I&#x27;ve seen quite a few apps implement #2 but rarely do they have #1.</div><br/></div></div><div id="36471839" class="c"><input type="checkbox" id="c-36471839" checked=""/><div class="controls bullet"><span class="by">jmholla</span><span>|</span><a href="#36470988">prev</a><span>|</span><label class="collapse" for="c-36471839">[-]</label><label class="expand" for="c-36471839">[1 more]</label></div><br/><div class="children"><div class="content">This also applies to code generation. At my first job out of college, it was difficult to piece together where a particular bit auto-created code came from. At my second job, I pushed everyone to ensure that code generated files pointed to their sources (configuration files and generating code). Ultimately, one of our engineers designed it into our codegen framework so well, it basically came for free for our developers. And boy was it so nice to not wonder where the knobs were that changed your output.<p>On a side note, we also checked in the codegened files and that was great for other reasons like reviewability and searchability.</div><br/></div></div></div></div></div></div></div></body></html>