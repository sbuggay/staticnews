<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1693299664915" as="style"/><link rel="stylesheet" href="styles.css?v=1693299664915"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://xeiaso.net/talks/unix-philosophy-logical-extreme-wasm">Reaching the Unix philosophy&#x27;s logical extreme with WebAssembly</a> <span class="domain">(<a href="https://xeiaso.net">xeiaso.net</a>)</span></div><div class="subtext"><span>xena</span> | <span>118 comments</span></div><br/><div><div id="37302686" class="c"><input type="checkbox" id="c-37302686" checked=""/><div class="controls bullet"><span class="by">p1mrx</span><span>|</span><a href="#37304608">next</a><span>|</span><label class="collapse" for="c-37302686">[-]</label><label class="expand" for="c-37302686">[7 more]</label></div><br/><div class="children"><div class="content">Reminds me of that time I wrote a StringToExecutableFile() function for running [e.g. a Rust binary] from C++, but that depended on several layers of build system horror to embed the executable file as a string, and it wasn&#x27;t cross-platform.<p>Imagine a utility function that dumps an embedded string to an unlinked temporary file, sets the +x permission, and returns a &#x2F;proc&#x2F;self&#x2F;fd&#x2F;N filename so you can exec() a subprocess.  It&#x27;s somewhat difficult because of write^execute limitations in Linux.<p>Running WASM in process seems like a much saner idea.</div><br/><div id="37303080" class="c"><input type="checkbox" id="c-37303080" checked=""/><div class="controls bullet"><span class="by">paulfurtado</span><span>|</span><a href="#37302686">parent</a><span>|</span><a href="#37304636">next</a><span>|</span><label class="collapse" for="c-37303080">[-]</label><label class="expand" for="c-37303080">[5 more]</label></div><br/><div class="children"><div class="content">This is of course not the purpose of your post, but since you&#x27;re interested in this topic, I wanted to mention that you can now create memory-backed files on linux using the memfd_create syscall without using any filesystem (nor unlink)  and you can also execute them without the &#x2F;proc&#x2F;self&#x2F;fd trick by using the execveat syscall. In glibc, there is fexecve which uses execveat or falls back to the &#x2F;proc trick on older kernels.</div><br/><div id="37303633" class="c"><input type="checkbox" id="c-37303633" checked=""/><div class="controls bullet"><span class="by">p1mrx</span><span>|</span><a href="#37302686">root</a><span>|</span><a href="#37303080">parent</a><span>|</span><a href="#37304636">next</a><span>|</span><label class="collapse" for="c-37303633">[-]</label><label class="expand" for="c-37303633">[4 more]</label></div><br/><div class="children"><div class="content">Looks like memfd_create is from Linux 3.17 (2014), which was after I wrote the function.  I sort of miss the days when simple stuff was hard.</div><br/><div id="37304114" class="c"><input type="checkbox" id="c-37304114" checked=""/><div class="controls bullet"><span class="by">tester756</span><span>|</span><a href="#37302686">root</a><span>|</span><a href="#37303633">parent</a><span>|</span><a href="#37304636">next</a><span>|</span><label class="collapse" for="c-37304114">[-]</label><label class="expand" for="c-37304114">[3 more]</label></div><br/><div class="children"><div class="content">&gt;I sort of miss the days when simple stuff was hard.<p>what? what&#x27;s the point?<p>for me it&#x27;s the most annoying thing when the simple stuff is hard because why would it be?</div><br/><div id="37304574" class="c"><input type="checkbox" id="c-37304574" checked=""/><div class="controls bullet"><span class="by">IshKebab</span><span>|</span><a href="#37302686">root</a><span>|</span><a href="#37304114">parent</a><span>|</span><a href="#37304187">next</a><span>|</span><label class="collapse" for="c-37304574">[-]</label><label class="expand" for="c-37304574">[1 more]</label></div><br/><div class="children"><div class="content">I agree. I was looking into how you start a child process in C++ recently and I was surprised and not at all surprised to find that the answer is <i>still</i> fork and execve. Ridiculous.</div><br/></div></div><div id="37304187" class="c"><input type="checkbox" id="c-37304187" checked=""/><div class="controls bullet"><span class="by">bheadmaster</span><span>|</span><a href="#37302686">root</a><span>|</span><a href="#37304114">parent</a><span>|</span><a href="#37304574">prev</a><span>|</span><a href="#37304636">next</a><span>|</span><label class="collapse" for="c-37304187">[-]</label><label class="expand" for="c-37304187">[1 more]</label></div><br/><div class="children"><div class="content">Hacking is the art doing things with software that don&#x27;t seem possible.<p>In other words, it&#x27;s just fun :)</div><br/></div></div></div></div></div></div></div></div></div></div><div id="37304608" class="c"><input type="checkbox" id="c-37304608" checked=""/><div class="controls bullet"><span class="by">ngc6677</span><span>|</span><a href="#37302686">prev</a><span>|</span><a href="#37302433">next</a><span>|</span><label class="collapse" for="c-37304608">[-]</label><label class="expand" for="c-37304608">[2 more]</label></div><br/><div class="children"><div class="content">In this paradigm, the browser&#x27;s URL Omnibox can also be used as CLI&#x2F;repel&#x2F;input. So each &quot;URL or search&quot; to a browser, can open an app that accepts commands and inputs, and allows outputs, through the interfaces, or back to URLSearchParams (which could then be piped again). Maybe related (diclaimer: working on it), <a href="https:&#x2F;&#x2F;github.com&#x2F;internet4000&#x2F;find">https:&#x2F;&#x2F;github.com&#x2F;internet4000&#x2F;find</a> ; can be used with &quot;local first web apps&quot;, and all the web &quot;apps&quot; which accept input from the URLSearchParams.
Great talk!!</div><br/><div id="37304827" class="c"><input type="checkbox" id="c-37304827" checked=""/><div class="controls bullet"><span class="by">bmacho</span><span>|</span><a href="#37304608">parent</a><span>|</span><a href="#37302433">next</a><span>|</span><label class="collapse" for="c-37304827">[-]</label><label class="expand" for="c-37304827">[1 more]</label></div><br/><div class="children"><div class="content">When I search on <a href="https:&#x2F;&#x2F;internet4000.github.io&#x2F;find" rel="nofollow noreferrer">https:&#x2F;&#x2F;internet4000.github.io&#x2F;find</a> the history disappears (Edge, Firefox). I don&#x27;t know how did you do that, I can&#x27;t imagine why on the Earth would you do that, but I suggest to remove that code. Even trying out the search is a total PITA, you can only search once, then you can&#x27;t go back and try out a different search term</div><br/></div></div></div></div><div id="37302433" class="c"><input type="checkbox" id="c-37302433" checked=""/><div class="controls bullet"><span class="by">fallat</span><span>|</span><a href="#37304608">prev</a><span>|</span><a href="#37304290">next</a><span>|</span><label class="collapse" for="c-37302433">[-]</label><label class="expand" for="c-37302433">[16 more]</label></div><br/><div class="children"><div class="content">Neat talk but like... doesn&#x27;t it all seem convoluted? What is the function of a Rube Goldberg web service? To allow it be made of anything?<p>The problem with using Rust in Go is that you entirely miss all the parts you don&#x27;t use Rust; you get the VM overhead of WASM so it kills Rust perf; you most likely introduce problems at the boundaries of Rust&#x2F;Go.<p>Again it&#x27;s a neat idea but why in all things sane would anyone intentionally do this outside of puzzle-solving satisfaction?</div><br/><div id="37302652" class="c"><input type="checkbox" id="c-37302652" checked=""/><div class="controls bullet"><span class="by">xena</span><span>|</span><a href="#37302433">parent</a><span>|</span><a href="#37302735">next</a><span>|</span><label class="collapse" for="c-37302652">[-]</label><label class="expand" for="c-37302652">[2 more]</label></div><br/><div class="children"><div class="content">Author of the talk here. When I am doing conference talks to help explain abstract concepts or ideas, I typically prefer to employ a strategy called surrealist satire. This basically helps people understand where something fits into the stack by demonstrating how something fits into the mold and then by doing another completely impractical thing with that surrealist solution. The goal of this is to help people hook something into a greater set of context (due to the assumptions I made about the audience, I had to explain a bit more about the topic than I would have otherwise at say a WebAssembly conference) so that they can figure out how things that seem unrelated are actually quite related.<p>In terms of performance numbers though, I have quite intentionally NOT included performance benchmarks in this talk because getting stable performance information is nontrivial. I plan to write something in the future about WebAssembly vs native code as a subprocess (the differences with windows may surprise you!), but that is not a thing for today.</div><br/><div id="37302692" class="c"><input type="checkbox" id="c-37302692" checked=""/><div class="controls bullet"><span class="by">fallat</span><span>|</span><a href="#37302433">root</a><span>|</span><a href="#37302652">parent</a><span>|</span><a href="#37302735">next</a><span>|</span><label class="collapse" for="c-37302692">[-]</label><label class="expand" for="c-37302692">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I typically prefer to employ a strategy called surrealist satire<p>Ah, gotchya.</div><br/></div></div></div></div><div id="37302735" class="c"><input type="checkbox" id="c-37302735" checked=""/><div class="controls bullet"><span class="by">tedunangst</span><span>|</span><a href="#37302433">parent</a><span>|</span><a href="#37302652">prev</a><span>|</span><a href="#37302481">next</a><span>|</span><label class="collapse" for="c-37302735">[-]</label><label class="expand" for="c-37302735">[5 more]</label></div><br/><div class="children"><div class="content">The current reference (only?) implementation of jpeg-xl is a c++ library, which I do not entirely trust to run in process in my go web server, and yet I would like to process images. Conveniently, the build system for jpeg-xl seems to support building to wasm, so if I can jam that into my process, I&#x27;d be a lot happier.</div><br/><div id="37302791" class="c"><input type="checkbox" id="c-37302791" checked=""/><div class="controls bullet"><span class="by">fallat</span><span>|</span><a href="#37302433">root</a><span>|</span><a href="#37302735">parent</a><span>|</span><a href="#37302481">next</a><span>|</span><label class="collapse" for="c-37302791">[-]</label><label class="expand" for="c-37302791">[4 more]</label></div><br/><div class="children"><div class="content">Ah, now THAT&#x27;s an interesting aspect I wish someone would have brought up over the years I&#x27;ve seen WASM.<p>I guess WASM as a target and embeddable VM really helps with security in those cases. Couldn&#x27;t we also do the same though with any number of arch&#x2F;vm pairings?<p>I guess what WASM brings to the table is a compile target friendly enough for things like C and C++, i.e. low level code, and a reasonable VM implementation. It just has to be accepted by everything (both as an output format, and virtual machine impl in the language choice) to work, I think...<p>Edit: Like why arent we using <a href="https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;4221605&#x2F;compiling-c-for-the-jvm" rel="nofollow noreferrer">https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;4221605&#x2F;compiling-c-for-...</a></div><br/><div id="37303234" class="c"><input type="checkbox" id="c-37303234" checked=""/><div class="controls bullet"><span class="by">aidenn0</span><span>|</span><a href="#37302433">root</a><span>|</span><a href="#37302791">parent</a><span>|</span><a href="#37304163">next</a><span>|</span><label class="collapse" for="c-37303234">[-]</label><label class="expand" for="c-37303234">[2 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t know the current state, but the JVM had historically quite bad isolation.  Javascript&#x27;s isolation in browsers is actually pretty good.  It&#x27;s possible that the existing non-browser WASI implementations are terrible at isolation; since they exist specifically <i>to</i> allow access system resources they might be bad at denying access to system resources...</div><br/><div id="37304202" class="c"><input type="checkbox" id="c-37304202" checked=""/><div class="controls bullet"><span class="by">kaba0</span><span>|</span><a href="#37302433">root</a><span>|</span><a href="#37303234">parent</a><span>|</span><a href="#37304163">next</a><span>|</span><label class="collapse" for="c-37304202">[-]</label><label class="expand" for="c-37304202">[1 more]</label></div><br/><div class="children"><div class="content">The JVM’s security in the Applet days were bad due to actually being capable at many functionality — it is trivial to properly sandbox something that has zero capabilities.<p>There is nothing inherent in the JVM that would make it less secure, we just realized in the meanwhile that blacklisting is not the way ahead, but whitelisting is.</div><br/></div></div></div></div><div id="37304163" class="c"><input type="checkbox" id="c-37304163" checked=""/><div class="controls bullet"><span class="by">IshKebab</span><span>|</span><a href="#37302433">root</a><span>|</span><a href="#37302791">parent</a><span>|</span><a href="#37303234">prev</a><span>|</span><a href="#37302481">next</a><span>|</span><label class="collapse" for="c-37304163">[-]</label><label class="expand" for="c-37304163">[1 more]</label></div><br/><div class="children"><div class="content">Library sandboxing is a well known application of WASM. Search for the WebAssembly Component Model. There&#x27;s also a way to use WASM to sandbox a C library - search for RLBox.</div><br/></div></div></div></div></div></div><div id="37302481" class="c"><input type="checkbox" id="c-37302481" checked=""/><div class="controls bullet"><span class="by">nine_k</span><span>|</span><a href="#37302433">parent</a><span>|</span><a href="#37302735">prev</a><span>|</span><a href="#37302550">next</a><span>|</span><label class="collapse" for="c-37302481">[-]</label><label class="expand" for="c-37302481">[6 more]</label></div><br/><div class="children"><div class="content">This looks more than a bit like the Inferno OS, created by some of the same folks who created Unix.<p>WASM allows to distribute cross-platform binary code written in memory-safe Rust, running on pretty compact VM. Think about a plugin architecture that could be built on top of that.</div><br/><div id="37302746" class="c"><input type="checkbox" id="c-37302746" checked=""/><div class="controls bullet"><span class="by">fallat</span><span>|</span><a href="#37302433">root</a><span>|</span><a href="#37302481">parent</a><span>|</span><a href="#37302550">next</a><span>|</span><label class="collapse" for="c-37302746">[-]</label><label class="expand" for="c-37302746">[5 more]</label></div><br/><div class="children"><div class="content">Java (like mentioned in the article) does the same though<p>IIRC Inferno OS is like Java in this regard.<p>How will WASM change what Java has already done?<p>Why would I compile Rust to WASM when I can compile Rust natively to any number of platforms? And use FFI?<p>I think WASM, while nice, doesn&#x27;t bring much new to the table. It&#x27;s been hyped for years, and I still only see it used here and there very sparingly.</div><br/><div id="37303727" class="c"><input type="checkbox" id="c-37303727" checked=""/><div class="controls bullet"><span class="by">nine_k</span><span>|</span><a href="#37302433">root</a><span>|</span><a href="#37302746">parent</a><span>|</span><a href="#37302550">next</a><span>|</span><label class="collapse" for="c-37303727">[-]</label><label class="expand" for="c-37303727">[4 more]</label></div><br/><div class="children"><div class="content">This is how.<p>The installed size of OpenJDK 17 JRE on my machine is 186MB, according to the package manager.<p>I <i>suspect</i> that the WASM VM embedded in the program demonstrated in the blog post is 1.5 to 2 orders of magnitude smaller.</div><br/><div id="37303979" class="c"><input type="checkbox" id="c-37303979" checked=""/><div class="controls bullet"><span class="by">geokon</span><span>|</span><a href="#37302433">root</a><span>|</span><a href="#37303727">parent</a><span>|</span><a href="#37304263">next</a><span>|</span><label class="collapse" for="c-37303979">[-]</label><label class="expand" for="c-37303979">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m no expert but the JVM is very modular these days and just the minimal modules also give you an order or two smaller runtimes. My guess is a set of minimal OpenJDK modules will be on the same order as a WASM VM. Would be curious to hear from someone more in the know<p>Looking a the JRE size is a bit misleading bc it&#x27;s been sort of deprecated. You&#x27;re not really supposed to make Uberjars to run on a JRE anymore but are expected to bundle with the JVM modules you need. It can make very small bundles..<p>But naturally an Uberjars would be smaller. I think small executables are possible but are also just a nongoal now in the JVM world. Meanwhile they&#x27;re obviously still very relevant in the webspace and hence WASM<p>you&#x27;re not really gunna send JVM bundles dynamically over the wire.<p>I do sort of agree with the parent that while the goals are slightly different it feels like WASM reinvented the JVM without really bringing any huge improvement (while you loose several decades of libraries)</div><br/></div></div><div id="37304263" class="c"><input type="checkbox" id="c-37304263" checked=""/><div class="controls bullet"><span class="by">brabel</span><span>|</span><a href="#37302433">root</a><span>|</span><a href="#37303727">parent</a><span>|</span><a href="#37303979">prev</a><span>|</span><a href="#37304217">next</a><span>|</span><label class="collapse" for="c-37304263">[-]</label><label class="expand" for="c-37304263">[1 more]</label></div><br/><div class="children"><div class="content">There are many JDKs available, some of which specializing in embedded, like this one: <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;JamaicaVM" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;JamaicaVM</a></div><br/></div></div><div id="37304217" class="c"><input type="checkbox" id="c-37304217" checked=""/><div class="controls bullet"><span class="by">kaba0</span><span>|</span><a href="#37302433">root</a><span>|</span><a href="#37303727">parent</a><span>|</span><a href="#37304263">prev</a><span>|</span><a href="#37302550">next</a><span>|</span><label class="collapse" for="c-37304217">[-]</label><label class="expand" for="c-37304217">[1 more]</label></div><br/><div class="children"><div class="content">There is no such thing as a JRE anymore, the way to package a Java application for quite some time now is by using jlink&#x2F;jpackage that creates a stripped “JRE” of only the used modules helping both the size and loading times.</div><br/></div></div></div></div></div></div></div></div><div id="37302550" class="c"><input type="checkbox" id="c-37302550" checked=""/><div class="controls bullet"><span class="by">some_furry</span><span>|</span><a href="#37302433">parent</a><span>|</span><a href="#37302481">prev</a><span>|</span><a href="#37304290">next</a><span>|</span><label class="collapse" for="c-37302550">[-]</label><label class="expand" for="c-37302550">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Neat talk but like... doesn&#x27;t it all seem convoluted? What is the function of a Rube Goldberg web service? To allow it be made of anything?<p>I don&#x27;t want to be the guy who explains the joke, but sometimes Xe creates <i>elaborate shitposts</i> that aren&#x27;t entirely shitposts but contain a very fun element to them rather than being for fully practical sake. <i>Shitposting</i> being an anagram for <i>top insights</i> after all.<p>That&#x27;s the lens I used when interpretating this talk.</div><br/><div id="37302697" class="c"><input type="checkbox" id="c-37302697" checked=""/><div class="controls bullet"><span class="by">fallat</span><span>|</span><a href="#37302433">root</a><span>|</span><a href="#37302550">parent</a><span>|</span><a href="#37304290">next</a><span>|</span><label class="collapse" for="c-37302697">[-]</label><label class="expand" for="c-37302697">[1 more]</label></div><br/><div class="children"><div class="content">Roger that o7</div><br/></div></div></div></div></div></div><div id="37304290" class="c"><input type="checkbox" id="c-37304290" checked=""/><div class="controls bullet"><span class="by">baudaux</span><span>|</span><a href="#37302433">prev</a><span>|</span><a href="#37285208">next</a><span>|</span><label class="collapse" for="c-37304290">[-]</label><label class="expand" for="c-37304290">[3 more]</label></div><br/><div class="children"><div class="content">The new OS I am creating <a href="https:&#x2F;&#x2F;www.exaequos.com" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.exaequos.com</a> is WebAssembly in a POSIX environment. So it is running in every web browser</div><br/><div id="37304909" class="c"><input type="checkbox" id="c-37304909" checked=""/><div class="controls bullet"><span class="by">rapnie</span><span>|</span><a href="#37304290">parent</a><span>|</span><a href="#37304653">next</a><span>|</span><label class="collapse" for="c-37304909">[-]</label><label class="expand" for="c-37304909">[1 more]</label></div><br/><div class="children"><div class="content">Oof. My Firefox browser on Ubuntu crashed and all my open VSCodium&#x27;s went along with it. Happened when loading for a second time. First time worked.</div><br/></div></div><div id="37304653" class="c"><input type="checkbox" id="c-37304653" checked=""/><div class="controls bullet"><span class="by">ngc6677</span><span>|</span><a href="#37304290">parent</a><span>|</span><a href="#37304909">prev</a><span>|</span><a href="#37285208">next</a><span>|</span><label class="collapse" for="c-37304653">[-]</label><label class="expand" for="c-37304653">[1 more]</label></div><br/><div class="children"><div class="content">fun project! always love to see more unix cli in the browser.<p>It is super nice with the local first approach, and I wonder what it would take to be able to `mount <a href="https:&#x2F;&#x2F;example.org" rel="nofollow noreferrer">https:&#x2F;&#x2F;example.org</a>` from `test.com`, if both websites are running the &quot;wasm web OS&quot; your linked to.<p>Cheers!</div><br/></div></div></div></div><div id="37285208" class="c"><input type="checkbox" id="c-37285208" checked=""/><div class="controls bullet"><span class="by">beeburrt</span><span>|</span><a href="#37304290">prev</a><span>|</span><a href="#37304958">next</a><span>|</span><label class="collapse" for="c-37285208">[-]</label><label class="expand" for="c-37285208">[2 more]</label></div><br/><div class="children"><div class="content">This person is amazing. I wish I was half as smart and just as funny</div><br/><div id="37302216" class="c"><input type="checkbox" id="c-37302216" checked=""/><div class="controls bullet"><span class="by">xena</span><span>|</span><a href="#37285208">parent</a><span>|</span><a href="#37304958">next</a><span>|</span><label class="collapse" for="c-37302216">[-]</label><label class="expand" for="c-37302216">[1 more]</label></div><br/><div class="children"><div class="content">Thanks, I try!</div><br/></div></div></div></div><div id="37304958" class="c"><input type="checkbox" id="c-37304958" checked=""/><div class="controls bullet"><span class="by">petesergeant</span><span>|</span><a href="#37285208">prev</a><span>|</span><a href="#37300084">next</a><span>|</span><label class="collapse" for="c-37304958">[-]</label><label class="expand" for="c-37304958">[1 more]</label></div><br/><div class="children"><div class="content">&gt; As a little hint for anyone here, when someone openly introduces themselves as a philosopher, you should know you&#x27;re in for some fun<p>I have found quite the opposite to be true in the real world, but Xe gets a special exemption for being a consistently high-quality writer and thinker.</div><br/></div></div><div id="37300084" class="c"><input type="checkbox" id="c-37300084" checked=""/><div class="controls bullet"><span class="by">ilaksh</span><span>|</span><a href="#37304958">prev</a><span>|</span><a href="#37301864">next</a><span>|</span><label class="collapse" for="c-37300084">[-]</label><label class="expand" for="c-37300084">[17 more]</label></div><br/><div class="children"><div class="content">Wasn&#x27;t there some kind of components proposal that would let modules written in different languages running in web assembly interop with each other?<p>WASI is great but there was an opportunity to standardize on something much more powerful.<p>Anyway I think the logical extreme of Unix philosophy started with Unix, moved on to Plan 9, and continued to improve from there. It&#x27;s just that those further advancements are less popular and well known.<p>An old-fashioned file is not the logical extreme of anything. Not that it isn&#x27;t useful or interesting.<p>I stead we don&#x27;t even have a good way to do any kind of networking.</div><br/><div id="37300551" class="c"><input type="checkbox" id="c-37300551" checked=""/><div class="controls bullet"><span class="by">phickey</span><span>|</span><a href="#37300084">parent</a><span>|</span><a href="#37300355">next</a><span>|</span><label class="collapse" for="c-37300551">[-]</label><label class="expand" for="c-37300551">[11 more]</label></div><br/><div class="children"><div class="content">Wasi co-chair and Wasmtime maintainer here: we agree! Wasi Preview 1, which this article is about, was a first attempt at porting some of these Unix ideas to Wasm. We found pretty quickly that unix isn&#x27;t the right abstraction for Wasm. Not only is it not really portable to platforms like Windows without reinventing a compatibility layer like cygwin, it also doesn&#x27;t really make sense in a Web embedding, where users end up implementing something like a unix kernel in Javascript.<p>Wasi Preview 2, which we are aiming to launch by the end of the year, rebases Wasi on the Component Model proposal, which enables composition of Wasm programs, including those which are written in different languages, and which do not trust each other. Wasi is now specified in the Wit IDL, which has a strong type system for representing records, variants, lists, strings, and best of all, external resources, including sugar for constructors, methods, and destructors.<p>Instead of basing everything on the filesystem abstraction, the core Wasi primitives are the `input-stream`, `output-stream`, and `pollable` resource types, for readable and writable bytestreams, and a pseudo-future: you can `poll-oneoff` on a `list&lt;pollable&gt;` and it will block until one is ready, and return a `list&lt;bool&gt;` indicating the set which are ready. `wasi:filesystem&#x2F;types.{descriptor}` is the resource for files, but if you need to read, write, or append to a file, you can do so by calling a method on `descriptor` that returns a `input-stream` or `output-stream`.<p>Preview 2 is also adding networking: wasi-sockets for platforms which support sockets, and wasi-http for those which don&#x27;t, like the Web.<p>We are closing in on shipping Wasi Preview 2 but its not quite fully baked yet - changes related to resources are slated to land in the net few weeks. The spec definitions are on github: <a href="https:&#x2F;&#x2F;github.com&#x2F;WebAssembly&#x2F;wasi-io&#x2F;blob&#x2F;main&#x2F;wit&#x2F;streams.wit">https:&#x2F;&#x2F;github.com&#x2F;WebAssembly&#x2F;wasi-io&#x2F;blob&#x2F;main&#x2F;wit&#x2F;streams...</a>  <a href="https:&#x2F;&#x2F;github.com&#x2F;WebAssembly&#x2F;wasi-filesystem&#x2F;blob&#x2F;main&#x2F;wit&#x2F;types.wit">https:&#x2F;&#x2F;github.com&#x2F;WebAssembly&#x2F;wasi-filesystem&#x2F;blob&#x2F;main&#x2F;wit...</a> . Stay tuned for much more approachable documentation, tutorials, and so on, once we are confident it is a stable target ready for users.</div><br/><div id="37300842" class="c"><input type="checkbox" id="c-37300842" checked=""/><div class="controls bullet"><span class="by">ori_b</span><span>|</span><a href="#37300084">root</a><span>|</span><a href="#37300551">parent</a><span>|</span><a href="#37304718">next</a><span>|</span><label class="collapse" for="c-37300842">[-]</label><label class="expand" for="c-37300842">[2 more]</label></div><br/><div class="children"><div class="content">Have you looked at capabilities, like E, Mont-E and its descendants?<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Object-capability_model" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Object-capability_model</a><p><a href="https:&#x2F;&#x2F;monte.readthedocs.io&#x2F;en&#x2F;latest&#x2F;taste.html#cooperation-without-vulerability" rel="nofollow noreferrer">https:&#x2F;&#x2F;monte.readthedocs.io&#x2F;en&#x2F;latest&#x2F;taste.html#cooperatio...</a><p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;E_(programming_language)" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;E_(programming_language)</a></div><br/><div id="37300927" class="c"><input type="checkbox" id="c-37300927" checked=""/><div class="controls bullet"><span class="by">phickey</span><span>|</span><a href="#37300084">root</a><span>|</span><a href="#37300842">parent</a><span>|</span><a href="#37304718">next</a><span>|</span><label class="collapse" for="c-37300927">[-]</label><label class="expand" for="c-37300927">[1 more]</label></div><br/><div class="children"><div class="content">Yes, CM resources are unforgable references.</div><br/></div></div></div></div><div id="37304718" class="c"><input type="checkbox" id="c-37304718" checked=""/><div class="controls bullet"><span class="by">noelwelsh</span><span>|</span><a href="#37300084">root</a><span>|</span><a href="#37300551">parent</a><span>|</span><a href="#37300842">prev</a><span>|</span><a href="#37300809">next</a><span>|</span><label class="collapse" for="c-37304718">[-]</label><label class="expand" for="c-37304718">[1 more]</label></div><br/><div class="children"><div class="content">Very glad to see this. It&#x27;s a much better solution that The Unix Philosophy (TM) of sending around unstructured bytes.</div><br/></div></div><div id="37300809" class="c"><input type="checkbox" id="c-37300809" checked=""/><div class="controls bullet"><span class="by">fassssst</span><span>|</span><a href="#37300084">root</a><span>|</span><a href="#37300551">parent</a><span>|</span><a href="#37304718">prev</a><span>|</span><a href="#37303204">next</a><span>|</span><label class="collapse" for="c-37300809">[-]</label><label class="expand" for="c-37300809">[5 more]</label></div><br/><div class="children"><div class="content">Nothing like reinventing COM :)</div><br/><div id="37301108" class="c"><input type="checkbox" id="c-37301108" checked=""/><div class="controls bullet"><span class="by">mananaysiempre</span><span>|</span><a href="#37300084">root</a><span>|</span><a href="#37300809">parent</a><span>|</span><a href="#37304225">next</a><span>|</span><label class="collapse" for="c-37301108">[-]</label><label class="expand" for="c-37301108">[2 more]</label></div><br/><div class="children"><div class="content">“COM but you can actually implement it from the docs” is surprisingly compelling, honestly. There is just an absurd number of obscure corners in the original, from DCE RPC all the way to the highest levels (although those are not the only source of COM grief—IDispatch is an abomination; IStream is needlessly annoying; IMarshal is awful to use but at the same time I don’t think actually has a convincing equivalent elsewhere; etc.).</div><br/><div id="37302670" class="c"><input type="checkbox" id="c-37302670" checked=""/><div class="controls bullet"><span class="by">marcus_holmes</span><span>|</span><a href="#37300084">root</a><span>|</span><a href="#37301108">parent</a><span>|</span><a href="#37304225">next</a><span>|</span><label class="collapse" for="c-37302670">[-]</label><label class="expand" for="c-37302670">[1 more]</label></div><br/><div class="children"><div class="content">Ah, the pain of getting a DCOM connection working <i>shudder</i><p>COM was pretty reliable. Yes, it was needlessly annoying and gave CS folk the screaming ab-dabs, but it worked and was predictable.<p>I can see COM-in-WASM being really useful. Especially if we can dynamically load components. And not only for browser coding.</div><br/></div></div></div></div><div id="37304225" class="c"><input type="checkbox" id="c-37304225" checked=""/><div class="controls bullet"><span class="by">bsder</span><span>|</span><a href="#37300084">root</a><span>|</span><a href="#37300809">parent</a><span>|</span><a href="#37301108">prev</a><span>|</span><a href="#37301161">next</a><span>|</span><label class="collapse" for="c-37304225">[-]</label><label class="expand" for="c-37304225">[1 more]</label></div><br/><div class="children"><div class="content">Nobody has a <i>good</i> IPC&#x2F;RPC-based abstraction set right now.  And everybody is kind of struggling with that.<p>Look at the latest Microsoft thing about embedding Python in Excel.  They&#x27;re going the wrong direction.  What everybody wants is to be able to <i>drive Excel from Python</i> aka an API that people could hook into.<p>Even WASM is kind of ... weak ... because it has to deal with the lowest common denominator--a web page with a single thread of execution and no access to anything.<p>And, COM wasn&#x27;t terrible--it&#x27;s just that the languages attempting to support it were very underpowered at the time.  COM with VB6 created a <i>huge</i> ecosystem that probably still isn&#x27;t really matched today.</div><br/></div></div><div id="37301161" class="c"><input type="checkbox" id="c-37301161" checked=""/><div class="controls bullet"><span class="by">lukeh</span><span>|</span><a href="#37300084">root</a><span>|</span><a href="#37300809">parent</a><span>|</span><a href="#37304225">prev</a><span>|</span><a href="#37303204">next</a><span>|</span><label class="collapse" for="c-37301161">[-]</label><label class="expand" for="c-37301161">[1 more]</label></div><br/><div class="children"><div class="content">Streams sounds more like DrawBridge!</div><br/></div></div></div></div><div id="37303204" class="c"><input type="checkbox" id="c-37303204" checked=""/><div class="controls bullet"><span class="by">j-james</span><span>|</span><a href="#37300084">root</a><span>|</span><a href="#37300551">parent</a><span>|</span><a href="#37300809">prev</a><span>|</span><a href="#37300771">next</a><span>|</span><label class="collapse" for="c-37303204">[-]</label><label class="expand" for="c-37303204">[1 more]</label></div><br/><div class="children"><div class="content">Hmm, a strong type system? Is there any overlap between the Wit IDL and other similar projects like crABI?</div><br/></div></div><div id="37300771" class="c"><input type="checkbox" id="c-37300771" checked=""/><div class="controls bullet"><span class="by">actionfromafar</span><span>|</span><a href="#37300084">root</a><span>|</span><a href="#37300551">parent</a><span>|</span><a href="#37303204">prev</a><span>|</span><a href="#37300355">next</a><span>|</span><label class="collapse" for="c-37300771">[-]</label><label class="expand" for="c-37300771">[1 more]</label></div><br/><div class="children"><div class="content">The network really is the computer, this time!</div><br/></div></div></div></div><div id="37300355" class="c"><input type="checkbox" id="c-37300355" checked=""/><div class="controls bullet"><span class="by">Animats</span><span>|</span><a href="#37300084">parent</a><span>|</span><a href="#37300551">prev</a><span>|</span><a href="#37300144">next</a><span>|</span><label class="collapse" for="c-37300355">[-]</label><label class="expand" for="c-37300355">[1 more]</label></div><br/><div class="children"><div class="content">&gt; An old-fashioned file is not the logical extreme of anything. ... Instead we don&#x27;t even have a good way to do any kind of networking.<p>One can take this further. There was a forgotten system called ChiOs which started with &quot;A bit is a file. An ordered collection of files is a file.&quot; and went downhill from there.<p>&quot;Everything is a file&quot; has its limits.<p>I rather liked QNX.  QNX is a microkernel with microservices.
Everything is an inter-process function call. Call, wait for response or timeout. 
Works both locally and remotely. Very fast locally. There&#x27;s a POSIX library, but when you call &quot;read&quot;, some glue code makes a call to the file system service.<p>As a base abstraction, remote procedure calls work better than files. Files implemented via RPC are simple. APIs via RPC work are very similar to local function calls. RPC via a file interface is complicated. You have to put a protocol on top of stream&#x2F;file oriented sockets to get a message interface.<p>The point that the author seems to be making is that WASI offers a standard API. It&#x27;s one that crosses a memory protection boundary, like an inter-process function call. This is a reasonable way to do things. For historical reasons, neither Unix nor Windows supports that approach well.</div><br/></div></div><div id="37300144" class="c"><input type="checkbox" id="c-37300144" checked=""/><div class="controls bullet"><span class="by">magila</span><span>|</span><a href="#37300084">parent</a><span>|</span><a href="#37300355">prev</a><span>|</span><a href="#37300354">next</a><span>|</span><label class="collapse" for="c-37300144">[-]</label><label class="expand" for="c-37300144">[1 more]</label></div><br/><div class="children"><div class="content">The WASM Component Model<p><a href="https:&#x2F;&#x2F;github.com&#x2F;WebAssembly&#x2F;component-model">https:&#x2F;&#x2F;github.com&#x2F;WebAssembly&#x2F;component-model</a></div><br/></div></div><div id="37302401" class="c"><input type="checkbox" id="c-37302401" checked=""/><div class="controls bullet"><span class="by">Cloudef</span><span>|</span><a href="#37300084">parent</a><span>|</span><a href="#37300354">prev</a><span>|</span><a href="#37303728">next</a><span>|</span><label class="collapse" for="c-37302401">[-]</label><label class="expand" for="c-37302401">[1 more]</label></div><br/><div class="children"><div class="content">Not sure if we continued to improve from plan9, it&#x27;s more like features were copied from plan9 but due to the fundamental differences in the foundation they aren&#x27;t really the same and requires boilerplate to be actually usable.</div><br/></div></div></div></div><div id="37301864" class="c"><input type="checkbox" id="c-37301864" checked=""/><div class="controls bullet"><span class="by">syrusakbary</span><span>|</span><a href="#37300084">prev</a><span>|</span><a href="#37300227">next</a><span>|</span><label class="collapse" for="c-37301864">[-]</label><label class="expand" for="c-37301864">[3 more]</label></div><br/><div class="children"><div class="content">WASIX may be of relevance to the article
<a href="https:&#x2F;&#x2F;wasix.org&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;wasix.org&#x2F;</a></div><br/><div id="37302179" class="c"><input type="checkbox" id="c-37302179" checked=""/><div class="controls bullet"><span class="by">xena</span><span>|</span><a href="#37301864">parent</a><span>|</span><a href="#37304590">next</a><span>|</span><label class="collapse" for="c-37302179">[-]</label><label class="expand" for="c-37302179">[1 more]</label></div><br/><div class="children"><div class="content">I would use WASIX, but my WASM runtime of choice doesn&#x27;t have WASIX support yet.</div><br/></div></div><div id="37304590" class="c"><input type="checkbox" id="c-37304590" checked=""/><div class="controls bullet"><span class="by">IshKebab</span><span>|</span><a href="#37301864">parent</a><span>|</span><a href="#37302179">prev</a><span>|</span><a href="#37300227">next</a><span>|</span><label class="collapse" for="c-37304590">[-]</label><label class="expand" for="c-37304590">[1 more]</label></div><br/><div class="children"><div class="content">Isn&#x27;t most of the point of WASM to enable portable executables? Why wrap your portable bytecode with an entirely non-portable platform API? Seems mad to me.</div><br/></div></div></div></div><div id="37300227" class="c"><input type="checkbox" id="c-37300227" checked=""/><div class="controls bullet"><span class="by">hoten</span><span>|</span><a href="#37301864">prev</a><span>|</span><a href="#37302987">next</a><span>|</span><label class="collapse" for="c-37300227">[-]</label><label class="expand" for="c-37300227">[1 more]</label></div><br/><div class="children"><div class="content">Wonderful talk, now I finally understand what WASI is.</div><br/></div></div><div id="37302987" class="c"><input type="checkbox" id="c-37302987" checked=""/><div class="controls bullet"><span class="by">38</span><span>|</span><a href="#37300227">prev</a><span>|</span><a href="#37301422">next</a><span>|</span><label class="collapse" for="c-37302987">[-]</label><label class="expand" for="c-37302987">[3 more]</label></div><br/><div class="children"><div class="content">I thought the Unix philosophy was do one thing well:<p><a href="https:&#x2F;&#x2F;wikipedia.org&#x2F;wiki&#x2F;Unix_philosophy#Do_One_Thing_and_Do_It_Well" rel="nofollow noreferrer">https:&#x2F;&#x2F;wikipedia.org&#x2F;wiki&#x2F;Unix_philosophy#Do_One_Thing_and_...</a><p>how is running <i>anything</i> through a giant virtual machine (web browser) anywhere close to that? the browser is the monolith people. using a web browser to deliver an application is, always has been, and always will be the slowest, and most bloated way to do that. the benefit of course is, that the result is user friendly and cross platform. but lets not kid ourselves, this is as far from the unix ideals as you can get.</div><br/><div id="37304670" class="c"><input type="checkbox" id="c-37304670" checked=""/><div class="controls bullet"><span class="by">ngc6677</span><span>|</span><a href="#37302987">parent</a><span>|</span><a href="#37304160">next</a><span>|</span><label class="collapse" for="c-37304670">[-]</label><label class="expand" for="c-37304670">[1 more]</label></div><br/><div class="children"><div class="content">see my comment in this thread about <a href="https:&#x2F;&#x2F;github.com&#x2F;internet4000&#x2F;find">https:&#x2F;&#x2F;github.com&#x2F;internet4000&#x2F;find</a> (for a summary); (web-)apps can be encapsultated, from the URI you access them, and the code that is served by the loaded page. It could also run client side only, local first (web apps manifest, service workers, sqlite&#x2F;postgres wasm etc.)</div><br/></div></div><div id="37304160" class="c"><input type="checkbox" id="c-37304160" checked=""/><div class="controls bullet"><span class="by">YoshiRulz</span><span>|</span><a href="#37302987">parent</a><span>|</span><a href="#37304670">prev</a><span>|</span><a href="#37301422">next</a><span>|</span><label class="collapse" for="c-37304160">[-]</label><label class="expand" for="c-37304160">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s probably referring to the Markdown to HTML translator library, an example of how Wasm enables Unix-style composition.</div><br/></div></div></div></div><div id="37301422" class="c"><input type="checkbox" id="c-37301422" checked=""/><div class="controls bullet"><span class="by">bykhun</span><span>|</span><a href="#37302987">prev</a><span>|</span><a href="#37301979">next</a><span>|</span><label class="collapse" for="c-37301422">[-]</label><label class="expand" for="c-37301422">[9 more]</label></div><br/><div class="children"><div class="content">I wonder if we can reliably expect React-in-Rust framework that compiles to wasm instead of js? Or maybe just a React library written in Rust, but you can still write the source code in javascript?<p>Or maybe at least Typescript-to-WASM compiler to skip JS output?</div><br/><div id="37304553" class="c"><input type="checkbox" id="c-37304553" checked=""/><div class="controls bullet"><span class="by">Havoc</span><span>|</span><a href="#37301422">parent</a><span>|</span><a href="#37301436">next</a><span>|</span><label class="collapse" for="c-37304553">[-]</label><label class="expand" for="c-37304553">[1 more]</label></div><br/><div class="children"><div class="content">Seems a bit silly injecting all that garbage collected untyped stuff straight back into a context where one of the aims was to get rid of it</div><br/></div></div><div id="37301436" class="c"><input type="checkbox" id="c-37301436" checked=""/><div class="controls bullet"><span class="by">capableweb</span><span>|</span><a href="#37301422">parent</a><span>|</span><a href="#37304553">prev</a><span>|</span><a href="#37302186">next</a><span>|</span><label class="collapse" for="c-37301436">[-]</label><label class="expand" for="c-37301436">[3 more]</label></div><br/><div class="children"><div class="content">I mean probably, yeah, but why? You&#x27;d still need JS to involve the DOM with anything, and that&#x27;s the performance expensive stuff, so might as well just do the whole thing in JS.</div><br/><div id="37301668" class="c"><input type="checkbox" id="c-37301668" checked=""/><div class="controls bullet"><span class="by">patmorgan23</span><span>|</span><a href="#37301422">root</a><span>|</span><a href="#37301436">parent</a><span>|</span><a href="#37302186">next</a><span>|</span><label class="collapse" for="c-37301668">[-]</label><label class="expand" for="c-37301668">[2 more]</label></div><br/><div class="children"><div class="content">Isn&#x27;t there work on letting WASM call the DOM&#x2F;Browser API&#x27;s directly without having to go through JavaScript?</div><br/><div id="37302363" class="c"><input type="checkbox" id="c-37302363" checked=""/><div class="controls bullet"><span class="by">mr_toad</span><span>|</span><a href="#37301422">root</a><span>|</span><a href="#37301668">parent</a><span>|</span><a href="#37302186">next</a><span>|</span><label class="collapse" for="c-37302363">[-]</label><label class="expand" for="c-37302363">[1 more]</label></div><br/><div class="children"><div class="content">Like nuclear fusion, it’s always just over the horizon.</div><br/></div></div></div></div></div></div><div id="37302186" class="c"><input type="checkbox" id="c-37302186" checked=""/><div class="controls bullet"><span class="by">csjh</span><span>|</span><a href="#37301422">parent</a><span>|</span><a href="#37301436">prev</a><span>|</span><a href="#37301596">next</a><span>|</span><label class="collapse" for="c-37302186">[-]</label><label class="expand" for="c-37302186">[1 more]</label></div><br/><div class="children"><div class="content">I doubt the gains from React rewritten in Rust would be significant; the expensive code is the stuff you write in components<p>Also Typescript -&gt; WASM exists in some form through assemblyscript</div><br/></div></div><div id="37301596" class="c"><input type="checkbox" id="c-37301596" checked=""/><div class="controls bullet"><span class="by">TheRealPomax</span><span>|</span><a href="#37301422">parent</a><span>|</span><a href="#37302186">prev</a><span>|</span><a href="#37301979">next</a><span>|</span><label class="collapse" for="c-37301596">[-]</label><label class="expand" for="c-37301596">[3 more]</label></div><br/><div class="children"><div class="content">At that point, why even bother with React? Just write a real user interface.</div><br/><div id="37301679" class="c"><input type="checkbox" id="c-37301679" checked=""/><div class="controls bullet"><span class="by">yazaddaruvala</span><span>|</span><a href="#37301422">root</a><span>|</span><a href="#37301596">parent</a><span>|</span><a href="#37302150">next</a><span>|</span><label class="collapse" for="c-37301679">[-]</label><label class="expand" for="c-37301679">[1 more]</label></div><br/><div class="children"><div class="content">React-likes (including Vue, Preact, etc) have the most ergonomic interface for UX devs to develop with.</div><br/></div></div><div id="37302150" class="c"><input type="checkbox" id="c-37302150" checked=""/><div class="controls bullet"><span class="by">_navierstokes</span><span>|</span><a href="#37301422">root</a><span>|</span><a href="#37301596">parent</a><span>|</span><a href="#37301679">prev</a><span>|</span><a href="#37301979">next</a><span>|</span><label class="collapse" for="c-37302150">[-]</label><label class="expand" for="c-37302150">[1 more]</label></div><br/><div class="children"><div class="content">What do you define as a &quot;real&quot; user interface?</div><br/></div></div></div></div></div></div><div id="37301979" class="c"><input type="checkbox" id="c-37301979" checked=""/><div class="controls bullet"><span class="by">dekhn</span><span>|</span><a href="#37301422">prev</a><span>|</span><a href="#37300582">next</a><span>|</span><label class="collapse" for="c-37301979">[-]</label><label class="expand" for="c-37301979">[3 more]</label></div><br/><div class="children"><div class="content">The talk was amusing but much less interesting than it could be.  Yes, we have adapters and shims and they make interfacing easier, sometimes.<p>I guess after all these years of waiting for WebAssembly to actually be useful (as in: I can write apps as easily as I can on desktop, with similar performance, but with the safety guarantees of a web sandbox), I finally realized what I wanted: web pages that are backed by virtual machines.  Every page is just a view into a VM&#x27;s framebuffer.  User events are delivered just like X11 or win32 events.  The page works like a desktop app.  Any code that can run in a VM, can run in the window.<p>After all, the browser is just an inner platform and you should be able to run an virtual machine in your inner platform.</div><br/><div id="37304917" class="c"><input type="checkbox" id="c-37304917" checked=""/><div class="controls bullet"><span class="by">discreteevent</span><span>|</span><a href="#37301979">parent</a><span>|</span><a href="#37302033">next</a><span>|</span><label class="collapse" for="c-37304917">[-]</label><label class="expand" for="c-37304917">[1 more]</label></div><br/><div class="children"><div class="content">I think that this was what Alan Kay was saying when he said that web pages should be objects (where he had previously said that objects are virtual machines all the way down)</div><br/></div></div></div></div><div id="37300582" class="c"><input type="checkbox" id="c-37300582" checked=""/><div class="controls bullet"><span class="by">galaxyLogic</span><span>|</span><a href="#37301979">prev</a><span>|</span><a href="#37301888">next</a><span>|</span><label class="collapse" for="c-37300582">[-]</label><label class="expand" for="c-37300582">[5 more]</label></div><br/><div class="children"><div class="content">Everything is not a file.  There are files and file-contents. The content of a file is not a file.<p>The magic trick happens with #SheBang because that tells you who should interpret and execute the file-contents. That is &quot;magic&quot; because in a sense you must read (part of the content) to know how the contents which is just 0s and 1s should be interpreted.</div><br/><div id="37301014" class="c"><input type="checkbox" id="c-37301014" checked=""/><div class="controls bullet"><span class="by">wahern</span><span>|</span><a href="#37300582">parent</a><span>|</span><a href="#37301000">next</a><span>|</span><label class="collapse" for="c-37301014">[-]</label><label class="expand" for="c-37301014">[2 more]</label></div><br/><div class="children"><div class="content">There are two dimensions to &quot;everything is a file&quot;. The first is the concept of a hierarchical filesystem namespace. The second is the notion that read and write can be used as a universal interface to any resource from the perspective of the runtime environment (e.g. kernel). People focus myopically on the first aspect, but it&#x27;s really the second that is the most important and most enduring.<p>The word &quot;file&quot; is ambiguous, and was used ambiguously in Unix documentation and papers. It of course meant an object with a name in the filesystem. But it also can refer to an object (whether or not existing on or even referenced by the filesystem) which is accessed using read&#x2F;write, independent of how you acquired the reference (i.e. file descriptor) to that object. If you look at the whole of the Unix system, read&#x2F;write over file descriptors is the backbone of the environment; process inheritance, shell redirection... much of the time a program has no idea <i>how</i> a resource reference was acquired, just that it can be accessed using read&#x2F;write.</div><br/><div id="37304404" class="c"><input type="checkbox" id="c-37304404" checked=""/><div class="controls bullet"><span class="by">kaba0</span><span>|</span><a href="#37300582">root</a><span>|</span><a href="#37301014">parent</a><span>|</span><a href="#37301000">next</a><span>|</span><label class="collapse" for="c-37304404">[-]</label><label class="expand" for="c-37304404">[1 more]</label></div><br/><div class="children"><div class="content">&gt; People focus myopically on the first aspect, but it&#x27;s really the second that is the most important and most enduring<p>But something you can read and write to is <i>not</i> called a file, it is called a stream. It is no accident that Linux differentiates between “files” that you can write to at arbitrary places, or ones that are append-only.</div><br/></div></div></div></div><div id="37301000" class="c"><input type="checkbox" id="c-37301000" checked=""/><div class="controls bullet"><span class="by">teruakohatu</span><span>|</span><a href="#37300582">parent</a><span>|</span><a href="#37301014">prev</a><span>|</span><a href="#37300787">next</a><span>|</span><label class="collapse" for="c-37301000">[-]</label><label class="expand" for="c-37301000">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Everything is not a file.<p>A file is a collection of data, which usually has an associated identifier (filename and&#x2F;or path). A USB mouse drive is not a file, but it can be represented as such.</div><br/></div></div></div></div><div id="37301888" class="c"><input type="checkbox" id="c-37301888" checked=""/><div class="controls bullet"><span class="by">kazinator</span><span>|</span><a href="#37300582">prev</a><span>|</span><a href="#37302173">next</a><span>|</span><label class="collapse" for="c-37301888">[-]</label><label class="expand" for="c-37301888">[7 more]</label></div><br/><div class="children"><div class="content">The Unix Philosophy:<p>A) Tasks should done by combinations of simple tools combined into an elegant pipe.<p>B) Each tools should do three things, one of them at least so-so well:<p>Those three are:<p>1) Hackily parse the output of the previous tool by flaky assumptions like that a certain delimiter is always present, that spaces will not occur in such and such an item, or that such and such a field is from this column to that one and never overflows.<p>2) Do the actual processing correctly and efficiently --- provided nothing in the data, exceeds a 1023 character limit, or overflows an addition of two ints or doubles.<p>3) Produce output in some way that is hard to parse correctly for the next tool, like columns that may be empty, contain items with spaces, or overflow so that column widths are not reliable.</div><br/><div id="37303388" class="c"><input type="checkbox" id="c-37303388" checked=""/><div class="controls bullet"><span class="by">imiric</span><span>|</span><a href="#37301888">parent</a><span>|</span><a href="#37302009">next</a><span>|</span><label class="collapse" for="c-37303388">[-]</label><label class="expand" for="c-37303388">[5 more]</label></div><br/><div class="children"><div class="content">That&#x27;s a very twisted definition of Unix.<p>1) This is not done by every tool. Instead, there are tools built for specific parsing purposes, and each tool is only in charge of interpreting its command-line arguments or, optionally, stdin in some suitable way. Tools are agnostic of the output of previous tools, and only care about processing data that makes sense to them. It&#x27;s the task of the user to ensure this data is structured correctly.<p>2) Where are you getting these limits? Shell limits can be controlled by ulimit(1p), but the standard file descriptors function as unlimited streams of data.<p>3) Again, every process is free to choose the best way to output data. Some have flags that make processing the output easier by another tool, otherwise they default to what makes sense for the user.<p>You seem to have a bone to pick with the fact that the data shared between processes is unstructured, and that the user must handle this on their own, but this is what enables building independent tools that &quot;do one thing well&quot;, yet are still able to work together. Sure, in a tightly controlled environment, tools can share structured data (e.g. objects in PowerShell, JSON in NuShell, Murex, etc.), but this comes at the expense of added complexity, since each tool needs to handle this specific format, encoding, etc. This is difficult to coordinate and scale, and arguably the rich Unix ecosystem wouldn&#x27;t exist if some arcane format was chosen 40+ years ago, or if a new one needs to be supported whenever something &quot;better&quot; than JSON comes along. Leaving the data unstructured and up to each process and user to handle, ensures both past and future compatibility.</div><br/><div id="37303708" class="c"><input type="checkbox" id="c-37303708" checked=""/><div class="controls bullet"><span class="by">eviks</span><span>|</span><a href="#37301888">root</a><span>|</span><a href="#37303388">parent</a><span>|</span><a href="#37302009">next</a><span>|</span><label class="collapse" for="c-37303708">[-]</label><label class="expand" for="c-37303708">[4 more]</label></div><br/><div class="children"><div class="content">What if the format chosen 40+ years ago wasn&#x27;t arcane, and arguably you could avoid the legitimate mess of parsing poorly structured data for 40+ years?</div><br/><div id="37303883" class="c"><input type="checkbox" id="c-37303883" checked=""/><div class="controls bullet"><span class="by">imiric</span><span>|</span><a href="#37301888">root</a><span>|</span><a href="#37303708">parent</a><span>|</span><a href="#37303801">next</a><span>|</span><label class="collapse" for="c-37303883">[-]</label><label class="expand" for="c-37303883">[2 more]</label></div><br/><div class="children"><div class="content">And what format would that have been? It would have predated XML and JSON, so it must&#x27;ve been a bespoke format created for this purpose.<p>Whatever it were, it would need updating, which means all tools would need to be updated to support the changes, while maintaining backwards compatibility. This is a mess in practice, and probably only acceptable to a single project or organization that maintains all tools, but it&#x27;s not something that allows an open ecosystem to grow.<p>It&#x27;s naive to think that a modern solution can &quot;fix&quot; this apparent problem. New shells and environments can be created that try to address it, but their future is uncertain. Meanwhile, the fact that Unix still exists today in many variations is a testament that those early decisions were largely correct.</div><br/><div id="37304040" class="c"><input type="checkbox" id="c-37304040" checked=""/><div class="controls bullet"><span class="by">eviks</span><span>|</span><a href="#37301888">root</a><span>|</span><a href="#37303883">parent</a><span>|</span><a href="#37303801">next</a><span>|</span><label class="collapse" for="c-37304040">[-]</label><label class="expand" for="c-37304040">[1 more]</label></div><br/><div class="children"><div class="content">The downsides you cite are even worse for the unstructured data, it&#x27;s an even bigger mess in practice with poor &quot;current compatibility&quot;<p>And the fallacy of alive=right is also worse than &quot;naivety&quot; since it prolongs the pain for a few more decades longer than necessary (it&#x27;s a big part of the reason why all those much better tools face uncertain future)</div><br/></div></div></div></div><div id="37303801" class="c"><input type="checkbox" id="c-37303801" checked=""/><div class="controls bullet"><span class="by">Gabrys1</span><span>|</span><a href="#37301888">root</a><span>|</span><a href="#37303708">parent</a><span>|</span><a href="#37303883">prev</a><span>|</span><a href="#37302009">next</a><span>|</span><label class="collapse" for="c-37303801">[-]</label><label class="expand" for="c-37303801">[1 more]</label></div><br/><div class="children"><div class="content">Plain is arcane?<p>Mime type: text&#x2F;arcane</div><br/></div></div></div></div></div></div></div></div><div id="37302173" class="c"><input type="checkbox" id="c-37302173" checked=""/><div class="controls bullet"><span class="by">alphazard</span><span>|</span><a href="#37301888">prev</a><span>|</span><a href="#37300636">next</a><span>|</span><label class="collapse" for="c-37302173">[-]</label><label class="expand" for="c-37302173">[12 more]</label></div><br/><div class="children"><div class="content">The pipeline pattern has its uses, but it&#x27;s not the most important (or even the most well known?) tenant of the Unix philosophy.<p>It&#x27;s &quot;Everything is a File&quot;[0].  That one has really stood the test of time.
And it&#x27;s often misunderstood to mean that everything implements {Read,Write,Seek,Truncate, etc.}.  Then when a TCP socket or character device or whatever shows up, the whole abstraction leaks, and it seems like not everything is a file.<p>The Good Parts of Everything is a File:<p>1. Everything exists in a Filesystem, meaning a directory tree.  There are directories, they list things, either resources, or more directories.  A process gets access to all additional resources through the filesystem.  We&#x27;ve really screwed up by putting networking in it&#x27;s own place, environment variables, etc.<p>2. File descriptors.  If you squint, these are capabilities[1], which is probably the best way to manage resource permissions.  They are fine grained, they handle delegation, there is a tree of legitimacy back to the root.  We were so close, but we got this one wrong too, with a single global root, instead of a chroot per process by default.<p>[0] <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Everything_is_a_file" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Everything_is_a_file</a><p>[1] <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Capability-based_security" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Capability-based_security</a></div><br/><div id="37302496" class="c"><input type="checkbox" id="c-37302496" checked=""/><div class="controls bullet"><span class="by">fyrn_</span><span>|</span><a href="#37302173">parent</a><span>|</span><a href="#37303126">next</a><span>|</span><label class="collapse" for="c-37302496">[-]</label><label class="expand" for="c-37302496">[7 more]</label></div><br/><div class="children"><div class="content">They talk pretty extensively about everything is a file?
They even mention the &quot;everything is a file&quot; description of that concept</div><br/><div id="37302607" class="c"><input type="checkbox" id="c-37302607" checked=""/><div class="controls bullet"><span class="by">colordrops</span><span>|</span><a href="#37302173">root</a><span>|</span><a href="#37302496">parent</a><span>|</span><a href="#37303126">next</a><span>|</span><label class="collapse" for="c-37302607">[-]</label><label class="expand" for="c-37302607">[6 more]</label></div><br/><div class="children"><div class="content">Yeah seems the GP didn&#x27;t watch the video.</div><br/><div id="37302615" class="c"><input type="checkbox" id="c-37302615" checked=""/><div class="controls bullet"><span class="by">xena</span><span>|</span><a href="#37302173">root</a><span>|</span><a href="#37302607">parent</a><span>|</span><a href="#37302820">next</a><span>|</span><label class="collapse" for="c-37302615">[-]</label><label class="expand" for="c-37302615">[1 more]</label></div><br/><div class="children"><div class="content">At some point I need to make a really misleading title for my talks or articles just to catch people like the GP that don&#x27;t read the article or watch the talk and only comment based on what the title makes them assume it&#x27;s about.</div><br/></div></div><div id="37302820" class="c"><input type="checkbox" id="c-37302820" checked=""/><div class="controls bullet"><span class="by">alphazard</span><span>|</span><a href="#37302173">root</a><span>|</span><a href="#37302607">parent</a><span>|</span><a href="#37302615">prev</a><span>|</span><a href="#37303126">next</a><span>|</span><label class="collapse" for="c-37302820">[-]</label><label class="expand" for="c-37302820">[4 more]</label></div><br/><div class="children"><div class="content">I did not watch the video. I assumed the blog post was a transcription since it contains parentheticals like &quot;(audience laughs)&quot;.<p>My takeaway from the transcript was that the author was chaining together webassembly programs like a pipeline in a Unix shell.  Is the video about something else entirely?</div><br/><div id="37303041" class="c"><input type="checkbox" id="c-37303041" checked=""/><div class="controls bullet"><span class="by">guiambros</span><span>|</span><a href="#37302173">root</a><span>|</span><a href="#37302820">parent</a><span>|</span><a href="#37302965">next</a><span>|</span><label class="collapse" for="c-37303041">[-]</label><label class="expand" for="c-37303041">[1 more]</label></div><br/><div class="children"><div class="content">The post seems indeed a full transcript of the video, and it does mention the everything-is-a-file: &quot;<i>So, going back to where we were with Unix, what does it mean for everything to be a file? What is a file in the first place?</i>&quot;<p>The talk is fantastic; Xe is a prolific hacker, low-level OS engineer, and engaging speaker. If anyone prefers YT, here&#x27;s the direct link: <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=QNDvfez6QL0">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=QNDvfez6QL0</a></div><br/></div></div></div></div></div></div></div></div><div id="37303126" class="c"><input type="checkbox" id="c-37303126" checked=""/><div class="controls bullet"><span class="by">zzo38computer</span><span>|</span><a href="#37302173">parent</a><span>|</span><a href="#37302496">prev</a><span>|</span><a href="#37303719">next</a><span>|</span><label class="collapse" for="c-37303126">[-]</label><label class="expand" for="c-37303126">[2 more]</label></div><br/><div class="children"><div class="content">The pipeline pattern is still very useful, even if it isn&#x27;t the most important or most well known tenant (I am not sure of this, but maybe you are right). Still, of course it is not perfect. &quot;Everything is a file&quot; has its benefits too, but also is not perfect either.<p>However, even if not all of {Read,Write,Seek,Truncate,etc} are implemented for all objects, some of them will be implemented, e.g. a TCP socket or character device can use read&#x2F;write (or some might be read-only or write-only) but is not seekable. This is useful to use programs expecting other files and they will still work. For example, once I had a USB with a exfat file system, which I could not mount, but I knew it contained a ZIP file, so I tried that it it was able to extract the ZIP archive even though it could not be mounted; that is it could treat the USB device itself as a file. And, commonly, it is useful to write stuff that could be written to files, to pipes; for example in Heirloom-mailx you can write attachments to pipes instead of files, and I find this very helpful.<p>I think that the file system directory tree is not the best way. File descriptors are like capabilities, and that is good (and I agree that it is probably the best way to manage resource permissions), but I think that it could be done better as better capabilities. I think that a single global root and chroot per process are both not the best way; I have a (what I think, at least) better way.<p>My own design has a file system but does not have directory structures nor file names, but it is a hypertext file system, and files can have multiple forks, and the data streams can contain links (similar to UNIX hard links) to other files. Links can optionally be to a fixed version, or to a changeable version; copy on write can be used if you have both kinds of links to the same file. There is also journaling, and can have locks and transactions that can consist of multiple objects at once (this is necessary in the core system, so that you do not make a mess trying to do such things in user code like SQLite (and any other SQL database engine) does).<p>My own design also uses &quot;proxy capabilities&quot;. Messages can be passed using capabilities, and these messages can contain sequences of bytes and&#x2F;or capabilities. A program might also create its own capabilities, which can be proxies of others; you can implement fine grained security and also allow fault simulation and many other purposes. All I&#x2F;O and system calls (except Yield and Quit) must use these capabilities (for full security). A program will receive an initial message when it starts, so it will start up with some capabilities that were passed in that message (which can be whatever capabilities the caller decided to give it). Also, the multiple objects transaction&#x2F;locking mentioned above is actually a general feature of capabilities and is not specific to disk files; you can make a transaction or lock of any set of objects (if supported; some combinations might not be possible). Proxy capabilities are actually very useful and many of the high-level features of the system are implemented in terms of proxy capabilities, so the kernel does not need to know all of the possible uses.<p>In this way, you can easily emulate a &quot;chroot per process&quot;, although it does not actually work like that. Such an initial message could as easily be used to emulate environment variables or whatever else you might want, too; a POSIX compatibility layer can be possible in user code if needed, although the low-level and high-level design of this system are not designed to be POSIX but rather something different, which does (what I am considering) working better in many ways.<p>(My own operating system design does not currently have a name.)</div><br/><div id="37303733" class="c"><input type="checkbox" id="c-37303733" checked=""/><div class="controls bullet"><span class="by">frutiger</span><span>|</span><a href="#37302173">root</a><span>|</span><a href="#37303126">parent</a><span>|</span><a href="#37303719">next</a><span>|</span><label class="collapse" for="c-37303733">[-]</label><label class="expand" for="c-37303733">[1 more]</label></div><br/><div class="children"><div class="content">Sounds pretty cool. Which hardware platforms does it target (even if they are virtual)? Is there a way to run it?</div><br/></div></div></div></div></div></div><div id="37300636" class="c"><input type="checkbox" id="c-37300636" checked=""/><div class="controls bullet"><span class="by">jl6</span><span>|</span><a href="#37302173">prev</a><span>|</span><a href="#37299327">next</a><span>|</span><label class="collapse" for="c-37300636">[-]</label><label class="expand" for="c-37300636">[20 more]</label></div><br/><div class="children"><div class="content">The UNIX philosophy’s logical extreme is the NAND gate. Does one thing, does it well, and can be composed into arbitrary applications.</div><br/><div id="37300648" class="c"><input type="checkbox" id="c-37300648" checked=""/><div class="controls bullet"><span class="by">Drakim</span><span>|</span><a href="#37300636">parent</a><span>|</span><a href="#37301150">next</a><span>|</span><label class="collapse" for="c-37300648">[-]</label><label class="expand" for="c-37300648">[8 more]</label></div><br/><div class="children"><div class="content">Only if the NAND gate is expressed as a file</div><br/><div id="37300672" class="c"><input type="checkbox" id="c-37300672" checked=""/><div class="controls bullet"><span class="by">Waterluvian</span><span>|</span><a href="#37300636">root</a><span>|</span><a href="#37300648">parent</a><span>|</span><a href="#37301150">next</a><span>|</span><label class="collapse" for="c-37300672">[-]</label><label class="expand" for="c-37300672">[7 more]</label></div><br/><div class="children"><div class="content">Okay… please… someone implement ‘nand’ and write a script that does something simple using only it.</div><br/><div id="37304856" class="c"><input type="checkbox" id="c-37304856" checked=""/><div class="controls bullet"><span class="by">porridgeandrice</span><span>|</span><a href="#37300636">root</a><span>|</span><a href="#37300672">parent</a><span>|</span><a href="#37301264">next</a><span>|</span><label class="collapse" for="c-37304856">[-]</label><label class="expand" for="c-37304856">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;nand2tetris.org" rel="nofollow noreferrer">https:&#x2F;&#x2F;nand2tetris.org</a><p>and my implementation of the projects: <a href="https:&#x2F;&#x2F;github.com&#x2F;porridgewithraisins&#x2F;nand2tetris">https:&#x2F;&#x2F;github.com&#x2F;porridgewithraisins&#x2F;nand2tetris</a></div><br/></div></div><div id="37301264" class="c"><input type="checkbox" id="c-37301264" checked=""/><div class="controls bullet"><span class="by">jewel</span><span>|</span><a href="#37300636">root</a><span>|</span><a href="#37300672">parent</a><span>|</span><a href="#37304856">prev</a><span>|</span><a href="#37301535">next</a><span>|</span><label class="collapse" for="c-37301264">[-]</label><label class="expand" for="c-37301264">[2 more]</label></div><br/><div class="children"><div class="content">Sure!  Here&#x27;s an implementation of nand and a 2-bit adder that uses it: <a href="https:&#x2F;&#x2F;github.com&#x2F;jewel&#x2F;nand">https:&#x2F;&#x2F;github.com&#x2F;jewel&#x2F;nand</a></div><br/><div id="37301376" class="c"><input type="checkbox" id="c-37301376" checked=""/><div class="controls bullet"><span class="by">Waterluvian</span><span>|</span><a href="#37300636">root</a><span>|</span><a href="#37301264">parent</a><span>|</span><a href="#37301535">next</a><span>|</span><label class="collapse" for="c-37301376">[-]</label><label class="expand" for="c-37301376">[1 more]</label></div><br/><div class="children"><div class="content">Hah this is awesome!<p>I’m going to poke around and see how much it would take to stretch this into a basic Turing machine emulator.</div><br/></div></div></div></div><div id="37301535" class="c"><input type="checkbox" id="c-37301535" checked=""/><div class="controls bullet"><span class="by">hmcq6</span><span>|</span><a href="#37300636">root</a><span>|</span><a href="#37300672">parent</a><span>|</span><a href="#37301264">prev</a><span>|</span><a href="#37300697">next</a><span>|</span><label class="collapse" for="c-37301535">[-]</label><label class="expand" for="c-37301535">[2 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;nandgame.com&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;nandgame.com&#x2F;</a></div><br/><div id="37301730" class="c"><input type="checkbox" id="c-37301730" checked=""/><div class="controls bullet"><span class="by">thaumasiotes</span><span>|</span><a href="#37300636">root</a><span>|</span><a href="#37301535">parent</a><span>|</span><a href="#37300697">next</a><span>|</span><label class="collapse" for="c-37301730">[-]</label><label class="expand" for="c-37301730">[1 more]</label></div><br/><div class="children"><div class="content">Great find. People who like this might also like <a href="http:&#x2F;&#x2F;incredible.pm&#x2F;" rel="nofollow noreferrer">http:&#x2F;&#x2F;incredible.pm&#x2F;</a> .<p>I don&#x27;t know how I feel about the message &quot;This is optimal!&quot; displaying when you use one NAND gate to build an inverter at level 2. Level 1 forces you to build an NAND gate out of (1) an AND gate, plus (2) an inverter. It feels like it&#x27;d be more optimal to just reuse that inverter.<p>(And then level 3 is an AND gate, the other primitive† you started with...)<p>† Technically, you start with two primitives, implementing f(a, b) = a ∧ b and g(a,b) = ¬(b ⟶ a). You also get the ability to provide 0 and 1 as fixed inputs, thus ¬a ≡ g(a,1). What you lose after implementing the NAND gate is the ability to provide a fixed 1 input - instead, you are informed that you assume all gates automatically draw from this. Worst of all possible worlds.</div><br/></div></div></div></div></div></div></div></div><div id="37301150" class="c"><input type="checkbox" id="c-37301150" checked=""/><div class="controls bullet"><span class="by">Someone</span><span>|</span><a href="#37300636">parent</a><span>|</span><a href="#37300648">prev</a><span>|</span><a href="#37300688">next</a><span>|</span><label class="collapse" for="c-37301150">[-]</label><label class="expand" for="c-37301150">[10 more]</label></div><br/><div class="children"><div class="content">One thing? It does a logical and and then negates the result. The shell doesn’t really let users compose commands this way, but<p><pre><code>  alias NAND=&quot;AND | NEG&quot;
</code></pre>
Also, a NAND command would need to have 2 <i>stdin</i>’s.</div><br/><div id="37301644" class="c"><input type="checkbox" id="c-37301644" checked=""/><div class="controls bullet"><span class="by">thaumasiotes</span><span>|</span><a href="#37300636">root</a><span>|</span><a href="#37301150">parent</a><span>|</span><a href="#37301623">prev</a><span>|</span><a href="#37300688">next</a><span>|</span><label class="collapse" for="c-37301644">[-]</label><label class="expand" for="c-37301644">[7 more]</label></div><br/><div class="children"><div class="content">&gt; One thing? It does a logical <i>and</i> and then negates the result.<p>Sorry? Take a second to think about what you&#x27;re saying.<p>In what conceivable sense is &quot;doing a logical <i>and</i>&quot; one thing while &quot;doing a logical <i>nand</i>&quot; isn&#x27;t?<p>You can equally claim that<p><pre><code>    x &amp; y
</code></pre>
is really just<p><pre><code>    (x ↑ y) ↑ (x ↑ y)</code></pre></div><br/><div id="37302071" class="c"><input type="checkbox" id="c-37302071" checked=""/><div class="controls bullet"><span class="by">Skgqie1</span><span>|</span><a href="#37300636">root</a><span>|</span><a href="#37301644">parent</a><span>|</span><a href="#37300688">next</a><span>|</span><label class="collapse" for="c-37302071">[-]</label><label class="expand" for="c-37302071">[6 more]</label></div><br/><div class="children"><div class="content">Not the person you asked, but the initial point was taking that idea to the extreme. The concept of &quot;one thing&quot; in the NAND case is more extreme (in terms of granularity). No need to be sorry, it&#x27;s ok.</div><br/><div id="37302135" class="c"><input type="checkbox" id="c-37302135" checked=""/><div class="controls bullet"><span class="by">thaumasiotes</span><span>|</span><a href="#37300636">root</a><span>|</span><a href="#37302071">parent</a><span>|</span><a href="#37300688">next</a><span>|</span><label class="collapse" for="c-37302135">[-]</label><label class="expand" for="c-37302135">[5 more]</label></div><br/><div class="children"><div class="content">Right, the person I asked is claiming that NAND is two things. You appear to have responded as if you disagree with my comment while not actually disagreeing with any part of it.<p>What did you think I meant by this question?<p>&gt;&gt; In what conceivable sense is &quot;doing a logical <i>and</i>&quot; one thing while &quot;doing a logical <i>nand</i>&quot; isn&#x27;t?</div><br/><div id="37302948" class="c"><input type="checkbox" id="c-37302948" checked=""/><div class="controls bullet"><span class="by">Skgqie1</span><span>|</span><a href="#37300636">root</a><span>|</span><a href="#37302135">parent</a><span>|</span><a href="#37300688">next</a><span>|</span><label class="collapse" for="c-37302948">[-]</label><label class="expand" for="c-37302948">[4 more]</label></div><br/><div class="children"><div class="content">Sorry, I will try to make it more clear.<p>NAND is more complex than AND, in the sense that it is more expressive than AND (having functional completeness which AND does not).<p>Similarly, it can be built from other less complex operators (AND and NAND).<p>If you&#x27;re taking &quot;One thing&quot; to the extreme, in terms of the granularity or complexity of that &quot;one thing&quot;, NAND is not as granular or simple as AND - and therefore isn&#x27;t taking it to as far &quot;to the extreme&quot;.</div><br/><div id="37303458" class="c"><input type="checkbox" id="c-37303458" checked=""/><div class="controls bullet"><span class="by">thaumasiotes</span><span>|</span><a href="#37300636">root</a><span>|</span><a href="#37302948">parent</a><span>|</span><a href="#37300688">next</a><span>|</span><label class="collapse" for="c-37303458">[-]</label><label class="expand" for="c-37303458">[3 more]</label></div><br/><div class="children"><div class="content">What&#x27;s the argument that AND is less complex than NAND? It&#x27;s true that NAND has completeness and AND doesn&#x27;t, but so what? What you can build from something is not a measure of how complex it is. You measure complexity in terms of what it takes to <i>describe</i> something.</div><br/><div id="37303597" class="c"><input type="checkbox" id="c-37303597" checked=""/><div class="controls bullet"><span class="by">TylerE</span><span>|</span><a href="#37300636">root</a><span>|</span><a href="#37303458">parent</a><span>|</span><a href="#37300688">next</a><span>|</span><label class="collapse" for="c-37303597">[-]</label><label class="expand" for="c-37303597">[2 more]</label></div><br/><div class="children"><div class="content">It seems naively obvious to me that a(b(x)) is more complex than b(x). Practically tautology.</div><br/><div id="37303971" class="c"><input type="checkbox" id="c-37303971" checked=""/><div class="controls bullet"><span class="by">thaumasiotes</span><span>|</span><a href="#37300636">root</a><span>|</span><a href="#37303597">parent</a><span>|</span><a href="#37300688">next</a><span>|</span><label class="collapse" for="c-37303971">[-]</label><label class="expand" for="c-37303971">[1 more]</label></div><br/><div class="children"><div class="content">You have to justify why you&#x27;ve chosen the particular starting point. NAND isn&#x27;t defined as being &quot;first you do AND, and then you negate it&quot;. It&#x27;s defined like this:<p><pre><code>    +---+---+-------+
    | a | b | a ↑ b |
    +---+---+-------+
    | 0 | 0 |   1   |
    +---+---+-------+
    | 0 | 1 |   1   |
    +---+---+-------+
    | 1 | 0 |   1   |
    +---+---+-------+
    | 1 | 1 |   0   |
    +---+---+-------+
</code></pre>
AND is defined like this:<p><pre><code>    +---+---+-------+
    | a | b | a &amp; b |
    +---+---+-------+
    | 0 | 0 |   0   |
    +---+---+-------+
    | 0 | 1 |   0   |
    +---+---+-------+
    | 1 | 0 |   0   |
    +---+---+-------+
    | 1 | 1 |   1   |
    +---+---+-------+
</code></pre>
You may notice that they are almost exactly the same.<p>&gt; It seems naively obvious to me that a(b(x)) is more complex than b(x).<p>This is just obvious gibberish; if you define b(x, y) = x &amp; y and a(x) = ~x, then you can say &quot;I think a(b(x, y)) looks more complex than b(x, y)&quot;, but how do you respond to &quot;when c(x, y) = x ↑ y, I think c(c(x,y), c(x,y)) looks more complex than c(x,y)&quot;? The two claims can&#x27;t both be true!<p>Everything, no matter how simple, can be described as the end of an arbitrarily long chain of functions. So what?</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="37299327" class="c"><input type="checkbox" id="c-37299327" checked=""/><div class="controls bullet"><span class="by">some_furry</span><span>|</span><a href="#37300636">prev</a><span>|</span><a href="#37302014">next</a><span>|</span><label class="collapse" for="c-37299327">[-]</label><label class="expand" for="c-37299327">[4 more]</label></div><br/><div class="children"><div class="content">&gt; It&#x27;s magic, just without the spell slots.<p>I laughed out loud during a work meeting when I read this. Bravo, Xe!</div><br/><div id="37300544" class="c"><input type="checkbox" id="c-37300544" checked=""/><div class="controls bullet"><span class="by">lifeisstillgood</span><span>|</span><a href="#37299327">parent</a><span>|</span><a href="#37302014">next</a><span>|</span><label class="collapse" for="c-37300544">[-]</label><label class="expand" for="c-37300544">[3 more]</label></div><br/><div class="children"><div class="content">You were reading HN during a work call !  Call HR !</div><br/><div id="37301895" class="c"><input type="checkbox" id="c-37301895" checked=""/><div class="controls bullet"><span class="by">some_furry</span><span>|</span><a href="#37299327">root</a><span>|</span><a href="#37300544">parent</a><span>|</span><a href="#37301389">prev</a><span>|</span><a href="#37302014">next</a><span>|</span><label class="collapse" for="c-37301895">[-]</label><label class="expand" for="c-37301895">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m losing my job soon due to their return to office bullshit. And I was hired as a remote employee.<p>HR can kiss my fuzzy butt lmao</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>