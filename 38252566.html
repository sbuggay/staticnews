<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1699952460992" as="style"/><link rel="stylesheet" href="styles.css?v=1699952460992"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://matthew.science/posts/occupancy/">Building an occupancy sensor with a $5 ESP32 and a serverless DB</a> <span class="domain">(<a href="https://matthew.science">matthew.science</a>)</span></div><div class="subtext"><span>sodality2</span> | <span>167 comments</span></div><br/><div><div id="38256556" class="c"><input type="checkbox" id="c-38256556" checked=""/><div class="controls bullet"><span class="by">linvs</span><span>|</span><a href="#38253460">next</a><span>|</span><label class="collapse" for="c-38256556">[-]</label><label class="expand" for="c-38256556">[10 more]</label></div><br/><div class="children"><div class="content">Outstanding write-up! We actually built a business based on this technology (occuspace.io) and have had to address almost all the questions that you brought up. To answer some of them here:<p>Q: How accurate is BLE beacon count, as a proxy for occupancy?<p>A: It&#x27;s very highly correlated but different dining locations, classrooms and library floors have very different correlation factors. Consider using other, perhaps more complex features, as well.<p>Q: How accurate is BLE beacon availability time, as a proxy for dwell time?<p>A: We don&#x27;t believe it is very accurate given that BT MAC&#x27;s randomize every 8-20 mins depending on manufacturer.<p>Q: Can we improve the accuracy by setting an RSSI minimum, for which devices weaker than it do not count, to ensure only those who are really nearby get counted?<p>A: That&#x27;s a great idea. It&#x27;s worth noting that different types of spaces and depending on where you installed your sensor, will have different threshold levels.</div><br/><div id="38260259" class="c"><input type="checkbox" id="c-38260259" checked=""/><div class="controls bullet"><span class="by">leobg</span><span>|</span><a href="#38256556">parent</a><span>|</span><a href="#38258725">next</a><span>|</span><label class="collapse" for="c-38260259">[-]</label><label class="expand" for="c-38260259">[1 more]</label></div><br/><div class="children"><div class="content">Can you do fall detection for the elderly?</div><br/></div></div><div id="38258725" class="c"><input type="checkbox" id="c-38258725" checked=""/><div class="controls bullet"><span class="by">georgeashworth</span><span>|</span><a href="#38256556">parent</a><span>|</span><a href="#38260259">prev</a><span>|</span><a href="#38253460">next</a><span>|</span><label class="collapse" for="c-38258725">[-]</label><label class="expand" for="c-38258725">[8 more]</label></div><br/><div class="children"><div class="content">Does this type of occupancy tracking work accurately outdoors? I&#x27;m assuming it would be difficult because signals would travel further. (My startup needs occupancy tracking for tennis courts.)<p>Maybe I could mount a BT device at a corner of the outdoor space and use its signal strength as the threshold value.</div><br/><div id="38260746" class="c"><input type="checkbox" id="c-38260746" checked=""/><div class="controls bullet"><span class="by">sgu999</span><span>|</span><a href="#38256556">root</a><span>|</span><a href="#38258725">parent</a><span>|</span><a href="#38259054">next</a><span>|</span><label class="collapse" for="c-38260746">[-]</label><label class="expand" for="c-38260746">[1 more]</label></div><br/><div class="children"><div class="content">Did you consider using BT or UWB as a radar? On a tennis court you won&#x27;t have any obstacles to worry about, I suspect it&#x27;s relatively easy to solve.<p>UWB in particular is accurate enough to get breathing patterns...</div><br/></div></div><div id="38259054" class="c"><input type="checkbox" id="c-38259054" checked=""/><div class="controls bullet"><span class="by">rsaxvc</span><span>|</span><a href="#38256556">root</a><span>|</span><a href="#38258725">parent</a><span>|</span><a href="#38260746">prev</a><span>|</span><a href="#38259000">next</a><span>|</span><label class="collapse" for="c-38259054">[-]</label><label class="expand" for="c-38259054">[2 more]</label></div><br/><div class="children"><div class="content">If you want to get really spicy, you can use two antennas and an SDR to compute angle of arrival using nothing but a BLE advertisement&#x27;s data . This is different from BLE AoA as it doesn&#x27;t require a cooperative transmitter.</div><br/><div id="38260044" class="c"><input type="checkbox" id="c-38260044" checked=""/><div class="controls bullet"><span class="by">alias_neo</span><span>|</span><a href="#38256556">root</a><span>|</span><a href="#38259054">parent</a><span>|</span><a href="#38259000">next</a><span>|</span><label class="collapse" for="c-38260044">[-]</label><label class="expand" for="c-38260044">[1 more]</label></div><br/><div class="children"><div class="content">If you want to get really, really spicy, use three devices&#x2F;antennas and you can roughly track in three-dimensional space.</div><br/></div></div></div></div><div id="38259000" class="c"><input type="checkbox" id="c-38259000" checked=""/><div class="controls bullet"><span class="by">rsaxvc</span><span>|</span><a href="#38256556">root</a><span>|</span><a href="#38258725">parent</a><span>|</span><a href="#38259054">prev</a><span>|</span><a href="#38259832">next</a><span>|</span><label class="collapse" for="c-38259000">[-]</label><label class="expand" for="c-38259000">[1 more]</label></div><br/><div class="children"><div class="content">You could use the BLE AoA extension as well to derive an angle: <a href="https:&#x2F;&#x2F;www.bluetooth.com&#x2F;blog&#x2F;new-aoa-aod-bluetooth-capabilities&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.bluetooth.com&#x2F;blog&#x2F;new-aoa-aod-bluetooth-capabil...</a></div><br/></div></div><div id="38259832" class="c"><input type="checkbox" id="c-38259832" checked=""/><div class="controls bullet"><span class="by">linvs</span><span>|</span><a href="#38256556">root</a><span>|</span><a href="#38258725">parent</a><span>|</span><a href="#38259000">prev</a><span>|</span><a href="#38259440">next</a><span>|</span><label class="collapse" for="c-38259832">[-]</label><label class="expand" for="c-38259832">[1 more]</label></div><br/><div class="children"><div class="content">It does but we don&#x27;t have a battery powered option (yet) so power availability is the bigger issue. Our sensors can only be outlet powered. Each sensor can cover cover roughly 5,000 sq.ft. or about two tennis courts.</div><br/></div></div><div id="38259440" class="c"><input type="checkbox" id="c-38259440" checked=""/><div class="controls bullet"><span class="by">enva2712</span><span>|</span><a href="#38256556">root</a><span>|</span><a href="#38258725">parent</a><span>|</span><a href="#38259832">prev</a><span>|</span><a href="#38258947">next</a><span>|</span><label class="collapse" for="c-38259440">[-]</label><label class="expand" for="c-38259440">[1 more]</label></div><br/><div class="children"><div class="content">You the same george ashworth that used to work at d&amp;b?</div><br/></div></div><div id="38258947" class="c"><input type="checkbox" id="c-38258947" checked=""/><div class="controls bullet"><span class="by">rsaxvc</span><span>|</span><a href="#38256556">root</a><span>|</span><a href="#38258725">parent</a><span>|</span><a href="#38259440">prev</a><span>|</span><a href="#38253460">next</a><span>|</span><label class="collapse" for="c-38258947">[-]</label><label class="expand" for="c-38258947">[1 more]</label></div><br/><div class="children"><div class="content">You could mount one at each corner and use a directional antenna to help.</div><br/></div></div></div></div></div></div><div id="38253460" class="c"><input type="checkbox" id="c-38253460" checked=""/><div class="controls bullet"><span class="by">filterfiber</span><span>|</span><a href="#38256556">prev</a><span>|</span><a href="#38255792">next</a><span>|</span><label class="collapse" for="c-38253460">[-]</label><label class="expand" for="c-38253460">[14 more]</label></div><br/><div class="children"><div class="content">This is an excellent write up!<p>&gt; Seeed Studio XIAO ESP32S3&#x2F;C3, WaveShare ESP32S3 Zero, Unbranded ESP32-WROOM with OLED, Orange Pi Zero W (untouched), Raspberry Pi Zero W (L-&gt;R, T-&gt;D)
After testing all of these, the only one reliable to work for long periods of time (one month currently) was the XIAO ESP32C3&#x2F;S3.<p>I suspect they may be having power issues? For the ESP32&#x27;s specifically I highly recommend adding a beefy capacitor over the power rails, as those can be rather sensitive to voltage fluctuations especially when transmitting. Both the RPi and ESP&#x27;s can be finicky depending on the power supply&#x2F;cable&#x2F;cable length too, and the RPi&#x27;s sdcard does tend to fail from sudden power loss. They should all be capable of at least a month, my pi&#x27;s and esp&#x27;s have gone several months.<p>I&#x27;d be curious to see the results from other ESP32&#x27;s (or even the pi) with a larger capacitor added.</div><br/><div id="38253566" class="c"><input type="checkbox" id="c-38253566" checked=""/><div class="controls bullet"><span class="by">sodality2</span><span>|</span><a href="#38253460">parent</a><span>|</span><a href="#38260071">next</a><span>|</span><label class="collapse" for="c-38253566">[-]</label><label class="expand" for="c-38253566">[10 more]</label></div><br/><div class="children"><div class="content">It’s definitely not a reliability issue, with the platform - ESP32 in general is very popular so it’s surely an issue with my usage. I’m fairly certain it’s just a cheap manufacturer issue I ran into. I bought essentially a no-name ESP32 at first and that’s the one that refused to last. Proper manufacturer solved that issue for me and now ESP32 works just fine.<p>The raspberry pi actually never worked, largely because I tried to shoehorn way too much complexity in and manage too many things. It’s just a BT scan and a HTTP call.<p>I don’t think it’s a power issue as it’s getting 5V1A from a power outlet directly to USB-C into the device. Though that’s definitely something I need to look into, as the Xiao ESP32-S3 I have also had intermittent issues, and IIRC the XTensa cores are more power-hungry than its RISC-V based sibling, the ESP32-C3.</div><br/><div id="38253773" class="c"><input type="checkbox" id="c-38253773" checked=""/><div class="controls bullet"><span class="by">filterfiber</span><span>|</span><a href="#38253460">root</a><span>|</span><a href="#38253566">parent</a><span>|</span><a href="#38255921">next</a><span>|</span><label class="collapse" for="c-38253773">[-]</label><label class="expand" for="c-38253773">[2 more]</label></div><br/><div class="children"><div class="content">&gt; I don’t think it’s a power issue as it’s getting 5V1A from a power outlet directly to USB-C into the device.<p>It&#x27;s not the total voltage&#x2F;wattage the PSU can provide, but the voltage at the processor.<p>The ESP&#x27;s varying current draw notoriously causes too much noise and a lot of boards don&#x27;t have large enough decoupling capacitors so the voltage drops too much and it glitches out. Also a warning that USB PSU&#x27;s can very MASSIVELY in quality (I&#x27;d suggest an apple one for testing if you have one handy).<p>I think you&#x27;re right that the RISC-V processor is either better behaved and draws power more consistently, or the board has shorter traces to it&#x27;s bypass capacitor or a larger bypass capacitor.</div><br/><div id="38257189" class="c"><input type="checkbox" id="c-38257189" checked=""/><div class="controls bullet"><span class="by">stavros</span><span>|</span><a href="#38253460">root</a><span>|</span><a href="#38253773">parent</a><span>|</span><a href="#38255921">next</a><span>|</span><label class="collapse" for="c-38257189">[-]</label><label class="expand" for="c-38257189">[1 more]</label></div><br/><div class="children"><div class="content">This is correct, I thought it wasn&#x27;t and was going crazy trying to debug my Pi 3 resetting my 3D printer every time, with any of ten power supplies I tried, including a configurable bench PSU.<p>I switched to the official Pi PSU after someone said &quot;trust me on this&quot; online, and yep, zero issues in all the years since.</div><br/></div></div></div></div><div id="38255921" class="c"><input type="checkbox" id="c-38255921" checked=""/><div class="controls bullet"><span class="by">sokoloff</span><span>|</span><a href="#38253460">root</a><span>|</span><a href="#38253566">parent</a><span>|</span><a href="#38253773">prev</a><span>|</span><a href="#38253804">next</a><span>|</span><label class="collapse" for="c-38255921">[-]</label><label class="expand" for="c-38255921">[3 more]</label></div><br/><div class="children"><div class="content">I chased a reliability problem with an RPi3 for a while before figuring out it was a poor quality  USB cable that I was using for power.<p>Not saying that’s your issue obviously, but I spent a couple more hours than I really should have swapping USB power bricks but not the cable (because it was threaded through the printer enclosure and laziness prevailed).</div><br/><div id="38255960" class="c"><input type="checkbox" id="c-38255960" checked=""/><div class="controls bullet"><span class="by">sodality2</span><span>|</span><a href="#38253460">root</a><span>|</span><a href="#38255921">parent</a><span>|</span><a href="#38253804">next</a><span>|</span><label class="collapse" for="c-38255960">[-]</label><label class="expand" for="c-38255960">[2 more]</label></div><br/><div class="children"><div class="content">I didn’t consider that as highly as the outlet adapter since that’s what pushes the amperage and wattage, but thanks, I’ll definitely be investigating that next!</div><br/><div id="38260113" class="c"><input type="checkbox" id="c-38260113" checked=""/><div class="controls bullet"><span class="by">alias_neo</span><span>|</span><a href="#38253460">root</a><span>|</span><a href="#38255960">parent</a><span>|</span><a href="#38253804">next</a><span>|</span><label class="collapse" for="c-38260113">[-]</label><label class="expand" for="c-38260113">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve found cable quality to be quite important for Raspberry Pi, particularly if you&#x27;re not using an official adapter, the head room can be low and the resistance of the cable can tip it over.<p>I haven&#x27;t had major issues with ESP devices but I try to keep them on &lt;30cm cables of decent quality and ensure they&#x27;re shielded. Though I haven&#x27;t tested experimentally, I&#x27;d expect low quality, poorly shielded cables to have some effect on the signal quality.</div><br/></div></div></div></div></div></div><div id="38253804" class="c"><input type="checkbox" id="c-38253804" checked=""/><div class="controls bullet"><span class="by">londons_explore</span><span>|</span><a href="#38253460">root</a><span>|</span><a href="#38253566">parent</a><span>|</span><a href="#38255921">prev</a><span>|</span><a href="#38253956">next</a><span>|</span><label class="collapse" for="c-38253804">[-]</label><label class="expand" for="c-38253804">[3 more]</label></div><br/><div class="children"><div class="content">Are you sure that the system isn&#x27;t still running, but it has just disconnected from wifi and is failing to reconnect?    I have a few status LED&#x27;s flashing to show the main CPU is still running, and it often is, even when the device has fallen off the network.<p>I find that happens fairly frequently unfortunately, and haven&#x27;t managed to track down the cause.</div><br/><div id="38253913" class="c"><input type="checkbox" id="c-38253913" checked=""/><div class="controls bullet"><span class="by">sodality2</span><span>|</span><a href="#38253460">root</a><span>|</span><a href="#38253804">parent</a><span>|</span><a href="#38253956">next</a><span>|</span><label class="collapse" for="c-38253913">[-]</label><label class="expand" for="c-38253913">[2 more]</label></div><br/><div class="children"><div class="content">Hm, that’s a good call. I have a callback on the connection dropped to reconnect but it’s possible it needs a full reboot? I’m going to have to sit in on the serial monitor and wait until something happens and see. Thanks for the tip!</div><br/><div id="38254045" class="c"><input type="checkbox" id="c-38254045" checked=""/><div class="controls bullet"><span class="by">londons_explore</span><span>|</span><a href="#38253460">root</a><span>|</span><a href="#38253913">parent</a><span>|</span><a href="#38253956">next</a><span>|</span><label class="collapse" for="c-38254045">[-]</label><label class="expand" for="c-38254045">[1 more]</label></div><br/><div class="children"><div class="content">I live in a very wifi-busy area (hundreds of networks), and I suspect that the wifi logic somehow hangs itself waiting for some packet&#x2F;message&#x2F;state which gets lost and never comes.</div><br/></div></div></div></div></div></div></div></div><div id="38260071" class="c"><input type="checkbox" id="c-38260071" checked=""/><div class="controls bullet"><span class="by">alias_neo</span><span>|</span><a href="#38253460">parent</a><span>|</span><a href="#38253566">prev</a><span>|</span><a href="#38255659">next</a><span>|</span><label class="collapse" for="c-38260071">[-]</label><label class="expand" for="c-38260071">[1 more]</label></div><br/><div class="children"><div class="content">I have a bunch of ESP32s performing critical-infrastructure tasks in my Home Automation; they&#x27;ve been running flawlessly for about a year now; I update them occasionally (ESPHome) but haven&#x27;t had any issues.<p>Some of them perform multiple tasks, e.g. one of them is Bluetooth proxy in my home office, but it also runs the light strip along my Skadis wall boards.<p>I&#x27;m using some random brand ones from a company called &quot;AZDelivery&quot; on Amazon.<p>I haven&#x27;t done anything special to them; they sit in 3D printed cases, and are plugged in with relatively short cables (usually &lt;30cm where outlets allow) into at least 5V&#x2F;1A adapters.</div><br/></div></div><div id="38255659" class="c"><input type="checkbox" id="c-38255659" checked=""/><div class="controls bullet"><span class="by">jetbalsa</span><span>|</span><a href="#38253460">parent</a><span>|</span><a href="#38260071">prev</a><span>|</span><a href="#38255792">next</a><span>|</span><label class="collapse" for="c-38255659">[-]</label><label class="expand" for="c-38255659">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;m a huge fan of using Alpine with the RPi due to reducing writes to the SDCard. it will only save data to disk with a lbu commit -d and by default boots into a kind of tempfs.</div><br/><div id="38260132" class="c"><input type="checkbox" id="c-38260132" checked=""/><div class="controls bullet"><span class="by">alias_neo</span><span>|</span><a href="#38253460">root</a><span>|</span><a href="#38255659">parent</a><span>|</span><a href="#38255792">next</a><span>|</span><label class="collapse" for="c-38260132">[-]</label><label class="expand" for="c-38260132">[1 more]</label></div><br/><div class="children"><div class="content">I have been using Alpine for a while but didn&#x27;t know this!<p>At the moment, I&#x27;m looking for a way to make my storage more resilient on a Pi I&#x27;m using to host Hashicorp Vault, for secrets in Filesystem mode.<p>First I looked at high-resilience SD cards, but I don&#x27;t really want them stored on the OS card anyway, also considered just getting a high-quality USB stick and mounting the secrets storage to that; It sounds like a combination of one of these (or perhaps another, similar option) alongside Alpine to reduce writes to the OS SD could be the ticket.<p>I have a couple of Pis on my network edge running things like WireGuard, with the root mounted read-only to try and help with the issue of SD card resilience; I&#x27;ve killed dozens upon dozens of SD cards in Pis over the years.</div><br/></div></div></div></div></div></div><div id="38255792" class="c"><input type="checkbox" id="c-38255792" checked=""/><div class="controls bullet"><span class="by">neilv</span><span>|</span><a href="#38253460">prev</a><span>|</span><a href="#38255606">next</a><span>|</span><label class="collapse" for="c-38255792">[-]</label><label class="expand" for="c-38255792">[5 more]</label></div><br/><div class="children"><div class="content">Since this was done by a student at a university, and at some level this involves tracking people, that&#x27;s an opportunity to ask a professor about what human subjects protocols you&#x27;d need if this was research.<p>(A professor might be easier to ask than the university human subjects board -- who might refuse to talk with you because this isn&#x27;t under their jurisdiction, or might get alarmed because you didn&#x27;t talk with them sooner.)<p>There might also be campus IT privacy&amp;security policies that apply.  Of course people are getting violated much harder by ordinary Web sites, apps, and IoT devices, but sometimes universities aspire to be better than the outer world.</div><br/><div id="38260151" class="c"><input type="checkbox" id="c-38260151" checked=""/><div class="controls bullet"><span class="by">alias_neo</span><span>|</span><a href="#38255792">parent</a><span>|</span><a href="#38256202">next</a><span>|</span><label class="collapse" for="c-38260151">[-]</label><label class="expand" for="c-38260151">[2 more]</label></div><br/><div class="children"><div class="content">I wonder what the &quot;rules&quot; are for things like tracking beacons. They&#x27;re being broadcast, and they&#x27;re almost certainly collected without consent everywhere we go.<p>I happen to live at a junction where my home is regularly surrounded by large numbers of Bluetooth devices; I had considered setting up a BLE tracker purely for &quot;fun&quot; to see what I could collect and discern from the data.<p>For example, one thing I&#x27;m certain of, is a correlation between poor air quality in my home and the arrival of these Bluetooth devices in the area.</div><br/><div id="38260573" class="c"><input type="checkbox" id="c-38260573" checked=""/><div class="controls bullet"><span class="by">wutwutwat</span><span>|</span><a href="#38255792">root</a><span>|</span><a href="#38260151">parent</a><span>|</span><a href="#38256202">next</a><span>|</span><label class="collapse" for="c-38260573">[-]</label><label class="expand" for="c-38260573">[1 more]</label></div><br/><div class="children"><div class="content">&gt; So a hidden industry of third-party location-marketing firms has proliferated in response. These companies take their beacon tracking code and bundle it into a toolkit developers can use. The makers of many popular apps, such as those for news or weather updates, insert these toolkits into their apps<p>&gt; Location marketing aims to understand “online-offline attribution.” If a Starbucks coffee ad is sent to your email, for example, marketers want to know if you actually went there and bought a coffee. The only way to know is to monitor your online and offline habits at all times.<p>&gt; Beacons are also being used for smart cities initiatives. The location company Gimbal provided beacons for LinkNYC kiosks that provoked privacy concerns about tracking passers-by. Beacon initiatives have been started in other cities, including Amsterdam (in partnership with Google), London and Norwich.<p><a href="https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20231027211008&#x2F;https:&#x2F;&#x2F;www.nytimes.com&#x2F;interactive&#x2F;2019&#x2F;06&#x2F;14&#x2F;opinion&#x2F;bluetooth-wireless-tracking-privacy.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20231027211008&#x2F;https:&#x2F;&#x2F;www.nytim...</a><p>It&#x27;s the wild west. We&#x27;re illegally surveilled every day and the government uses the same data in product that allow them to track people without warrants<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Fog_Reveal" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Fog_Reveal</a><p>There are no &quot;rules&quot; against receiving a signal. All you need is a radio that can pick them up. The rules apply to those broadcasting things afaik</div><br/></div></div></div></div><div id="38256202" class="c"><input type="checkbox" id="c-38256202" checked=""/><div class="controls bullet"><span class="by">sodality2</span><span>|</span><a href="#38255792">parent</a><span>|</span><a href="#38260151">prev</a><span>|</span><a href="#38256692">next</a><span>|</span><label class="collapse" for="c-38256202">[-]</label><label class="expand" for="c-38256202">[1 more]</label></div><br/><div class="children"><div class="content">Yep, I’m talking to a professor about exactly this. Didn’t want to include that in case it doesn’t work out though!</div><br/></div></div><div id="38256692" class="c"><input type="checkbox" id="c-38256692" checked=""/><div class="controls bullet"><span class="by">elijahwright</span><span>|</span><a href="#38255792">parent</a><span>|</span><a href="#38256202">prev</a><span>|</span><a href="#38255606">next</a><span>|</span><label class="collapse" for="c-38256692">[-]</label><label class="expand" for="c-38256692">[1 more]</label></div><br/><div class="children"><div class="content">People lie to their IRBs all the time, unfortunately.</div><br/></div></div></div></div><div id="38255606" class="c"><input type="checkbox" id="c-38255606" checked=""/><div class="controls bullet"><span class="by">qwertox</span><span>|</span><a href="#38255792">prev</a><span>|</span><a href="#38255950">next</a><span>|</span><label class="collapse" for="c-38255606">[-]</label><label class="expand" for="c-38255606">[5 more]</label></div><br/><div class="children"><div class="content">My alarm clock consists of an ESP32 and has a somewhat big LED-array connected to it (powered by a transistor), a buzzer and a PIR sensor. It doesn&#x27;t show the time, but buzzes (and flashes) and takes care of slowly brightening the room, or at night slowly dimming it into darkness some time after all the lights have been turned off.<p>One added benefit I discovered afterwards is that even though the AP is not between me and the ESP, I seem to reflect enough RF so that logging the RSSI provides information not only about when I&#x27;m in the bed, but also when I change position at night.<p><a href="https:&#x2F;&#x2F;imgur.com&#x2F;a&#x2F;VixOlu5" rel="nofollow noreferrer">https:&#x2F;&#x2F;imgur.com&#x2F;a&#x2F;VixOlu5</a> (edit: no erotic content despite the warning)<p>The green one in the middle is the RSSI, the yellow at the bottom the PIR sensor, the top one a mix of the data from my Mi Band 3 plus an annotation of when I was in bed (yes I did spend a lot of time reading news before falling asleep and before getting up)</div><br/><div id="38256316" class="c"><input type="checkbox" id="c-38256316" checked=""/><div class="controls bullet"><span class="by">picture</span><span>|</span><a href="#38255606">parent</a><span>|</span><a href="#38255950">next</a><span>|</span><label class="collapse" for="c-38256316">[-]</label><label class="expand" for="c-38256316">[4 more]</label></div><br/><div class="children"><div class="content">What was your stack like for data collection and visualization?</div><br/><div id="38256705" class="c"><input type="checkbox" id="c-38256705" checked=""/><div class="controls bullet"><span class="by">qwertox</span><span>|</span><a href="#38255606">root</a><span>|</span><a href="#38256316">parent</a><span>|</span><a href="#38256567">next</a><span>|</span><label class="collapse" for="c-38256705">[-]</label><label class="expand" for="c-38256705">[1 more]</label></div><br/><div class="children"><div class="content">Sent via UDP to a small custom Python server which feeds it into InfluxDB, then Grafana for visualization.</div><br/></div></div><div id="38256567" class="c"><input type="checkbox" id="c-38256567" checked=""/><div class="controls bullet"><span class="by">punkybr3wster</span><span>|</span><a href="#38255606">root</a><span>|</span><a href="#38256316">parent</a><span>|</span><a href="#38256705">prev</a><span>|</span><a href="#38255950">next</a><span>|</span><label class="collapse" for="c-38256567">[-]</label><label class="expand" for="c-38256567">[2 more]</label></div><br/><div class="children"><div class="content">Ditto! I’d also love to know what is being used for the visualizations.</div><br/><div id="38256639" class="c"><input type="checkbox" id="c-38256639" checked=""/><div class="controls bullet"><span class="by">outworlder</span><span>|</span><a href="#38255606">root</a><span>|</span><a href="#38256567">parent</a><span>|</span><a href="#38255950">next</a><span>|</span><label class="collapse" for="c-38256639">[-]</label><label class="expand" for="c-38256639">[1 more]</label></div><br/><div class="children"><div class="content">Not OP but the screenshot looks identical to Grafana.</div><br/></div></div></div></div></div></div></div></div><div id="38255950" class="c"><input type="checkbox" id="c-38255950" checked=""/><div class="controls bullet"><span class="by">raajg</span><span>|</span><a href="#38255606">prev</a><span>|</span><a href="#38260117">next</a><span>|</span><label class="collapse" for="c-38255950">[-]</label><label class="expand" for="c-38255950">[2 more]</label></div><br/><div class="children"><div class="content">&gt; not losing momentum in a nerd snipe like this is CRITICAL<p>This line got me laughing! My nerd brain has tried so many times to convince me to splurge money with this exact line!</div><br/><div id="38260196" class="c"><input type="checkbox" id="c-38260196" checked=""/><div class="controls bullet"><span class="by">alias_neo</span><span>|</span><a href="#38255950">parent</a><span>|</span><a href="#38260117">next</a><span>|</span><label class="collapse" for="c-38260196">[-]</label><label class="expand" for="c-38260196">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s funny, but it&#x27;s also true. There are definitely times when I&#x27;m more &quot;in the mood&quot; for projects; In the winter particularly, I work more on my electronic projects, and do more gaming (my Gaming &quot;season&quot; just started again last week).<p>Of course the dramatic shift from &quot;what do I feel like doing today&quot; to &quot;what am I in the mood for &#x2F; have time for this season&quot; has a lot to do with me being older and having children now, but with such huge gaps between me being willing&#x2F;able to do such projects, losing momentum could mean coming back to something an entire year later, if ever.<p>I started an electronics project, at least 10 years ago now. It&#x27;s &quot;infamous&quot; in my family, particularly when my wife needs something to poke at with my projects, for being the project I started over a decade ago, spent a tidy sum on, and am still adamant I will finish one day!</div><br/></div></div></div></div><div id="38260117" class="c"><input type="checkbox" id="c-38260117" checked=""/><div class="controls bullet"><span class="by">Simon_ORourke</span><span>|</span><a href="#38255950">prev</a><span>|</span><a href="#38255132">next</a><span>|</span><label class="collapse" for="c-38260117">[-]</label><label class="expand" for="c-38260117">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;m wondering how accurate this might prove measuring automobile traffic on a relatively busy street?<p>I&#x27;ve been pondering some way to track the number of vehicles that pass my house each day, and would like (but not ideal) to get their average speed too. Was thinking about computer vision, and even audio doppler approaches, but this seems simpler - if only the bluetooth sensing might work on a device moving at 50mph+ at a distance of maybe 20 to 100 yards.</div><br/><div id="38260335" class="c"><input type="checkbox" id="c-38260335" checked=""/><div class="controls bullet"><span class="by">the-kenny</span><span>|</span><a href="#38260117">parent</a><span>|</span><a href="#38260176">next</a><span>|</span><label class="collapse" for="c-38260335">[-]</label><label class="expand" for="c-38260335">[1 more]</label></div><br/><div class="children"><div class="content">I have an unorthodox suggestion: get a bicycle rear radar like the Garmin Varia. They communicate via Bluetooth LE incoming cars, their count, and an average speed (in a set of ranges like 0-15km&#x2F;h, 15-30km&#x2F;h, …).<p>Mount this with a usb cable somewhere, add an ESP32 or anything with Bluetooth somewhere else to accumulate.</div><br/></div></div></div></div><div id="38255132" class="c"><input type="checkbox" id="c-38255132" checked=""/><div class="controls bullet"><span class="by">davidw</span><span>|</span><a href="#38260117">prev</a><span>|</span><a href="#38254620">next</a><span>|</span><label class="collapse" for="c-38255132">[-]</label><label class="expand" for="c-38255132">[58 more]</label></div><br/><div class="children"><div class="content">How do people &quot;productize&quot; their ESP32 projects? (Edit: not talking about mass-producing something, I just want a self-contained unit rather than a board with a bunch of wires sticking out)<p>I see a lot of pages where they show some bare-looking board, but in the real world you want to package that up.<p>If you&#x27;re a software guy like me, you would likely prefer to pay a bit extra to just have that tidied up for you rather than fiddle around with stuff.</div><br/><div id="38256664" class="c"><input type="checkbox" id="c-38256664" checked=""/><div class="controls bullet"><span class="by">dragontamer</span><span>|</span><a href="#38255132">parent</a><span>|</span><a href="#38256115">next</a><span>|</span><label class="collapse" for="c-38256664">[-]</label><label class="expand" for="c-38256664">[1 more]</label></div><br/><div class="children"><div class="content">If you&#x27;re handy with wood, you use wood.<p>If you&#x27;ve got a 3d printer, you make a 3d print.<p>If you&#x27;re more of a acrylic guy, then you take your laser-cutter, cut out some shapes, drill a few holes and bam you&#x27;ve got a box.<p>If you got none of these and just want a bare-necessities box, you use an Altoids Tin that costs about $25 for 12 tins... and they have these kinda useless mints in them though. So you buy those boxes, then you throw away the mints and shove your project in there.<p>If you want slightly better than the Altoids tin, you buy a Hammon Enclosure. (<a href="https:&#x2F;&#x2F;www.hammfg.com&#x2F;electronics&#x2F;small-case" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.hammfg.com&#x2F;electronics&#x2F;small-case</a>).<p>If you&#x27;re like me, you wrap it in electrical tape, and then wrap that in duct tape or something. Maybe color on it with permanent marker.</div><br/></div></div><div id="38256115" class="c"><input type="checkbox" id="c-38256115" checked=""/><div class="controls bullet"><span class="by">boustrophedon</span><span>|</span><a href="#38255132">parent</a><span>|</span><a href="#38256664">prev</a><span>|</span><a href="#38255200">next</a><span>|</span><label class="collapse" for="c-38256115">[-]</label><label class="expand" for="c-38256115">[1 more]</label></div><br/><div class="children"><div class="content">There are a lot of companies that make electronics enclosures. Some of them are waterproof. Usually they have a couple pre-drilled mounting flanges to screw in the board as well, and then you&#x27;d drill your own external holes for input&#x2F;output as necessary. Here&#x27;s a couple manufacturers, and you can usually find stuff on e.g. adafruit and digikey as well to save on shipping if you&#x27;re buying dev boards or other parts from them already.<p><a href="https:&#x2F;&#x2F;www.hammfg.com&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.hammfg.com&#x2F;</a>
<a href="https:&#x2F;&#x2F;www.budind.com&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.budind.com&#x2F;</a>
<a href="http:&#x2F;&#x2F;takachi-enclosure.com&#x2F;" rel="nofollow noreferrer">http:&#x2F;&#x2F;takachi-enclosure.com&#x2F;</a>
<a href="https:&#x2F;&#x2F;www.adafruit.com&#x2F;product&#x2F;903" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.adafruit.com&#x2F;product&#x2F;903</a></div><br/></div></div><div id="38255200" class="c"><input type="checkbox" id="c-38255200" checked=""/><div class="controls bullet"><span class="by">bluGill</span><span>|</span><a href="#38255132">parent</a><span>|</span><a href="#38256115">prev</a><span>|</span><a href="#38259733">next</a><span>|</span><label class="collapse" for="c-38255200">[-]</label><label class="expand" for="c-38255200">[8 more]</label></div><br/><div class="children"><div class="content">There are lots of options.  Most of what you see they don&#x27;t: this is a one off project for the hacker and if others find it useful great, but not the goal.   As such packaging isn&#x27;t needed, sometimes you shove it in a box.<p>If you want something nice, that can be done, now you need to pay someone (could be yourself!) to design a package.  ESP32 is designed to be easy to put into your own products, this means design a circuit board and case to fit each other, and so on.  Then you buy the ESP32 chips in bulk and assemble them onto the circuit board.  The board you buy for a prototype is officially only a reference board and not what they expect you to ship (though shipping the board is common: they are small, cheap, and someone else did the hard board design)</div><br/><div id="38255223" class="c"><input type="checkbox" id="c-38255223" checked=""/><div class="controls bullet"><span class="by">davidw</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38255200">parent</a><span>|</span><a href="#38259733">next</a><span>|</span><label class="collapse" for="c-38255223">[-]</label><label class="expand" for="c-38255223">[7 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not really talking about producing something at scale, just the bare minimum of not having a board with wires coming out of it.<p>Say I want to do some one-off project and put it outside somewhere, out of the weather, with some batteries to power it.<p>Or an indoor thing with an AC hookup of some kind.<p>Doesn&#x27;t have to be perfect or beautiful or as tiny as possible; just sort of a complete package.</div><br/><div id="38259709" class="c"><input type="checkbox" id="c-38259709" checked=""/><div class="controls bullet"><span class="by">anigbrowl</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38255223">parent</a><span>|</span><a href="#38256186">next</a><span>|</span><label class="collapse" for="c-38259709">[-]</label><label class="expand" for="c-38259709">[1 more]</label></div><br/><div class="children"><div class="content">Time for me to shill m5stack.com again<p>I don&#x27;t work for them, I just really like their products and own about 10 of them. Downside, the documentation is rudimentary so you should enjoy steep learning curves (but not too steep - The ESP-IDF and MicroPython docs will get you through most problems).</div><br/></div></div><div id="38256186" class="c"><input type="checkbox" id="c-38256186" checked=""/><div class="controls bullet"><span class="by">HeyLaughingBoy</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38255223">parent</a><span>|</span><a href="#38259709">prev</a><span>|</span><a href="#38256174">next</a><span>|</span><label class="collapse" for="c-38256186">[-]</label><label class="expand" for="c-38256186">[1 more]</label></div><br/><div class="children"><div class="content">I mentioned M5Stack above. An alternative is to buy an off the shelf display, e.g., from Polycase -- an outfit I&#x27;ve used a lot and mount your board inside.<p>There are literally tens of thousands of off the shelf electronics enclosures for every likely possibility. From massive control panel boxes measured in multiple feet, to watch-sized enclosures with straps for items designed to be worn on your wrist. You&#x27;ll find something suitable no matter what.</div><br/></div></div><div id="38256174" class="c"><input type="checkbox" id="c-38256174" checked=""/><div class="controls bullet"><span class="by">amenghra</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38255223">parent</a><span>|</span><a href="#38256186">prev</a><span>|</span><a href="#38255315">next</a><span>|</span><label class="collapse" for="c-38256174">[-]</label><label class="expand" for="c-38256174">[2 more]</label></div><br/><div class="children"><div class="content">You can buy project boxes. Some of them come with breadboards&#x2F;perfboard that properly fit with screws (e.g. <a href="https:&#x2F;&#x2F;discountbloc.ru&#x2F;archive&#x2F;products&#x2F;xwzz1130z33x.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;discountbloc.ru&#x2F;archive&#x2F;products&#x2F;xwzz1130z33x.html</a>). Alternative is to 3D print a box.<p>Altoids box is a classic. Food plastic boxes also works depending how hot the components run.</div><br/><div id="38256428" class="c"><input type="checkbox" id="c-38256428" checked=""/><div class="controls bullet"><span class="by">XorNot</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38256174">parent</a><span>|</span><a href="#38255315">next</a><span>|</span><label class="collapse" for="c-38256428">[-]</label><label class="expand" for="c-38256428">[1 more]</label></div><br/><div class="children"><div class="content">AliExpress has a number of companies selling the &quot;generic black rectangle&quot; that looks a bit like an Apple TV now. I&#x27;ve been meaning to buy a couple and see what they&#x27;re like to work with, because that&#x27;s the overall effect I really want - something that looks like a router or generic company product.</div><br/></div></div></div></div><div id="38255325" class="c"><input type="checkbox" id="c-38255325" checked=""/><div class="controls bullet"><span class="by">qwertox</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38255223">parent</a><span>|</span><a href="#38255315">prev</a><span>|</span><a href="#38259733">next</a><span>|</span><label class="collapse" for="c-38255325">[-]</label><label class="expand" for="c-38255325">[1 more]</label></div><br/><div class="children"><div class="content">I just buy new small breadboards and jumper wires and make it so that it looks nice. Jumper wires of the proper length, not jumper cables.</div><br/></div></div></div></div></div></div><div id="38259733" class="c"><input type="checkbox" id="c-38259733" checked=""/><div class="controls bullet"><span class="by">qiqitori</span><span>|</span><a href="#38255132">parent</a><span>|</span><a href="#38255200">prev</a><span>|</span><a href="#38255605">next</a><span>|</span><label class="collapse" for="c-38259733">[-]</label><label class="expand" for="c-38259733">[1 more]</label></div><br/><div class="children"><div class="content">If it uses Bluetooth you&#x27;re theoretically on the hook for thousands of dollars if you want to sell your ESP32 project as a product. (IANAL; it may take a lawyer to truly understand if you have to pay or not.)</div><br/></div></div><div id="38255605" class="c"><input type="checkbox" id="c-38255605" checked=""/><div class="controls bullet"><span class="by">serial_dev</span><span>|</span><a href="#38255132">parent</a><span>|</span><a href="#38259733">prev</a><span>|</span><a href="#38257889">next</a><span>|</span><label class="collapse" for="c-38255605">[-]</label><label class="expand" for="c-38255605">[1 more]</label></div><br/><div class="children"><div class="content">You get a &quot;product designer&quot; (?) who designs a case. If your product is &quot;standard enough&quot;, you might skip this step.<p>Then, you reach out to local manufacturers and ones from bigger markets. You get some samples, you check if things work like they should. If you like it, order a smaller batch. Design a quality assurance workflow, or find a specialist who can help you with that so that the manufacturer doesn&#x27;t ship you 20% faulty products.<p>Get your products onto the shelves of a brick and mortar store, and&#x2F;or create a website, sell on Amazon and other portals.<p>Talk to your customers, listen to their feedback, improve every step a little.<p>It sounds overwhelming.<p>I worked for a small smart home startup, and I learned that, for example, in Shenzhen, there is a whole industry ready to help entrepreneurs realize their dream products, and at every step of the way, you can contract someone to help you. In our experience, the Chinese service was both much better, cheaper, faster than European offers.</div><br/></div></div><div id="38257889" class="c"><input type="checkbox" id="c-38257889" checked=""/><div class="controls bullet"><span class="by">dekhn</span><span>|</span><a href="#38255132">parent</a><span>|</span><a href="#38255605">prev</a><span>|</span><a href="#38255840">next</a><span>|</span><label class="collapse" for="c-38257889">[-]</label><label class="expand" for="c-38257889">[1 more]</label></div><br/><div class="children"><div class="content">I wouldn&#x27;t call it &quot;productize&quot;, but when I wanted to give an ESP32 project to a friend who would be using it, I did these things: designed and printed a case for the ESP32.  The ESP32 is soldered into a perma-proto and all wire connections are soldered to the ESP32&#x27;s terminals (I don&#x27;t use a solderless breadboard, or Dupont wires, once I&#x27;m done with the design).  The perma-proto is screwed into posts in the case (as are several daughterboards).  The user-controlled potentiometer is also soldered into the perma-proto and is tightly screwed into the case.  There&#x27;s a power jack screwed into the case, and all wiring in&#x2F;out of the case goes through a &quot;cable gland&quot; and the cables, outside the case, and wrapped into nylon sleeve with strain relief.  And an on&#x2F;off switch.<p>example: <a href="https:&#x2F;&#x2F;www.printables.com&#x2F;model&#x2F;72839-stable-and-waterproof-electronic-box-enclosure" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.printables.com&#x2F;model&#x2F;72839-stable-and-waterproof...</a>.  If I am using screw terminals, wires are terminated with ferrules.<p>For some projects that use 120V AC directly, I&#x27;ve purchased nice receptacle with fuse, and grounded the metal casing.  But I don&#x27;t feel comfortable distributing those.<p>I have also been known to encase an entire project in clear epoxy (the first &quot;maker&quot; project I did, thanks to an enlightened shop teacher in the 1980s, was a nightlight using only 3 components, encased in epoxy; they work some 35 years later!)<p>Some things I can think of to go further: designing my own PCB instead of using perma-proto.  FInding better temporary connectors (duponts are not reliable).  Eliminating the ESP32, replacing it with simpler logic circuits when possible.</div><br/></div></div><div id="38255840" class="c"><input type="checkbox" id="c-38255840" checked=""/><div class="controls bullet"><span class="by">mkingston</span><span>|</span><a href="#38255132">parent</a><span>|</span><a href="#38257889">prev</a><span>|</span><a href="#38256140">next</a><span>|</span><label class="collapse" for="c-38255840">[-]</label><label class="expand" for="c-38255840">[1 more]</label></div><br/><div class="children"><div class="content">I mount the board on some nylon standoffs through a takeaway box lid. The rest of the takeaway box is the enclosure. I drill some holes through the takeaway box for wire ingress and egress.<p>I use a tupperware container if I&#x27;m feeling fancy.</div><br/></div></div><div id="38256140" class="c"><input type="checkbox" id="c-38256140" checked=""/><div class="controls bullet"><span class="by">HeyLaughingBoy</span><span>|</span><a href="#38255132">parent</a><span>|</span><a href="#38255840">prev</a><span>|</span><a href="#38256163">next</a><span>|</span><label class="collapse" for="c-38256140">[-]</label><label class="expand" for="c-38256140">[2 more]</label></div><br/><div class="children"><div class="content">I am a huge fan of M5Stack. Take a look at the Tough or Core units. You get an ESP32 with couple of peripherals (speaker, buzzer, real-time clock) and a TFT touchscreen all in a case. Water-resistant in the case of the M5Stack Tough.<p>I&#x27;ve shipped a couple of consulting products based on them and it really cuts down on the work I need to do in order to build product.</div><br/><div id="38256252" class="c"><input type="checkbox" id="c-38256252" checked=""/><div class="controls bullet"><span class="by">davidw</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38256140">parent</a><span>|</span><a href="#38256163">next</a><span>|</span><label class="collapse" for="c-38256252">[-]</label><label class="expand" for="c-38256252">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s exactly the kind of thing I&#x27;m talking about. You could take those and plug them together and be basically ready to go, rather than &quot;just&quot; investing in a bunch of 3D printing and soldering and lord only knows what else. Maybe it costs a bit more, but that&#x27;s fine - you get something that you can use somewhere besides sitting on your desk with a bunch of exposed wires.</div><br/></div></div></div></div><div id="38256163" class="c"><input type="checkbox" id="c-38256163" checked=""/><div class="controls bullet"><span class="by">jpcfl</span><span>|</span><a href="#38255132">parent</a><span>|</span><a href="#38256140">prev</a><span>|</span><a href="#38255165">next</a><span>|</span><label class="collapse" for="c-38256163">[-]</label><label class="expand" for="c-38256163">[1 more]</label></div><br/><div class="children"><div class="content">You can design both a circuit board and a case with Fusion360, which is free for personal use. Use JLCPCB to assemble the board for you. You can 3D print the case yourself.<p>It took me about 20hr to learn how to use Fusion360 and make a simple circuit and case this way.</div><br/></div></div><div id="38255165" class="c"><input type="checkbox" id="c-38255165" checked=""/><div class="controls bullet"><span class="by">lostapathy</span><span>|</span><a href="#38255132">parent</a><span>|</span><a href="#38256163">prev</a><span>|</span><a href="#38255344">next</a><span>|</span><label class="collapse" for="c-38255165">[-]</label><label class="expand" for="c-38255165">[17 more]</label></div><br/><div class="children"><div class="content">3d printed enclosure?</div><br/><div id="38255183" class="c"><input type="checkbox" id="c-38255183" checked=""/><div class="controls bullet"><span class="by">davidw</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38255165">parent</a><span>|</span><a href="#38255344">next</a><span>|</span><label class="collapse" for="c-38255183">[-]</label><label class="expand" for="c-38255183">[16 more]</label></div><br/><div class="children"><div class="content">That sounds like one of those &quot;I have a problem... now I have two problems&quot; jokes.<p>I wanted something simple and cheap and now I need to go deal with this whole other thing I don&#x27;t know much about and either rent or buy into it?</div><br/><div id="38255216" class="c"><input type="checkbox" id="c-38255216" checked=""/><div class="controls bullet"><span class="by">krasin</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38255183">parent</a><span>|</span><a href="#38255630">next</a><span>|</span><label class="collapse" for="c-38255216">[-]</label><label class="expand" for="c-38255216">[1 more]</label></div><br/><div class="children"><div class="content">JLCPCB would 3d print high-quality enclosures from a variety of UV resins: <a href="https:&#x2F;&#x2F;3d.jlcpcb.com&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;3d.jlcpcb.com&#x2F;</a> and decently cheap.<p>The next best option is injection molding with PCBWay (or other similar provider): <a href="https:&#x2F;&#x2F;www.pcbway.com&#x2F;rapid-prototyping&#x2F;manufacture&#x2F;?type=4&amp;reffercode=TOP" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.pcbway.com&#x2F;rapid-prototyping&#x2F;manufacture&#x2F;?type=4...</a><p>An alternative is a sheet metal enclosure: <a href="https:&#x2F;&#x2F;www.pcbway.com&#x2F;rapid-prototyping&#x2F;manufacture&#x2F;?type=4&amp;reffercode=TOP" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.pcbway.com&#x2F;rapid-prototyping&#x2F;manufacture&#x2F;?type=4...</a><p>But 3d printing with JLCPCB is really the most convenient way unless you need a lot of parts (thousands) or the material properties of the UV resins would not be enough (high-temperature, outdoors, etc).</div><br/></div></div><div id="38255630" class="c"><input type="checkbox" id="c-38255630" checked=""/><div class="controls bullet"><span class="by">fnordpiglet</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38255183">parent</a><span>|</span><a href="#38255216">prev</a><span>|</span><a href="#38255402">next</a><span>|</span><label class="collapse" for="c-38255630">[-]</label><label class="expand" for="c-38255630">[1 more]</label></div><br/><div class="children"><div class="content">There are plenty of enclosures available on AliExpress and Amazon. But a cheap reprap 3d printer is a general tool like a screw driver or hammer, albeit more complex for sure. But the learning curve isn’t absurd, it’s basically buying something plugging it in and loading filament then printing a downloaded STL. It gets harder when it needs calibration and maintaining, but it’s not an unknown dark art - there are a billion helpful discord groups.<p>But once you have it and know how to maintain it, anything where you’re like “man wouldn’t it be nice if I had a physical object like X” becomes a relatively solvable problem. There are lot of materials with many different properties. When you skip into a zone of material or print you can’t afford the equipment for, there are a bazillion print shops.<p>The harder skill frankly is the 3d modeling. But I find openscad is sufficient for almost everything and then for the rest I use Build123. They’re both parametric code driven design tools so fit well inside a software project (better than GUI tools, and more easy to be precise with). Openscad is absurdly easy, build123 is more advanced and requires Python skills as well as effort to learn the conceptual model.<p>I sort of felt the way you seem to once upon a time until I said screw it and figured it out one day. Now I feel like I lived most my life hobbled for want of this tool.<p>So, yeah, overkill for printing an esp32 enclosure. But doing so unlocks a lifetime of possibilities.</div><br/></div></div><div id="38255402" class="c"><input type="checkbox" id="c-38255402" checked=""/><div class="controls bullet"><span class="by">bluGill</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38255183">parent</a><span>|</span><a href="#38255630">prev</a><span>|</span><a href="#38255662">next</a><span>|</span><label class="collapse" for="c-38255402">[-]</label><label class="expand" for="c-38255402">[3 more]</label></div><br/><div class="children"><div class="content">That is why so many amateur projects look ugly: making a pretty package is a whole new skill set.  3d printing is the easiest acceptable solution, but it isn&#x27;t the best.  Best would be a custom designed injection molded housing, but that is even more work to design.<p>Nothing about making a nice presentation is beyond what amateurs can do. However it is a lot more effort and so most decide it isn&#x27;t worth it.</div><br/><div id="38255559" class="c"><input type="checkbox" id="c-38255559" checked=""/><div class="controls bullet"><span class="by">davidw</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38255402">parent</a><span>|</span><a href="#38255662">next</a><span>|</span><label class="collapse" for="c-38255559">[-]</label><label class="expand" for="c-38255559">[2 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t care if it&#x27;s &quot;beautiful&quot; or ultra-compact or looks as nice as some Apple device. All I want is to buy one thing without wires and an exposed board.</div><br/><div id="38257027" class="c"><input type="checkbox" id="c-38257027" checked=""/><div class="controls bullet"><span class="by">bluGill</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38255559">parent</a><span>|</span><a href="#38255662">next</a><span>|</span><label class="collapse" for="c-38257027">[-]</label><label class="expand" for="c-38257027">[1 more]</label></div><br/><div class="children"><div class="content">There are not enough of you to make it worth the effort most likely. If you disagree then you should invest in the business opportunity.</div><br/></div></div></div></div></div></div><div id="38255662" class="c"><input type="checkbox" id="c-38255662" checked=""/><div class="controls bullet"><span class="by">Johnny555</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38255183">parent</a><span>|</span><a href="#38255402">prev</a><span>|</span><a href="#38257938">next</a><span>|</span><label class="collapse" for="c-38255662">[-]</label><label class="expand" for="c-38255662">[1 more]</label></div><br/><div class="children"><div class="content">If you&#x27;re looking for an enclosure for your hobby ESP32 project, there are lots of off the shelf, small enclosures available:<p><a href="https:&#x2F;&#x2F;www.amazon.com&#x2F;s?k=esp32+enclosure" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.amazon.com&#x2F;s?k=esp32+enclosure</a><p>If you want to sell a more finished commercial quality project and don&#x27;t want to print your own, there are places that will fabricate one for you (but in low quantities, having them 3d print it probably cheaper)</div><br/></div></div><div id="38257938" class="c"><input type="checkbox" id="c-38257938" checked=""/><div class="controls bullet"><span class="by">dekhn</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38255183">parent</a><span>|</span><a href="#38255662">prev</a><span>|</span><a href="#38255258">next</a><span>|</span><label class="collapse" for="c-38257938">[-]</label><label class="expand" for="c-38257938">[1 more]</label></div><br/><div class="children"><div class="content">The simplest I can think of is this: <a href="https:&#x2F;&#x2F;www.digikey.com&#x2F;en&#x2F;products&#x2F;detail&#x2F;sparkfun-electronics" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.digikey.com&#x2F;en&#x2F;products&#x2F;detail&#x2F;sparkfun-electron...</a>
use a step drill or other large-diameter bit to cut holes for cable glands, dremels to cut rectangular holes for power switches, and drill and tap holes for standard brass standoffs.  IMHO everybody should have at least one cordless drill and drill bits, as well as an M3 tap.  Then use Cable glands for wires going in&#x2F;out, and nylon sheathing for the cables outside the box.<p>If you take the time to make the holes nicely, the result often looks good enough that non-makers will think you are a god of manufacturing.</div><br/></div></div><div id="38255258" class="c"><input type="checkbox" id="c-38255258" checked=""/><div class="controls bullet"><span class="by">lostapathy</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38255183">parent</a><span>|</span><a href="#38257938">prev</a><span>|</span><a href="#38255219">next</a><span>|</span><label class="collapse" for="c-38255258">[-]</label><label class="expand" for="c-38255258">[7 more]</label></div><br/><div class="children"><div class="content">As somebody else mentioned, you can hire it out.<p>There&#x27;s a lot of files running around with existing models for common projects, so you probably don&#x27;t need to design your own enclosures a lot of the time unless you want to.<p>And printers have gotten cheap, like $99 gets you a jumping off point into the hobby.</div><br/><div id="38255333" class="c"><input type="checkbox" id="c-38255333" checked=""/><div class="controls bullet"><span class="by">davidw</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38255258">parent</a><span>|</span><a href="#38255626">next</a><span>|</span><label class="collapse" for="c-38255333">[-]</label><label class="expand" for="c-38255333">[4 more]</label></div><br/><div class="children"><div class="content">Do people not just sell like &quot;complete package&quot; things?<p>The board in the article is $13.49 ( <a href="https:&#x2F;&#x2F;www.amazon.com&#x2F;dp&#x2F;B072HBW53G" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.amazon.com&#x2F;dp&#x2F;B072HBW53G</a> ). If you could get an enclosed, complete thing for $20, including the board and whatever you need for it to run, that&#x27;d be much less of a PITA than &quot;brand new hobby&quot; or &quot;find someone to 3D print stuff for me locally and deal with that whole hassle&quot;.</div><br/><div id="38255502" class="c"><input type="checkbox" id="c-38255502" checked=""/><div class="controls bullet"><span class="by">kps</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38255333">parent</a><span>|</span><a href="#38255684">next</a><span>|</span><label class="collapse" for="c-38255502">[-]</label><label class="expand" for="c-38255502">[2 more]</label></div><br/><div class="children"><div class="content">There are things like M5Stack (also ESP32-based) that suit some purposes.</div><br/><div id="38255579" class="c"><input type="checkbox" id="c-38255579" checked=""/><div class="controls bullet"><span class="by">davidw</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38255502">parent</a><span>|</span><a href="#38255684">next</a><span>|</span><label class="collapse" for="c-38255579">[-]</label><label class="expand" for="c-38255579">[1 more]</label></div><br/><div class="children"><div class="content">Yes! That looks pretty cool and more like what I&#x27;m talking about.</div><br/></div></div></div></div><div id="38255684" class="c"><input type="checkbox" id="c-38255684" checked=""/><div class="controls bullet"><span class="by">kube-system</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38255333">parent</a><span>|</span><a href="#38255502">prev</a><span>|</span><a href="#38255626">next</a><span>|</span><label class="collapse" for="c-38255684">[-]</label><label class="expand" for="c-38255684">[1 more]</label></div><br/><div class="children"><div class="content">The thing about enclosures is that they are pretty design dependent.  Nobody knows what you are hooking up to your board or what the intended purpose is.  Some boards do have generic type cases, e.g. raspberry pi cases.</div><br/></div></div></div></div><div id="38255626" class="c"><input type="checkbox" id="c-38255626" checked=""/><div class="controls bullet"><span class="by">szundi</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38255258">parent</a><span>|</span><a href="#38255333">prev</a><span>|</span><a href="#38255219">next</a><span>|</span><label class="collapse" for="c-38255626">[-]</label><label class="expand" for="c-38255626">[2 more]</label></div><br/><div class="children"><div class="content">$99 is just enough to jump into the hobby of fixing your printer all the time - and that&#x27;s what hobbyists are actually looking for<p>solving something would be like $700 calibrated out of the box, like the old prusa 3 something or the bambu p1something.</div><br/><div id="38255657" class="c"><input type="checkbox" id="c-38255657" checked=""/><div class="controls bullet"><span class="by">lostapathy</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38255626">parent</a><span>|</span><a href="#38255219">next</a><span>|</span><label class="collapse" for="c-38255657">[-]</label><label class="expand" for="c-38255657">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m well aware.  I think of the $99 printer as a filter - either it&#x27;s going to catch your interest enough to justify jumping to a $600+ printer, or 3d printing isn&#x27;t for you and you aren&#x27;t out much.</div><br/></div></div></div></div></div></div><div id="38255219" class="c"><input type="checkbox" id="c-38255219" checked=""/><div class="controls bullet"><span class="by">Zetobal</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38255183">parent</a><span>|</span><a href="#38255258">prev</a><span>|</span><a href="#38255344">next</a><span>|</span><label class="collapse" for="c-38255219">[-]</label><label class="expand" for="c-38255219">[1 more]</label></div><br/><div class="children"><div class="content">You can also pay someone to do it.</div><br/></div></div></div></div></div></div><div id="38255344" class="c"><input type="checkbox" id="c-38255344" checked=""/><div class="controls bullet"><span class="by">mikub</span><span>|</span><a href="#38255132">parent</a><span>|</span><a href="#38255165">prev</a><span>|</span><a href="#38255726">next</a><span>|</span><label class="collapse" for="c-38255344">[-]</label><label class="expand" for="c-38255344">[1 more]</label></div><br/><div class="children"><div class="content">I look if if I can find some already assembled things and try to build an project around it. For example I used an pictureframe to build a nice neopixel thing, I also documented it on my website, <a href="https:&#x2F;&#x2F;mikub.me&#x2F;post&#x2F;(1)&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;mikub.me&#x2F;post&#x2F;(1)&#x2F;</a><p>So what I do is I usually look around what everyday objects could become nice enclosures for microcontrollers and such things.</div><br/></div></div><div id="38255726" class="c"><input type="checkbox" id="c-38255726" checked=""/><div class="controls bullet"><span class="by">morphle</span><span>|</span><a href="#38255132">parent</a><span>|</span><a href="#38255344">prev</a><span>|</span><a href="#38256377">next</a><span>|</span><label class="collapse" for="c-38255726">[-]</label><label class="expand" for="c-38255726">[9 more]</label></div><br/><div class="children"><div class="content">You shouldn&#x27;t productise anything with ESP32, its just an overprized bloated hobby pcb, very unprofessional.<p>See my comment below on how to productize this: use a 4 cent off the shelf microcontroller on a 10 cent pcb or much better: make a custom chip with all the sensors on board but with $25K minimum Capex but tiny Opex</div><br/><div id="38256200" class="c"><input type="checkbox" id="c-38256200" checked=""/><div class="controls bullet"><span class="by">HeyLaughingBoy</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38255726">parent</a><span>|</span><a href="#38255851">next</a><span>|</span><label class="collapse" for="c-38256200">[-]</label><label class="expand" for="c-38256200">[1 more]</label></div><br/><div class="children"><div class="content">Not everything is going to be sold @ qty 100,000. I deal with the other end of the spectrum: 1 unit to maybe 25&#x2F;year. At those quantities, speed of development and assembly is the most important criteria. Unit price is not.</div><br/></div></div><div id="38255896" class="c"><input type="checkbox" id="c-38255896" checked=""/><div class="controls bullet"><span class="by">AnotherGoodName</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38255726">parent</a><span>|</span><a href="#38255851">prev</a><span>|</span><a href="#38256377">next</a><span>|</span><label class="collapse" for="c-38255896">[-]</label><label class="expand" for="c-38255896">[6 more]</label></div><br/><div class="children"><div class="content">The esp is a cheap microcontroller.<p>You shouldn&#x27;t productionize an esp32 dev kit but you should absolutely productionize an esp32 on a board you&#x27;ve designed that has the specif features to do your thing (whatever that is).</div><br/><div id="38255934" class="c"><input type="checkbox" id="c-38255934" checked=""/><div class="controls bullet"><span class="by">morphle</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38255896">parent</a><span>|</span><a href="#38256377">next</a><span>|</span><label class="collapse" for="c-38255934">[-]</label><label class="expand" for="c-38255934">[5 more]</label></div><br/><div class="children"><div class="content">no, the ESP32 is a SoC, a bunch of chips in a package on a PCB. not a bare microcontroller chip. It is already a product with several resellers: ip, fab, packaging,  exporter, distributor, retailer  and a very high profit overhead of at least 2.7 times the costprice</div><br/><div id="38256020" class="c"><input type="checkbox" id="c-38256020" checked=""/><div class="controls bullet"><span class="by">k0k0</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38255934">parent</a><span>|</span><a href="#38256377">next</a><span>|</span><label class="collapse" for="c-38256020">[-]</label><label class="expand" for="c-38256020">[4 more]</label></div><br/><div class="children"><div class="content">You&#x27;re absolutely wrong on a number of points. A SoC stands for &quot;system on a chip&quot;, it refers to a single die (if you want to get pedantic, there are multi-die packages but this does not apply here) package, a &quot;bare chip&quot; if you will.<p><a href="https:&#x2F;&#x2F;www.espressif.com&#x2F;en&#x2F;products&#x2F;socs&#x2F;esp32" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.espressif.com&#x2F;en&#x2F;products&#x2F;socs&#x2F;esp32</a><p>The ESP32 is a SoC. It&#x27;s available in QFN packaging (Quad Flat Pak No Lead).<p>The ESP32 is available included with a number of &quot;modules&quot; (and of course devkits). These modules are designed for production use and it can be economical to do so. You clearly don&#x27;t have the foggiest idea about these product lines so don&#x27;t seem to be in a good position to comment on the economics.<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;ESP32" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;ESP32</a></div><br/><div id="38256834" class="c"><input type="checkbox" id="c-38256834" checked=""/><div class="controls bullet"><span class="by">emj</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38256020">parent</a><span>|</span><a href="#38256062">next</a><span>|</span><label class="collapse" for="c-38256834">[-]</label><label class="expand" for="c-38256834">[1 more]</label></div><br/><div class="children"><div class="content">There are some nice images of the ESP32 die here <a href="https:&#x2F;&#x2F;zeptobars.com&#x2F;en&#x2F;read&#x2F;Espressif-ESP32-Wi-Fi-Bluetooth-2.4Ghz-ISM" rel="nofollow noreferrer">https:&#x2F;&#x2F;zeptobars.com&#x2F;en&#x2F;read&#x2F;Espressif-ESP32-Wi-Fi-Bluetoot...</a> and yes does not look like a multi die chip.</div><br/></div></div><div id="38256062" class="c"><input type="checkbox" id="c-38256062" checked=""/><div class="controls bullet"><span class="by">morphle</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38256020">parent</a><span>|</span><a href="#38256834">prev</a><span>|</span><a href="#38256377">next</a><span>|</span><label class="collapse" for="c-38256062">[-]</label><label class="expand" for="c-38256062">[2 more]</label></div><br/><div class="children"><div class="content">You should call the company, order a few million units, negotiate and sign their NDA and then they will tell you it is not a single bare die</div><br/><div id="38256168" class="c"><input type="checkbox" id="c-38256168" checked=""/><div class="controls bullet"><span class="by">k0k0</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38256062">parent</a><span>|</span><a href="#38256377">next</a><span>|</span><label class="collapse" for="c-38256168">[-]</label><label class="expand" for="c-38256168">[1 more]</label></div><br/><div class="children"><div class="content">Why would you need to sign an NDA? There are decaps readily available. Most ESP32 models have a separate die for the flash memory, but everything but the flash (that is uC, WiFi, BLE, and peripherals) is on a single die, which sounds like a SoC to me (The definition of SoC devices have always included devices with off-die RAM and Flash). These aren&#x27;t &quot;a bunch of components on printed circuit boards&quot; as you initially claimed.<p><a href="https:&#x2F;&#x2F;electronupdate.blogspot.com&#x2F;2018&#x2F;08&#x2F;espressif-esp32-teardown.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;electronupdate.blogspot.com&#x2F;2018&#x2F;08&#x2F;espressif-esp32-...</a></div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="38256377" class="c"><input type="checkbox" id="c-38256377" checked=""/><div class="controls bullet"><span class="by">martinsnow</span><span>|</span><a href="#38255132">parent</a><span>|</span><a href="#38255726">prev</a><span>|</span><a href="#38257090">next</a><span>|</span><label class="collapse" for="c-38256377">[-]</label><label class="expand" for="c-38256377">[1 more]</label></div><br/><div class="children"><div class="content">Usually a black abs box will do</div><br/></div></div><div id="38257090" class="c"><input type="checkbox" id="c-38257090" checked=""/><div class="controls bullet"><span class="by">shoelessone</span><span>|</span><a href="#38255132">parent</a><span>|</span><a href="#38256377">prev</a><span>|</span><a href="#38255613">next</a><span>|</span><label class="collapse" for="c-38257090">[-]</label><label class="expand" for="c-38257090">[1 more]</label></div><br/><div class="children"><div class="content">I am by no means an expert, but I wrote up a bunch of words on how I did this personally for a family Xmas present here. The tl;dr; is a custom PCB in my case: <a href="https:&#x2F;&#x2F;kevinmitchell.io&#x2F;blog&#x2F;mitchine-esp8266-wooden-thinking-of-you" rel="nofollow noreferrer">https:&#x2F;&#x2F;kevinmitchell.io&#x2F;blog&#x2F;mitchine-esp8266-wooden-thinki...</a></div><br/></div></div><div id="38255613" class="c"><input type="checkbox" id="c-38255613" checked=""/><div class="controls bullet"><span class="by">greggsy</span><span>|</span><a href="#38255132">parent</a><span>|</span><a href="#38257090">prev</a><span>|</span><a href="#38257367">next</a><span>|</span><label class="collapse" for="c-38255613">[-]</label><label class="expand" for="c-38255613">[1 more]</label></div><br/><div class="children"><div class="content">Smaller dev boards and shrink wrap.</div><br/></div></div><div id="38257367" class="c"><input type="checkbox" id="c-38257367" checked=""/><div class="controls bullet"><span class="by">bobsmooth</span><span>|</span><a href="#38255132">parent</a><span>|</span><a href="#38255613">prev</a><span>|</span><a href="#38255632">next</a><span>|</span><label class="collapse" for="c-38257367">[-]</label><label class="expand" for="c-38257367">[1 more]</label></div><br/><div class="children"><div class="content">I designed a carrier board for my module to slot into. You can also solder the header pins directly to some perfboard and build off that.</div><br/></div></div><div id="38255632" class="c"><input type="checkbox" id="c-38255632" checked=""/><div class="controls bullet"><span class="by">_jal</span><span>|</span><a href="#38255132">parent</a><span>|</span><a href="#38257367">prev</a><span>|</span><a href="#38255462">next</a><span>|</span><label class="collapse" for="c-38255632">[-]</label><label class="expand" for="c-38255632">[1 more]</label></div><br/><div class="children"><div class="content">I like wood. It is pretty much everything you want for something like this - super durable, very easy to work with, and depending on what you pick, cheap and pretty, too.<p>Plus, woodworking is very satisfying by itself. And also easy to get started with - for small box-like things like this you only need a few cheap hand tools.</div><br/></div></div><div id="38255462" class="c"><input type="checkbox" id="c-38255462" checked=""/><div class="controls bullet"><span class="by">morphle</span><span>|</span><a href="#38255132">parent</a><span>|</span><a href="#38255632">prev</a><span>|</span><a href="#38254620">next</a><span>|</span><label class="collapse" for="c-38255462">[-]</label><label class="expand" for="c-38255462">[8 more]</label></div><br/><div class="children"><div class="content">You shouldn&#x27;t productise anything with ESP32, its just an overprized bloated hobby pcb.<p>See my comment below on how to productize this: use a 4 cent off the shelf microcontroller on a 10 cent pcb or much better: make a custom chip with all the sensors on board but with $25K minimum Capex but tiny Opex</div><br/><div id="38256894" class="c"><input type="checkbox" id="c-38256894" checked=""/><div class="controls bullet"><span class="by">dgacmu</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38255462">parent</a><span>|</span><a href="#38255520">next</a><span>|</span><label class="collapse" for="c-38256894">[-]</label><label class="expand" for="c-38256894">[1 more]</label></div><br/><div class="children"><div class="content">This is silly and reductive. You make different design for manufacturing choices at different steps of product development and volume.<p>In some cases, you may luck out and find that a widely available dev board is actually a really good match for your needs, in which case, run with it. You&#x27;ll cut out a lot of NRE and get your product in customers hands faster. Once you&#x27;ve shown that you can sell in volume, do a DFM pass for V2 to minimize cost. OP probably fits this case, as all they need is Wi-Fi and Bluetooth, depending on their eventual power solution.<p>If you find that you&#x27;re taking a dev board and soldering a lot of extra components to it, then I agree, you want to move to a custom PCB before doing any real volume. But you still might make a dozen first cuts with this and a 3d printed case to see how some product beta testers respond.</div><br/></div></div><div id="38255520" class="c"><input type="checkbox" id="c-38255520" checked=""/><div class="controls bullet"><span class="by">chpatrick</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38255462">parent</a><span>|</span><a href="#38256894">prev</a><span>|</span><a href="#38255557">next</a><span>|</span><label class="collapse" for="c-38255520">[-]</label><label class="expand" for="c-38255520">[1 more]</label></div><br/><div class="children"><div class="content">There are thousands of ESP32-based IoT devices on AliExpress that would disagree with you. It&#x27;s an SoC chip not a &quot;pcb&quot;.</div><br/></div></div><div id="38255557" class="c"><input type="checkbox" id="c-38255557" checked=""/><div class="controls bullet"><span class="by">morphle</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38255462">parent</a><span>|</span><a href="#38255520">prev</a><span>|</span><a href="#38254620">next</a><span>|</span><label class="collapse" for="c-38255557">[-]</label><label class="expand" for="c-38255557">[5 more]</label></div><br/><div class="children"><div class="content">As others point out: you could hire someone to do it. Based on my custom 1 cent ASIC (custom chip) I would design, test and build your (moisture or other) sensor for €3000 excluding tax and price of all the needed tools. Usually more like $6000 because they want to outsource all the problems (like mass production and sales) to me<p>morphle@ziggo.nl if you want me to design it</div><br/><div id="38255608" class="c"><input type="checkbox" id="c-38255608" checked=""/><div class="controls bullet"><span class="by">szundi</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38255557">parent</a><span>|</span><a href="#38254620">next</a><span>|</span><label class="collapse" for="c-38255608">[-]</label><label class="expand" for="c-38255608">[4 more]</label></div><br/><div class="children"><div class="content">Mine would be 0.3 cent per chip and would need $50k investment.<p>Jokes aside, if you know how to design a custom chip for 3k USD, I would like to know about it.</div><br/><div id="38255682" class="c"><input type="checkbox" id="c-38255682" checked=""/><div class="controls bullet"><span class="by">morphle</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38255608">parent</a><span>|</span><a href="#38255785">next</a><span>|</span><label class="collapse" for="c-38255682">[-]</label><label class="expand" for="c-38255682">[2 more]</label></div><br/><div class="children"><div class="content">it is not a joke, you can do as low as 1.10870 cent per custom chip or 2 cent per off the shelf chip. 0.03 cent is impossible, the minimum size of a chip is .625 mm2 and that sets the minimum price.<p>Designing one for $3K is possible because I  already have a tested chip design that I just have to modify for you.<p>A master student project is usually a free design with a free tapeout at Google MPW, Mosys of Europractice.<p>I also design bigger chips and $500 wafer scale integration with 10000 cores : <a href="https:&#x2F;&#x2F;vimeo.com&#x2F;731037615" rel="nofollow noreferrer">https:&#x2F;&#x2F;vimeo.com&#x2F;731037615</a></div><br/><div id="38259817" class="c"><input type="checkbox" id="c-38259817" checked=""/><div class="controls bullet"><span class="by">anigbrowl</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38255682">parent</a><span>|</span><a href="#38255785">next</a><span>|</span><label class="collapse" for="c-38259817">[-]</label><label class="expand" for="c-38259817">[1 more]</label></div><br/><div class="children"><div class="content">You seem like a very smart and capable person, and for an industrial buyer your proposal makes a lot of sense. For a hacker (who is often a hobbyist or amateur looking to build something simple quickly) a versatile SoC at $5&#x2F;unit also makes a lot of sense.<p>I have to say you are hurting yourself with your communication style, because it comes off as very dismissive and arrogant. I bookmarked your presentation in case I need it in the future, but a 4 hour video is not a great way to hook people who are not sure if they are interested or not.</div><br/></div></div></div></div><div id="38255785" class="c"><input type="checkbox" id="c-38255785" checked=""/><div class="controls bullet"><span class="by">morphle</span><span>|</span><a href="#38255132">root</a><span>|</span><a href="#38255608">parent</a><span>|</span><a href="#38255682">prev</a><span>|</span><a href="#38254620">next</a><span>|</span><label class="collapse" for="c-38255785">[-]</label><label class="expand" for="c-38255785">[1 more]</label></div><br/><div class="children"><div class="content">if you like to know more about it: morphle at ziggo dot nl to make a video conf appointment and get a demo. Or ask email questions, but that takes more effort for us both.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="38254620" class="c"><input type="checkbox" id="c-38254620" checked=""/><div class="controls bullet"><span class="by">me_again</span><span>|</span><a href="#38255132">prev</a><span>|</span><a href="#38260225">next</a><span>|</span><label class="collapse" for="c-38254620">[-]</label><label class="expand" for="c-38254620">[2 more]</label></div><br/><div class="children"><div class="content">Cool!<p>I didn&#x27;t totally follow the issues with keeping the data in memory, and it sounds like it is solved now - but you could probably use a cardinality estimation algorithm to estimate the number of unique beacon IDs while only using constant space. <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Count-distinct_problem" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Count-distinct_problem</a></div><br/><div id="38255093" class="c"><input type="checkbox" id="c-38255093" checked=""/><div class="controls bullet"><span class="by">sodality2</span><span>|</span><a href="#38254620">parent</a><span>|</span><a href="#38260225">next</a><span>|</span><label class="collapse" for="c-38255093">[-]</label><label class="expand" for="c-38255093">[1 more]</label></div><br/><div class="children"><div class="content">That’s a really good point. I’ve been meaning to go to a football game recently and bring it, to stress test it with the largest gathering I can quickly access. If it can easily scan a couple thousand without a sweat, I’d consider it pretty solid anyway. But a fixed-size estimating data structure would be really cool to research. I will surely look into it, thank you for the suggestion!<p>Side note: Definitely one of my favorite parts of this project, that I get to investigate more in-depth and interesting CS concepts without having to worry about doing the easiest solution. I’m scratching an itch, not developing a solution to deliver ASAP.</div><br/></div></div></div></div><div id="38260225" class="c"><input type="checkbox" id="c-38260225" checked=""/><div class="controls bullet"><span class="by">jve</span><span>|</span><a href="#38254620">prev</a><span>|</span><a href="#38257267">next</a><span>|</span><label class="collapse" for="c-38260225">[-]</label><label class="expand" for="c-38260225">[2 more]</label></div><br/><div class="children"><div class="content">&gt; but some don&#x27;t carry any devices at all (or keep Bluetooth off on their phone).<p>Exactly. I always had a habit of turning BT off, hoping to conserve the battery. And then our security department advises it - if you don&#x27;t use it at the moment, turn it off. For security reasons. Flaws in BT sometimes come up and good if a user can get that update.</div><br/><div id="38260699" class="c"><input type="checkbox" id="c-38260699" checked=""/><div class="controls bullet"><span class="by">wutwutwat</span><span>|</span><a href="#38260225">parent</a><span>|</span><a href="#38257267">next</a><span>|</span><label class="collapse" for="c-38260699">[-]</label><label class="expand" for="c-38260699">[1 more]</label></div><br/><div class="children"><div class="content">Turning bt &quot;off&quot; in your settings likely doesn&#x27;t actually turn off the radios. It probably just disables connections. If you use lost phone features like findmyiphone, the defaults are to participate in the &quot;find my&quot; network, a mesh network of bt low energy devices for airtags, etc. Most often, even turning off your entire phone won&#x27;t help, as the incentive to participate in the &quot;find my&quot; network is they give you the feature of tracking your phone even when powered off<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Find_My" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Find_My</a><p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;IBeacon" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;IBeacon</a></div><br/></div></div></div></div><div id="38257267" class="c"><input type="checkbox" id="c-38257267" checked=""/><div class="controls bullet"><span class="by">demondemidi</span><span>|</span><a href="#38260225">prev</a><span>|</span><a href="#38253510">next</a><span>|</span><label class="collapse" for="c-38257267">[-]</label><label class="expand" for="c-38257267">[1 more]</label></div><br/><div class="children"><div class="content">Really should point out this is for BLE. I thought it was based on heartbeats, heat, ingress&#x2F;egress, or something more physical.<p>Also, ESP32 Rx sensitivity is kinda poor: -94 dBm, most devices are pushing -100, -102 and even -104 dBm. Makes a big difference.</div><br/></div></div><div id="38253510" class="c"><input type="checkbox" id="c-38253510" checked=""/><div class="controls bullet"><span class="by">lesuorac</span><span>|</span><a href="#38257267">prev</a><span>|</span><a href="#38254648">next</a><span>|</span><label class="collapse" for="c-38253510">[-]</label><label class="expand" for="c-38253510">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Linux Bluetooth is incredibly painful to handle in a headless way. Binding to DBus requires cross-compiler magic and not even Cross was getting me out of it.<p>That was my experience as well. I was doing something different so ultimately I just decided I&#x27;d put both the devices on the same WiFi network and then scan for &quot;pi.local&quot;.<p>Do wish I knew how all those other crates work though where it crashes at runtime if you don&#x27;t have a library instead of refusing to build.</div><br/><div id="38260727" class="c"><input type="checkbox" id="c-38260727" checked=""/><div class="controls bullet"><span class="by">wutwutwat</span><span>|</span><a href="#38253510">parent</a><span>|</span><a href="#38254648">next</a><span>|</span><label class="collapse" for="c-38260727">[-]</label><label class="expand" for="c-38260727">[1 more]</label></div><br/><div class="children"><div class="content">Home assistant does headless bt presence detection in ~200 lines of python I think the author had a painful experience because they wanted to do embedded and had to interface at a much lower level, where it&#x27;s a long ago solved problem in higher level languages. Considering the tracker ended up in their door next to their computer, they could have stuck with the rpi that ran python and been fine<p><a href="https:&#x2F;&#x2F;github.com&#x2F;home-assistant&#x2F;core&#x2F;blob&#x2F;dev&#x2F;homeassistant&#x2F;components&#x2F;bluetooth_tracker&#x2F;device_tracker.py">https:&#x2F;&#x2F;github.com&#x2F;home-assistant&#x2F;core&#x2F;blob&#x2F;dev&#x2F;homeassistan...</a><p><a href="https:&#x2F;&#x2F;www.home-assistant.io&#x2F;integrations&#x2F;bluetooth_tracker&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.home-assistant.io&#x2F;integrations&#x2F;bluetooth_tracker...</a></div><br/></div></div></div></div><div id="38254648" class="c"><input type="checkbox" id="c-38254648" checked=""/><div class="controls bullet"><span class="by">fullstop</span><span>|</span><a href="#38253510">prev</a><span>|</span><a href="#38258006">next</a><span>|</span><label class="collapse" for="c-38254648">[-]</label><label class="expand" for="c-38254648">[1 more]</label></div><br/><div class="children"><div class="content">ESPresence [1] is an interesting project, and it works with the ESP32-C3.<p>It is more designed to figure out which room you are in.<p>1. <a href="https:&#x2F;&#x2F;espresense.com&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;espresense.com&#x2F;</a></div><br/></div></div><div id="38258006" class="c"><input type="checkbox" id="c-38258006" checked=""/><div class="controls bullet"><span class="by">dekhn</span><span>|</span><a href="#38254648">prev</a><span>|</span><a href="#38255545">next</a><span>|</span><label class="collapse" for="c-38258006">[-]</label><label class="expand" for="c-38258006">[1 more]</label></div><br/><div class="children"><div class="content">I was initially skeptical, but these days most of my ESP32s just run micropython and I write my &quot;firmware&quot; in Python.  This includes (low-performance) callbacks for interrupts, python dicts.  Because the ESP32 has nice peripherals, lots of stuff is really just using python or C as a command-and-control to enable part of the chip, like PWM.  And porting Python to C++ is usually pretty straightforward.</div><br/></div></div><div id="38255545" class="c"><input type="checkbox" id="c-38255545" checked=""/><div class="controls bullet"><span class="by">gyf304</span><span>|</span><a href="#38258006">prev</a><span>|</span><a href="#38254546">next</a><span>|</span><label class="collapse" for="c-38255545">[-]</label><label class="expand" for="c-38255545">[2 more]</label></div><br/><div class="children"><div class="content">Did something very similar years ago - <a href="https:&#x2F;&#x2F;blog.yifangu.com&#x2F;tag&#x2F;library-occupancy-project&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;blog.yifangu.com&#x2F;tag&#x2F;library-occupancy-project&#x2F;</a></div><br/><div id="38258269" class="c"><input type="checkbox" id="c-38258269" checked=""/><div class="controls bullet"><span class="by">sodality2</span><span>|</span><a href="#38255545">parent</a><span>|</span><a href="#38254546">next</a><span>|</span><label class="collapse" for="c-38258269">[-]</label><label class="expand" for="c-38258269">[1 more]</label></div><br/><div class="children"><div class="content">Wow, very cool! I would have used WiFi but unfortunately our beacons either separate or merge devices (so you either get just the users on the nearest beacon, which is not a set range of distance, or every user on that region&#x27;s subnet, which could be entire dorm complexes). But that seems like a really good solution!</div><br/></div></div></div></div><div id="38254546" class="c"><input type="checkbox" id="c-38254546" checked=""/><div class="controls bullet"><span class="by">mariocesar</span><span>|</span><a href="#38255545">prev</a><span>|</span><a href="#38256018">next</a><span>|</span><label class="collapse" for="c-38254546">[-]</label><label class="expand" for="c-38254546">[1 more]</label></div><br/><div class="children"><div class="content">Interesting DIY project! It reminds me of a startup called OccuSpace (<a href="https:&#x2F;&#x2F;occuspace.io&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;occuspace.io&#x2F;</a>), which offers a similar occupancy solution but as a service. They may be leveraging similar technologies to provide real-time occupancy data, which is incredibly useful for managing space in offices, public venues, etc. It&#x27;s a good example of how these concepts are scaling up commercially.<p>I wonder How well can your DIY sensor or OccuSpace figure out what kind of devices are in the room or who&#x27;s using them. Can they tell different users or gadgets apart?</div><br/></div></div><div id="38256018" class="c"><input type="checkbox" id="c-38256018" checked=""/><div class="controls bullet"><span class="by">H8crilA</span><span>|</span><a href="#38254546">prev</a><span>|</span><a href="#38255160">next</a><span>|</span><label class="collapse" for="c-38256018">[-]</label><label class="expand" for="c-38256018">[4 more]</label></div><br/><div class="children"><div class="content">There are some very good frameworks out there for doing things like these:<p><pre><code>   - ESPHome
   - Home Assistant
</code></pre>
You can a build a device like this, often without writing one line of code, with ESP32 firmware updates over the air from a web UI.<p>I wish those ESP chips&#x2F;mini boards had Zigbee. You can get much better connectivity on a Zigbee network than on wifi in a typical deployment, where every mains powered Zigbee device also acts as a router.</div><br/><div id="38256073" class="c"><input type="checkbox" id="c-38256073" checked=""/><div class="controls bullet"><span class="by">sodality2</span><span>|</span><a href="#38256018">parent</a><span>|</span><a href="#38255160">next</a><span>|</span><label class="collapse" for="c-38256073">[-]</label><label class="expand" for="c-38256073">[3 more]</label></div><br/><div class="children"><div class="content">I have to say, my manual solution was a lot more fun and hands-on and let me learn a lot more skills (C++, Grafana, serverless) than a one-click solution. Though I will be prioritizing maintainability if I decide to go further with it!</div><br/><div id="38256235" class="c"><input type="checkbox" id="c-38256235" checked=""/><div class="controls bullet"><span class="by">martinsnow</span><span>|</span><a href="#38256018">root</a><span>|</span><a href="#38256073">parent</a><span>|</span><a href="#38255160">next</a><span>|</span><label class="collapse" for="c-38256235">[-]</label><label class="expand" for="c-38256235">[2 more]</label></div><br/><div class="children"><div class="content">Agree with you fully. It&#x27;s also a lot more easy to program behavior into an esp32 rather than rely on home assistant pre defined modules.</div><br/><div id="38260444" class="c"><input type="checkbox" id="c-38260444" checked=""/><div class="controls bullet"><span class="by">H8crilA</span><span>|</span><a href="#38256018">root</a><span>|</span><a href="#38256235">parent</a><span>|</span><a href="#38255160">next</a><span>|</span><label class="collapse" for="c-38260444">[-]</label><label class="expand" for="c-38260444">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s more about ESPHome rather than Home Assistant.<p>But yeah it is more fun to do it bare bones :). However, over time I found myself &quot;upgrading&quot; my hand made IoT devices to more standard solutions. Standard solutions usually work better.</div><br/></div></div></div></div></div></div></div></div><div id="38255160" class="c"><input type="checkbox" id="c-38255160" checked=""/><div class="controls bullet"><span class="by">barkingcat</span><span>|</span><a href="#38256018">prev</a><span>|</span><a href="#38254325">next</a><span>|</span><label class="collapse" for="c-38255160">[-]</label><label class="expand" for="c-38255160">[1 more]</label></div><br/><div class="children"><div class="content">I like the inclusion of the bibliography. I should do that with all my blog posts too (even if it&#x27;s links to other posts, etc, the references still help to understand the post)</div><br/></div></div><div id="38254325" class="c"><input type="checkbox" id="c-38254325" checked=""/><div class="controls bullet"><span class="by">SCUSKU</span><span>|</span><a href="#38255160">prev</a><span>|</span><a href="#38257243">next</a><span>|</span><label class="collapse" for="c-38254325">[-]</label><label class="expand" for="c-38254325">[15 more]</label></div><br/><div class="children"><div class="content">Awesome write up, I liked how accessible the writing is, as well as the fun tone.<p>I have a problem where I will need to monitor the soil moisture of 20 trees in San Francisco. My current thought is to strap an ESP32, Lora module, battery, and capacitive soil moisture sensor and to send data once every 6 hours or so.<p>I was wondering if off the cuff you have any suggestions or pointers on how to best approach this. Thanks and once again, thank you for sharing this!</div><br/><div id="38254953" class="c"><input type="checkbox" id="c-38254953" checked=""/><div class="controls bullet"><span class="by">antoniuschan99</span><span>|</span><a href="#38254325">parent</a><span>|</span><a href="#38254483">next</a><span>|</span><label class="collapse" for="c-38254953">[-]</label><label class="expand" for="c-38254953">[1 more]</label></div><br/><div class="children"><div class="content">Either a dfrobot: <a href="https:&#x2F;&#x2F;www.dfrobot.com&#x2F;product-1385.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.dfrobot.com&#x2F;product-1385.html</a>
or M5Stack: <a href="https:&#x2F;&#x2F;shop.m5stack.com&#x2F;products&#x2F;earth-sensor-unit" rel="nofollow noreferrer">https:&#x2F;&#x2F;shop.m5stack.com&#x2F;products&#x2F;earth-sensor-unit</a> <a href="https:&#x2F;&#x2F;shop.m5stack.com&#x2F;products&#x2F;watering-unit-with-mositure-sensor-and-pump" rel="nofollow noreferrer">https:&#x2F;&#x2F;shop.m5stack.com&#x2F;products&#x2F;watering-unit-with-mositur...</a></div><br/></div></div><div id="38254483" class="c"><input type="checkbox" id="c-38254483" checked=""/><div class="controls bullet"><span class="by">morphle</span><span>|</span><a href="#38254325">parent</a><span>|</span><a href="#38254953">prev</a><span>|</span><a href="#38254456">next</a><span>|</span><label class="collapse" for="c-38254483">[-]</label><label class="expand" for="c-38254483">[5 more]</label></div><br/><div class="children"><div class="content">If it is only 20 trees, you could use off the shelf sensors.<p>Its much better and cheaper to design from scatch, use an $0.04 ultra-low power Arm microcontroller with ADC or a Padauk, add a single layer pcb with two well proportioned pcb traces in a plastic bag as a capacitive moisture censor (better than resistive sensor) and a $0.12 solar  cell or rechargable battery.
Single sensor cost around $0.41 excluding labor, mass produced $0.08 including labor and sensor network</div><br/><div id="38254580" class="c"><input type="checkbox" id="c-38254580" checked=""/><div class="controls bullet"><span class="by">SCUSKU</span><span>|</span><a href="#38254325">root</a><span>|</span><a href="#38254483">parent</a><span>|</span><a href="#38254629">next</a><span>|</span><label class="collapse" for="c-38254580">[-]</label><label class="expand" for="c-38254580">[3 more]</label></div><br/><div class="children"><div class="content">That&#x27;s a great point. I have experience w&#x2F; Arduino and have made a carrier board one time [1], but am not familiar with full custom PCB + MCU designs. Do you have any suggestions on where to get started for someone with my medium level of experience here? And also, how difficult would you anticipate a custom MCU to be?<p>[1] -- <a href="https:&#x2F;&#x2F;zachbellay.com&#x2F;projects&#x2F;odaf&#x2F;#iteration-3-phase-2-wiring-the-electronics" rel="nofollow noreferrer">https:&#x2F;&#x2F;zachbellay.com&#x2F;projects&#x2F;odaf&#x2F;#iteration-3-phase-2-wi...</a></div><br/><div id="38255298" class="c"><input type="checkbox" id="c-38255298" checked=""/><div class="controls bullet"><span class="by">morphle</span><span>|</span><a href="#38254325">root</a><span>|</span><a href="#38254580">parent</a><span>|</span><a href="#38254629">next</a><span>|</span><label class="collapse" for="c-38255298">[-]</label><label class="expand" for="c-38255298">[2 more]</label></div><br/><div class="children"><div class="content">A custom MCU+pcb is at least 3 months work: downloading an design for an FPGA, testing it, using openlane to make an custom chip, taping it out, writting boot code and the main loop ( I would do that in assembly, much simpler than using C and some vendors library). The big issue is taping it out to a chip FAB, around $25K, see my comment below.<p>I would get started with an off the shelf MCU with good documentation, writing the software on a good development platform with the same assembly as the final microcontroller. For the $0,04 ARM microcontroller I mentioned above as final target with analog to digital controller (ADC) I would first write the program (the main loop) on a Mac on a high level language like Squeak or Python and use the $4 raspberry pi pico as ADC. I would then rewrite the working software in ARM assembly and test it directly on the pi pico. Then I would flash it on the $0.04 arm microcontroller wired on a breadboard to the moisture sensor.
Then I would debug it again, with simple flashing leds to see where your software goes wrong.
morphle at ziggo dot nl for more questions like how to find a 4 cent arm chip. I would start at lcsc.com , use their sister company and eda tool to design the pcb only with lcsc.com parts and order it fully assembled. Then I would open source it so others can directly order assembled boards<p>I would avoid Arduino like the plaque, in essence its just a precanned overpriced bloated C library on an overpriced microcontroller. You always get better results writing from scratch. See &#x27;is it complex or did we make it complicated&#x27;, a lecture by Alan Kay at Quallcom on Vimeo or Youtube, on designing systems from scratch or buy vendor stuff: <a href="https:&#x2F;&#x2F;vimeo.com&#x2F;82301919" rel="nofollow noreferrer">https:&#x2F;&#x2F;vimeo.com&#x2F;82301919</a></div><br/></div></div></div></div><div id="38254629" class="c"><input type="checkbox" id="c-38254629" checked=""/><div class="controls bullet"><span class="by">morphle</span><span>|</span><a href="#38254325">root</a><span>|</span><a href="#38254483">parent</a><span>|</span><a href="#38254580">prev</a><span>|</span><a href="#38254456">next</a><span>|</span><label class="collapse" for="c-38254629">[-]</label><label class="expand" for="c-38254629">[1 more]</label></div><br/><div class="children"><div class="content">I designed my own chip for €,03 , a 180nm 8 core microcontroller with builtin moisture and other sensors. 
Minimal volume is 800.000 chips.</div><br/></div></div></div></div><div id="38254456" class="c"><input type="checkbox" id="c-38254456" checked=""/><div class="controls bullet"><span class="by">filterfiber</span><span>|</span><a href="#38254325">parent</a><span>|</span><a href="#38254483">prev</a><span>|</span><a href="#38254346">next</a><span>|</span><label class="collapse" for="c-38254456">[-]</label><label class="expand" for="c-38254456">[2 more]</label></div><br/><div class="children"><div class="content">There are esp-lora boards including lipo power management you can start with.<p>The ESP has a few deep sleep modes, and there&#x27;s a lot you can do to optimize them.<p>I highly recommend Andreas Spiess on youtube.<p>EDIT: Heads up that moisture sensors have reliability issues, Andreas&#x27;s video 463 talks about them.</div><br/><div id="38254508" class="c"><input type="checkbox" id="c-38254508" checked=""/><div class="controls bullet"><span class="by">SCUSKU</span><span>|</span><a href="#38254325">root</a><span>|</span><a href="#38254456">parent</a><span>|</span><a href="#38254346">next</a><span>|</span><label class="collapse" for="c-38254508">[-]</label><label class="expand" for="c-38254508">[1 more]</label></div><br/><div class="children"><div class="content">So my thought was to utilize the capacitive soil moisture sensor and then coat the sides of the PCB with a waterproofing epoxy as Andreas recommended. My hope being that even if it craps out, I can just swap out the sensor, and since they are so cheap it won&#x27;t be a big deal.<p>Also, great to know that there esp-lora board w&#x2F; lipo power included!</div><br/></div></div></div></div><div id="38254346" class="c"><input type="checkbox" id="c-38254346" checked=""/><div class="controls bullet"><span class="by">mwint</span><span>|</span><a href="#38254325">parent</a><span>|</span><a href="#38254456">prev</a><span>|</span><a href="#38254614">next</a><span>|</span><label class="collapse" for="c-38254346">[-]</label><label class="expand" for="c-38254346">[4 more]</label></div><br/><div class="children"><div class="content">Do you need an ESP32 vs an 8266? I believe the 8266’s are more energy efficient.<p>In either case, you can put them in a deep sleep that uses minuscule amounts of energy and can wake back up on a timer. I’d start there.</div><br/><div id="38254431" class="c"><input type="checkbox" id="c-38254431" checked=""/><div class="controls bullet"><span class="by">SCUSKU</span><span>|</span><a href="#38254325">root</a><span>|</span><a href="#38254346">parent</a><span>|</span><a href="#38254614">next</a><span>|</span><label class="collapse" for="c-38254431">[-]</label><label class="expand" for="c-38254431">[3 more]</label></div><br/><div class="children"><div class="content">I think I am largely MCU agnostic, although preferably something where I can use Arduino since I am familiar with that. Good to know that ESP8266 is more energy efficient. I have seen this video which demonstrates that the ESP8266 can run off 2 AA batteries for 425 days [1].<p>Another thought I was having was to write a mobile app that as volunteers walk by the sensor would send data to their phone, which would then forward it to my backend. I suppose this is a mesh network of sorts? Not sure if this is feasible or a good idea though :&#x2F;<p>[1] - <a href="https:&#x2F;&#x2F;youtu.be&#x2F;IYuYTfO6iOs?si=oLuJiGxdQ8VHyu29&amp;t=837" rel="nofollow noreferrer">https:&#x2F;&#x2F;youtu.be&#x2F;IYuYTfO6iOs?si=oLuJiGxdQ8VHyu29&amp;t=837</a></div><br/><div id="38254574" class="c"><input type="checkbox" id="c-38254574" checked=""/><div class="controls bullet"><span class="by">sodality2</span><span>|</span><a href="#38254325">root</a><span>|</span><a href="#38254431">parent</a><span>|</span><a href="#38254614">next</a><span>|</span><label class="collapse" for="c-38254574">[-]</label><label class="expand" for="c-38254574">[2 more]</label></div><br/><div class="children"><div class="content">Another option would be LoRa - it’s pretty long range. The problem would be that could add a lot to power usage. Though 6h should be plenty of time - wake up, send a small packet, sleep for 6 hours.<p>You would have a central LoRa  receiver in a place that can reach all of the sensors. How far apart are the trees?<p>Other than that, I would suggest testing out lots of different hardware. I bought several different boards before any decisions were made, and I’m glad I didn’t stick to just one. Costed me maybe $30 to buy a gamut of devices and now I’ve settled on a single one that does what I need.<p>Also, make sure you’re flashing with the largest image size you can, if your code becomes too large. For me I had to enable an option in the board settings to use the full memory space.<p>Lastly, one thing you should do is the low power option. See which board supports it the best. Then, what I would do at startup is turn on all the sensors, collect and send data right away, then turn all your sensors off. Do ultra deep sleep for 6 hours. then when it wakes up, don’t bother doing any kind of loop to the beginning - hard reboot. That avoids any problems with memory allocation becoming too large somehow over the course of the program, since it always starts fresh (which is all you need!). I’m not sure the trade off here but for me, I reboot every 12 hours and it works great. (I would do it after every scan but I don’t delay between scans for more constant data, so it would be a lot of set up every single minute).</div><br/><div id="38254661" class="c"><input type="checkbox" id="c-38254661" checked=""/><div class="controls bullet"><span class="by">SCUSKU</span><span>|</span><a href="#38254325">root</a><span>|</span><a href="#38254574">parent</a><span>|</span><a href="#38254614">next</a><span>|</span><label class="collapse" for="c-38254661">[-]</label><label class="expand" for="c-38254661">[1 more]</label></div><br/><div class="children"><div class="content">The trees are all pretty close to each other, about 3-4 city block radius (map of trees [1]). The issue is that as far as I can tell there is no existing LoraWAN gateway on The Things Network I can tap into [2], which means I will have to setup my own gateway. Which is fine, but it may prove to be difficult to get this onto a tall building since I am just an apartment dweller. At the very least I can put the gateway in my apartment window.<p>[1] -- <a href="https:&#x2F;&#x2F;www.google.com&#x2F;maps&#x2F;d&#x2F;u&#x2F;0&#x2F;viewer?mid=1e7K_VdEEYkxuAyGnPslgXgO-lVzAG5o&amp;ll=37.79342060929441%2C-122.41617305&amp;z=16" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.google.com&#x2F;maps&#x2F;d&#x2F;u&#x2F;0&#x2F;viewer?mid=1e7K_VdEEYkxuAy...</a>
[2] -- <a href="https:&#x2F;&#x2F;www.thethingsnetwork.org&#x2F;community&#x2F;san-francisco&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.thethingsnetwork.org&#x2F;community&#x2F;san-francisco&#x2F;</a></div><br/></div></div></div></div></div></div></div></div><div id="38254614" class="c"><input type="checkbox" id="c-38254614" checked=""/><div class="controls bullet"><span class="by">Kevin09210</span><span>|</span><a href="#38254325">parent</a><span>|</span><a href="#38254346">prev</a><span>|</span><a href="#38255103">next</a><span>|</span><label class="collapse" for="c-38254614">[-]</label><label class="expand" for="c-38254614">[1 more]</label></div><br/><div class="children"><div class="content">check this out<p><a href="https:&#x2F;&#x2F;dynamax.com&#x2F;products" rel="nofollow noreferrer">https:&#x2F;&#x2F;dynamax.com&#x2F;products</a></div><br/></div></div><div id="38255103" class="c"><input type="checkbox" id="c-38255103" checked=""/><div class="controls bullet"><span class="by">chasd00</span><span>|</span><a href="#38254325">parent</a><span>|</span><a href="#38254614">prev</a><span>|</span><a href="#38257243">next</a><span>|</span><label class="collapse" for="c-38255103">[-]</label><label class="expand" for="c-38255103">[1 more]</label></div><br/><div class="children"><div class="content">look at Adafruit&#x27;s Feather line up. they have lipo support + charging and then an easy connector to use for i2c which you&#x27;ll probably be using to interface to the sensor. You can probably find one with Lora included.</div><br/></div></div></div></div><div id="38257243" class="c"><input type="checkbox" id="c-38257243" checked=""/><div class="controls bullet"><span class="by">simonbarker87</span><span>|</span><a href="#38254325">prev</a><span>|</span><a href="#38257784">next</a><span>|</span><label class="collapse" for="c-38257243">[-]</label><label class="expand" for="c-38257243">[2 more]</label></div><br/><div class="children"><div class="content">Very impressive. This made me chuckle:<p>&gt; I asked campus IT to whitelist the MAC address<p>Back at my uni this would have been a multi week endeavour with a number of forms and likely a denial. This was 15 years ago so hopefully things have changed there now.</div><br/><div id="38258256" class="c"><input type="checkbox" id="c-38258256" checked=""/><div class="controls bullet"><span class="by">sodality2</span><span>|</span><a href="#38257243">parent</a><span>|</span><a href="#38257784">next</a><span>|</span><label class="collapse" for="c-38258256">[-]</label><label class="expand" for="c-38258256">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s actually because our WiFi portal doesn&#x27;t allow printers, game consoles, etc without browsers to connect, we have to manually add it. Though there is a portal to add it ourselves without IT, I am at the max 5 devices through there so I have to ask for overrides :)</div><br/></div></div></div></div><div id="38257784" class="c"><input type="checkbox" id="c-38257784" checked=""/><div class="controls bullet"><span class="by">scrose</span><span>|</span><a href="#38257243">prev</a><span>|</span><a href="#38259551">next</a><span>|</span><label class="collapse" for="c-38257784">[-]</label><label class="expand" for="c-38257784">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s great seeing all the different approaches people can come up with to do similar things!<p>I recently worked on a similar side project but took a very different approach. It pretty much was just:<p>1. A bash script in a Raspberry Pi W that ran `bluetoothctl` once per minute and wrote the raw output for that minute to a file.<p>2. A systemd process that would ensure the script would get re-run if the process crashed or machine rebooted<p>3. A separate script that parsed the logs and pushed them to a local sqlite DB that tracked the minute the bluetooth id was found.<p>4. A daily push to my backup server that stored the sqlite DB<p>I decided to use systemd and a simple(10loc) bash script since I faced a similar issue to the OP where my pi would crash(although it was purely my fault for messing with a bunch of cables) and I wanted a way to get it running again with the lowest overhead. I also wanted as few dependencies as possible.<p>I went with SQLite because it made querying for trends and building dashboards simpler and more interesting(and because the real project was the sqlite interface I was building :) )<p>One thing I learned from running this which also may answer a couple of OPs questions: Apple devices like hiding themselves. The only way I could get my Apple laptops and phones to show up was to keep the bluetooth settings menu open on them. Otherwise, they wouldn&#x27;t appear to the bluetooth scanner. I can&#x27;t speak much to whether android devices are &#x27;noisier&#x27;, but the lack of bluetooth feeds for Apple devices alone cuts out a significant part of the value of bluetooth scanning for crowd sensing, given the market share for Apple devices.</div><br/></div></div><div id="38259551" class="c"><input type="checkbox" id="c-38259551" checked=""/><div class="controls bullet"><span class="by">stblack</span><span>|</span><a href="#38257784">prev</a><span>|</span><a href="#38256150">next</a><span>|</span><label class="collapse" for="c-38259551">[-]</label><label class="expand" for="c-38259551">[1 more]</label></div><br/><div class="children"><div class="content">This kid is alright. He’s going to do great. Keep doing what you’re doing kid.</div><br/></div></div><div id="38256150" class="c"><input type="checkbox" id="c-38256150" checked=""/><div class="controls bullet"><span class="by">hmottestad</span><span>|</span><a href="#38259551">prev</a><span>|</span><a href="#38255076">next</a><span>|</span><label class="collapse" for="c-38256150">[-]</label><label class="expand" for="c-38256150">[3 more]</label></div><br/><div class="children"><div class="content">Ultra wide band can be used to detect tiny movements of humans in a room. It can detect a finger twitching from several meters away.<p><a href="https:&#x2F;&#x2F;www.eenewseurope.com&#x2F;en&#x2F;uwb-human-sensor-uses-impulse-radar-to-improve-reliability&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.eenewseurope.com&#x2F;en&#x2F;uwb-human-sensor-uses-impuls...</a></div><br/><div id="38256978" class="c"><input type="checkbox" id="c-38256978" checked=""/><div class="controls bullet"><span class="by">fotta</span><span>|</span><a href="#38256150">parent</a><span>|</span><a href="#38255076">next</a><span>|</span><label class="collapse" for="c-38256978">[-]</label><label class="expand" for="c-38256978">[2 more]</label></div><br/><div class="children"><div class="content">Aqara makes a mmWave presence sensor <a href="https:&#x2F;&#x2F;www.aqara.com&#x2F;us&#x2F;product&#x2F;presence-sensor-fp2" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.aqara.com&#x2F;us&#x2F;product&#x2F;presence-sensor-fp2</a></div><br/><div id="38257897" class="c"><input type="checkbox" id="c-38257897" checked=""/><div class="controls bullet"><span class="by">haddonist</span><span>|</span><a href="#38256150">root</a><span>|</span><a href="#38256978">parent</a><span>|</span><a href="#38255076">next</a><span>|</span><label class="collapse" for="c-38257897">[-]</label><label class="expand" for="c-38257897">[1 more]</label></div><br/><div class="children"><div class="content">Make It Work have reviewed 18 different home mmWave sensors, Aqara included:<p>&quot;Best mmWave Presence Sensors for Home Assistant!&quot;
<a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=Kt1FpRM8R18">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=Kt1FpRM8R18</a></div><br/></div></div></div></div></div></div><div id="38255076" class="c"><input type="checkbox" id="c-38255076" checked=""/><div class="controls bullet"><span class="by">epcoa</span><span>|</span><a href="#38256150">prev</a><span>|</span><a href="#38254167">next</a><span>|</span><label class="collapse" for="c-38255076">[-]</label><label class="expand" for="c-38255076">[2 more]</label></div><br/><div class="children"><div class="content">&gt;  and heap thrashing since we&#x27;re allocating and deallocating the result structure every single callback.<p>This should not an issue. It is entirely possible to write this without any dynamic allocation (other than stack) at all, or it could be done be done with an arena.
Consider with something as powerful as an esp32 a hash table is not even strictly necessary, surely for a single purpose use case like this.</div><br/><div id="38255172" class="c"><input type="checkbox" id="c-38255172" checked=""/><div class="controls bullet"><span class="by">sodality2</span><span>|</span><a href="#38255076">parent</a><span>|</span><a href="#38254167">next</a><span>|</span><label class="collapse" for="c-38255172">[-]</label><label class="expand" for="c-38255172">[1 more]</label></div><br/><div class="children"><div class="content">I figure the internal data structure that already exists in the BT library probably uses something similar to a hash table, so I emulated it with less of the data being saved (just a MAC). You’re right though, there are smaller choices for data structures. I ended up upgrading to a better board with more memory, and just used the existing structure in the BT library. It fixed a number of other problems at the same time.</div><br/></div></div></div></div><div id="38254167" class="c"><input type="checkbox" id="c-38254167" checked=""/><div class="controls bullet"><span class="by">dylan604</span><span>|</span><a href="#38255076">prev</a><span>|</span><a href="#38256767">next</a><span>|</span><label class="collapse" for="c-38254167">[-]</label><label class="expand" for="c-38254167">[9 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve heard talks of the toll tag companies wanting to be able to detect occupants in a car so they can properly charge the correct amount of fees when the occupancy changes the amount. I never looked into how that might happen, but I&#x27;m guessing Bluetooth would not be a solve here as it&#x27;s too easy to circumvent if passengers disable bluetooth</div><br/><div id="38254269" class="c"><input type="checkbox" id="c-38254269" checked=""/><div class="controls bullet"><span class="by">HumblyTossed</span><span>|</span><a href="#38254167">parent</a><span>|</span><a href="#38254278">next</a><span>|</span><label class="collapse" for="c-38254269">[-]</label><label class="expand" for="c-38254269">[4 more]</label></div><br/><div class="children"><div class="content">Cameras work well for front occupants.  They&#x27;re already being used to check if commercial drivers are wearing seat belts.</div><br/><div id="38256105" class="c"><input type="checkbox" id="c-38256105" checked=""/><div class="controls bullet"><span class="by">dylan604</span><span>|</span><a href="#38254167">root</a><span>|</span><a href="#38254269">parent</a><span>|</span><a href="#38254278">next</a><span>|</span><label class="collapse" for="c-38256105">[-]</label><label class="expand" for="c-38256105">[3 more]</label></div><br/><div class="children"><div class="content">if a toll tag required me to power it and allow it to record video of the interior of my car at all times, then FUCK THAT NONSENSE!!!! even if they had it setup so that the camera was only turned on briefly by a signal as you approached and then turned off again as you passed the gates, that&#x27;s still a hard no from me.</div><br/><div id="38259107" class="c"><input type="checkbox" id="c-38259107" checked=""/><div class="controls bullet"><span class="by">alx__</span><span>|</span><a href="#38254167">root</a><span>|</span><a href="#38256105">parent</a><span>|</span><a href="#38254278">next</a><span>|</span><label class="collapse" for="c-38259107">[-]</label><label class="expand" for="c-38259107">[2 more]</label></div><br/><div class="children"><div class="content">Uh you&#x27;re over thinking it. They just have cameras in the toll booths that snap a photo when the car crosses the sensor.</div><br/><div id="38259825" class="c"><input type="checkbox" id="c-38259825" checked=""/><div class="controls bullet"><span class="by">dylan604</span><span>|</span><a href="#38254167">root</a><span>|</span><a href="#38259107">parent</a><span>|</span><a href="#38254278">next</a><span>|</span><label class="collapse" for="c-38259825">[-]</label><label class="expand" for="c-38259825">[1 more]</label></div><br/><div class="children"><div class="content">uh, what about the kids sitting in the back rows that can&#x27;t be seen?</div><br/></div></div></div></div></div></div></div></div><div id="38254278" class="c"><input type="checkbox" id="c-38254278" checked=""/><div class="controls bullet"><span class="by">sodality2</span><span>|</span><a href="#38254167">parent</a><span>|</span><a href="#38254269">prev</a><span>|</span><a href="#38254233">next</a><span>|</span><label class="collapse" for="c-38254278">[-]</label><label class="expand" for="c-38254278">[2 more]</label></div><br/><div class="children"><div class="content">That’s much worse of an automobile usage case than the ones I read about (measuring vehicle travel speeds to improve travel time estimates)!<p>Occupancy based pricing for vehicles seems too hard to enforce anyway, change the pricing scheme to something more practical IMO</div><br/><div id="38260010" class="c"><input type="checkbox" id="c-38260010" checked=""/><div class="controls bullet"><span class="by">aidenn0</span><span>|</span><a href="#38254167">root</a><span>|</span><a href="#38254278">parent</a><span>|</span><a href="#38254233">next</a><span>|</span><label class="collapse" for="c-38260010">[-]</label><label class="expand" for="c-38260010">[1 more]</label></div><br/><div class="children"><div class="content">Right now occupancy based pricing involves moving a switch on your toll device to indicate if your car qualifies for the high-occupancy discount (e.g. <a href="https:&#x2F;&#x2F;www.e-zpassiag.com&#x2F;about-e-zpass&#x2F;e-zpass-flex" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.e-zpassiag.com&#x2F;about-e-zpass&#x2F;e-zpass-flex</a>)</div><br/></div></div></div></div><div id="38254233" class="c"><input type="checkbox" id="c-38254233" checked=""/><div class="controls bullet"><span class="by">kurthr</span><span>|</span><a href="#38254167">parent</a><span>|</span><a href="#38254278">prev</a><span>|</span><a href="#38256767">next</a><span>|</span><label class="collapse" for="c-38254233">[-]</label><label class="expand" for="c-38254233">[2 more]</label></div><br/><div class="children"><div class="content">Or (shudder) have more or less than the requisite single phone.</div><br/><div id="38256016" class="c"><input type="checkbox" id="c-38256016" checked=""/><div class="controls bullet"><span class="by">dylan604</span><span>|</span><a href="#38254167">root</a><span>|</span><a href="#38254233">parent</a><span>|</span><a href="#38256767">next</a><span>|</span><label class="collapse" for="c-38256016">[-]</label><label class="expand" for="c-38256016">[1 more]</label></div><br/><div class="children"><div class="content">Obviously a soccer mom taking her bus load of kids somewhere would ruin the bluetooth use case. I never did hear more about how they would actually do it. I just met someone randomly at a holiday gathering a couple of years ago that said that was something his company was working on. The conversation just didn&#x27;t allow for follow up.</div><br/></div></div></div></div></div></div><div id="38256767" class="c"><input type="checkbox" id="c-38256767" checked=""/><div class="controls bullet"><span class="by">userbinator</span><span>|</span><a href="#38254167">prev</a><span>|</span><a href="#38253593">next</a><span>|</span><label class="collapse" for="c-38256767">[-]</label><label class="expand" for="c-38256767">[2 more]</label></div><br/><div class="children"><div class="content"><i>I am also considering selling it to brick-and-mortar businesses that want to measure occupancy trends.</i><p>They&#x27;ve been able to do that long before invasive solutions like this, or computers, even existed --- turnstiles.</div><br/><div id="38258323" class="c"><input type="checkbox" id="c-38258323" checked=""/><div class="controls bullet"><span class="by">fy20</span><span>|</span><a href="#38256767">parent</a><span>|</span><a href="#38253593">next</a><span>|</span><label class="collapse" for="c-38258323">[-]</label><label class="expand" for="c-38258323">[1 more]</label></div><br/><div class="children"><div class="content">How many stores have you visited recently that have turnstiles? You&#x27;ve probably been in more that are using a variation of this tech.<p>There are a few companies offering it as a commercial product, and yes there are people that want to buy it. The value is not just knowing how many people are in a store, but where they are going, what they are spending their time looking at.</div><br/></div></div></div></div><div id="38253593" class="c"><input type="checkbox" id="c-38253593" checked=""/><div class="controls bullet"><span class="by">Animats</span><span>|</span><a href="#38256767">prev</a><span>|</span><a href="#38255058">next</a><span>|</span><label class="collapse" for="c-38253593">[-]</label><label class="expand" for="c-38253593">[3 more]</label></div><br/><div class="children"><div class="content">And with more of these, you could track where everyone is all the time!<p>Here&#x27;s a camera based video people counter.[1] This is a bit less intrusive.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;saimj7&#x2F;People-Counting-in-Real-Time">https:&#x2F;&#x2F;github.com&#x2F;saimj7&#x2F;People-Counting-in-Real-Time</a></div><br/><div id="38253817" class="c"><input type="checkbox" id="c-38253817" checked=""/><div class="controls bullet"><span class="by">sodality2</span><span>|</span><a href="#38253593">parent</a><span>|</span><a href="#38255058">next</a><span>|</span><label class="collapse" for="c-38253817">[-]</label><label class="expand" for="c-38253817">[2 more]</label></div><br/><div class="children"><div class="content">Given manufacturer’s trends of enabling the privacy feature of randomizing the MAC address every n minutes, it would take some serious effort and analysis to reverse these general trends into individuals. I’ve linked a relevant article in the bibliography about these kinds of attacks [1] but in general, at least with user numbers in the hundreds, it would be very difficult.<p>[1]: <a href="https:&#x2F;&#x2F;ieeexplore.ieee.org&#x2F;document&#x2F;9369628" rel="nofollow noreferrer">https:&#x2F;&#x2F;ieeexplore.ieee.org&#x2F;document&#x2F;9369628</a></div><br/><div id="38254320" class="c"><input type="checkbox" id="c-38254320" checked=""/><div class="controls bullet"><span class="by">michaelmior</span><span>|</span><a href="#38253593">root</a><span>|</span><a href="#38253817">parent</a><span>|</span><a href="#38255058">next</a><span>|</span><label class="collapse" for="c-38254320">[-]</label><label class="expand" for="c-38254320">[1 more]</label></div><br/><div class="children"><div class="content">Just skimming that paper, it doesn&#x27;t look like they made use of any kind of fingerprinting. The paper below shows how BLE devices can be profiled to extract a potentially unique fingerprint. I don&#x27;t know how well this would scale to large numbers of devices, but I&#x27;d imagine if you used such a fingerprint, you could dramatically improve the association between randomized MAC addresses even if the fingerprint is not 100% unique.<p><a href="https:&#x2F;&#x2F;inria.hal.science&#x2F;hal-02359914&#x2F;document" rel="nofollow noreferrer">https:&#x2F;&#x2F;inria.hal.science&#x2F;hal-02359914&#x2F;document</a></div><br/></div></div></div></div></div></div><div id="38255058" class="c"><input type="checkbox" id="c-38255058" checked=""/><div class="controls bullet"><span class="by">summm</span><span>|</span><a href="#38253593">prev</a><span>|</span><a href="#38255541">next</a><span>|</span><label class="collapse" for="c-38255058">[-]</label><label class="expand" for="c-38255058">[1 more]</label></div><br/><div class="children"><div class="content">Theres this using ESP32 and LoRa, where you can order readymade hardware: <a href="https:&#x2F;&#x2F;cyberman54.github.io&#x2F;ESP32-Paxcounter&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;cyberman54.github.io&#x2F;ESP32-Paxcounter&#x2F;</a></div><br/></div></div><div id="38255541" class="c"><input type="checkbox" id="c-38255541" checked=""/><div class="controls bullet"><span class="by">j1elo</span><span>|</span><a href="#38255058">prev</a><span>|</span><a href="#38254628">next</a><span>|</span><label class="collapse" for="c-38255541">[-]</label><label class="expand" for="c-38255541">[9 more]</label></div><br/><div class="children"><div class="content">Always surprised to see people running around with their Bluetooth needlessly enabled.<p>Maybe I worry to much about battery usage, but I just got used to always enable WiFi, Bluetooth, or NFC, only at the moment of usage, and disabled afterwards.</div><br/><div id="38255577" class="c"><input type="checkbox" id="c-38255577" checked=""/><div class="controls bullet"><span class="by">ThrowAway1922A</span><span>|</span><a href="#38255541">parent</a><span>|</span><a href="#38255589">next</a><span>|</span><label class="collapse" for="c-38255577">[-]</label><label class="expand" for="c-38255577">[5 more]</label></div><br/><div class="children"><div class="content">I have a smartwatch and airpods, turning off Bluetooth would cause both not to work.<p>I&#x27;m more surprised that anyone ever turns it off, battery use is negligible compared to the cellular modem as I browse the web&#x2F;listen to music.</div><br/><div id="38257213" class="c"><input type="checkbox" id="c-38257213" checked=""/><div class="controls bullet"><span class="by">j1elo</span><span>|</span><a href="#38255541">root</a><span>|</span><a href="#38255577">parent</a><span>|</span><a href="#38255772">next</a><span>|</span><label class="collapse" for="c-38257213">[-]</label><label class="expand" for="c-38257213">[1 more]</label></div><br/><div class="children"><div class="content">Well, I said needlessly because of the amount of times I saw people leaving Bluetooth enabled while not using any BT devices. Their phone enabled it by default, and that&#x27;s how it stays for its lifetime. Even if it&#x27;s small amounts, it must be chipping battery away!<p>Of course if you got a smartwatch you&#x27;ll want to leave BT enabled to get calls messages and such. At least that&#x27;s a good reason to leave it on.</div><br/></div></div><div id="38255772" class="c"><input type="checkbox" id="c-38255772" checked=""/><div class="controls bullet"><span class="by">landemva</span><span>|</span><a href="#38255541">root</a><span>|</span><a href="#38255577">parent</a><span>|</span><a href="#38257213">prev</a><span>|</span><a href="#38255589">next</a><span>|</span><label class="collapse" for="c-38255772">[-]</label><label class="expand" for="c-38255772">[3 more]</label></div><br/><div class="children"><div class="content">I use Bluetooth maybe once or twice a year because I don&#x27;t want to be tracked everwhere. Wired headphones. Phone in airplane mode much of the day. I suppose I am a privacy outlier, and I&#x27;m also not a slave responding to calls&#x2F;texts.</div><br/><div id="38256696" class="c"><input type="checkbox" id="c-38256696" checked=""/><div class="controls bullet"><span class="by">ThrowAway1922A</span><span>|</span><a href="#38255541">root</a><span>|</span><a href="#38255772">parent</a><span>|</span><a href="#38255589">next</a><span>|</span><label class="collapse" for="c-38256696">[-]</label><label class="expand" for="c-38256696">[2 more]</label></div><br/><div class="children"><div class="content">&gt; and I&#x27;m also not a slave responding to calls&#x2F;texts.<p>You do you, but I enjoy talking with my friends and family and I don&#x27;t see responding to them as &quot;slavery&quot;.</div><br/><div id="38257303" class="c"><input type="checkbox" id="c-38257303" checked=""/><div class="controls bullet"><span class="by">landemva</span><span>|</span><a href="#38255541">root</a><span>|</span><a href="#38256696">parent</a><span>|</span><a href="#38255589">next</a><span>|</span><label class="collapse" for="c-38257303">[-]</label><label class="expand" for="c-38257303">[1 more]</label></div><br/><div class="children"><div class="content">Yes, I enjoy experience of life in real life.</div><br/></div></div></div></div></div></div></div></div><div id="38255589" class="c"><input type="checkbox" id="c-38255589" checked=""/><div class="controls bullet"><span class="by">greggsy</span><span>|</span><a href="#38255541">parent</a><span>|</span><a href="#38255577">prev</a><span>|</span><a href="#38255567">next</a><span>|</span><label class="collapse" for="c-38255589">[-]</label><label class="expand" for="c-38255589">[2 more]</label></div><br/><div class="children"><div class="content">I feel like you’re an extreme outlier. It’s not at all surprising, given the convenience in a range of modern day activities like driving a car, listening to music, being in a workplace, or simply being at home.</div><br/><div id="38257234" class="c"><input type="checkbox" id="c-38257234" checked=""/><div class="controls bullet"><span class="by">j1elo</span><span>|</span><a href="#38255541">root</a><span>|</span><a href="#38255589">parent</a><span>|</span><a href="#38255567">next</a><span>|</span><label class="collapse" for="c-38257234">[-]</label><label class="expand" for="c-38257234">[1 more]</label></div><br/><div class="children"><div class="content">But that&#x27;s what I meant, using it when there is a purpose makes a lot of sense of course. I&#x27;d just enable BT, drive, then leave the car and disable BT before putting the phone in my pocket. Why leave it enabled during times that it&#x27;s not paired with any other device?<p>To me it sounds like leaving home and keeping WiFi enabled. It eats battery because it&#x27;s still sending beacons and trying to find some known device to connect to.</div><br/></div></div></div></div><div id="38255567" class="c"><input type="checkbox" id="c-38255567" checked=""/><div class="controls bullet"><span class="by">szundi</span><span>|</span><a href="#38255541">parent</a><span>|</span><a href="#38255589">prev</a><span>|</span><a href="#38254628">next</a><span>|</span><label class="collapse" for="c-38255567">[-]</label><label class="expand" for="c-38255567">[1 more]</label></div><br/><div class="children"><div class="content">Google&#x2F;Apple obfuscating these mac addresses do not help anymore?</div><br/></div></div></div></div><div id="38254628" class="c"><input type="checkbox" id="c-38254628" checked=""/><div class="controls bullet"><span class="by">lormayna</span><span>|</span><a href="#38255541">prev</a><span>|</span><a href="#38255193">next</a><span>|</span><label class="collapse" for="c-38254628">[-]</label><label class="expand" for="c-38254628">[3 more]</label></div><br/><div class="children"><div class="content">Can you use the variation of RSSI to track movement? I know thst it&#x27;s multipath and cannot be really reliable, but maybe it can provide some useful information.
Or maybe using 2 tracking devices and correlate the results.</div><br/><div id="38256988" class="c"><input type="checkbox" id="c-38256988" checked=""/><div class="controls bullet"><span class="by">dividuum</span><span>|</span><a href="#38254628">parent</a><span>|</span><a href="#38255115">next</a><span>|</span><label class="collapse" for="c-38256988">[-]</label><label class="expand" for="c-38256988">[1 more]</label></div><br/><div class="children"><div class="content">I do something like that for my home assistant: I have a few shelly smart plugs that can scan BLE. They filter for apple watches and send the MAC and RSSI to my home assistant where a small neural net then tries to detect the location within my apartment. It works better than I expected given the high variance of signal strength, even when standing still.</div><br/></div></div><div id="38255115" class="c"><input type="checkbox" id="c-38255115" checked=""/><div class="controls bullet"><span class="by">sodality2</span><span>|</span><a href="#38254628">parent</a><span>|</span><a href="#38256988">prev</a><span>|</span><a href="#38255193">next</a><span>|</span><label class="collapse" for="c-38255115">[-]</label><label class="expand" for="c-38255115">[1 more]</label></div><br/><div class="children"><div class="content">Instead of triangulation like that, which could get real complicated, you could also simply place enough in the areas you’re counting and limit the RSSI cut-off enough to measure those right next to it. That would work for specific areas you want to measure trends in, instead of general 3d spatial triangulation.<p>though some of the papers I read did this via measuring the time of flight of BT packets and how they were changed when people walked between them, and that really blew my mind!</div><br/></div></div></div></div><div id="38255193" class="c"><input type="checkbox" id="c-38255193" checked=""/><div class="controls bullet"><span class="by">post_break</span><span>|</span><a href="#38254628">prev</a><span>|</span><label class="collapse" for="c-38255193">[-]</label><label class="expand" for="c-38255193">[1 more]</label></div><br/><div class="children"><div class="content">This paired with a TPMS scanner would be great for occupancy for the entire campus. Scan the TPMS at the major traffic zones, then compare with bluetooth signatures.</div><br/></div></div></div></div></div></div></div></body></html>