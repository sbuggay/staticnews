<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1694509266329" as="style"/><link rel="stylesheet" href="styles.css?v=1694509266329"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://caddyserver.com/docs/automatic-https">Caddy is the first and only web server to use HTTPS automatically and by default</a> <span class="domain">(<a href="https://caddyserver.com">caddyserver.com</a>)</span></div><div class="subtext"><span>aabbcc1241</span> | <span>28 comments</span></div><br/><div><div id="37477774" class="c"><input type="checkbox" id="c-37477774" checked=""/><div class="controls bullet"><span class="by">BilalBudhani</span><span>|</span><a href="#37478099">next</a><span>|</span><label class="collapse" for="c-37477774">[-]</label><label class="expand" for="c-37477774">[9 more]</label></div><br/><div class="children"><div class="content">I believe Caddy brought a much needed paradigm shift in web server space, it is an incredible piece of technology.<p>I have moved all my servers from NGINX to Caddy for the pass few years and I couldn&#x27;t be happier.<p>Also, I would like to give a shoutout to the team behind Caddy. They have been nothing but great about constantly shipping updates and being incredibly helpful in their community forum.</div><br/><div id="37477798" class="c"><input type="checkbox" id="c-37477798" checked=""/><div class="controls bullet"><span class="by">rekoil</span><span>|</span><a href="#37477774">parent</a><span>|</span><a href="#37477901">next</a><span>|</span><label class="collapse" for="c-37477798">[-]</label><label class="expand" for="c-37477798">[7 more]</label></div><br/><div class="children"><div class="content">Caddy is amazing, but on production machines remember to disable the unauthenticated and enabled by default JSON-based admin API bound to localhost:2019, as it can be a serious security risk in certain deployments.<p>Put the following in your Caddyfile at the lowest scope to disable it:<p><pre><code>  {
      admin off
  }</code></pre></div><br/><div id="37478054" class="c"><input type="checkbox" id="c-37478054" checked=""/><div class="controls bullet"><span class="by">executesorder66</span><span>|</span><a href="#37477774">root</a><span>|</span><a href="#37477798">parent</a><span>|</span><a href="#37477901">next</a><span>|</span><label class="collapse" for="c-37478054">[-]</label><label class="expand" for="c-37478054">[6 more]</label></div><br/><div class="children"><div class="content">Alternatively don&#x27;t serve your site over HTTP at all. Just redirect to HTTPS.<p>Edit, I just checked the Caddyfile for one of my sites. There is no config for redirecting HTTP to HTTPS is does it automatically. So this is entirely unnecessary.</div><br/><div id="37478188" class="c"><input type="checkbox" id="c-37478188" checked=""/><div class="controls bullet"><span class="by">rekoil</span><span>|</span><a href="#37477774">root</a><span>|</span><a href="#37478054">parent</a><span>|</span><a href="#37477901">next</a><span>|</span><label class="collapse" for="c-37478188">[-]</label><label class="expand" for="c-37478188">[5 more]</label></div><br/><div class="children"><div class="content">No what I&#x27;m talking about here is the unauthenticated JSON-based configuration API that hosts itself on port 2019 on localhost of the machine that runs Caddy.<p>This is unrelated to sites hosted using HTTP. I was clumsily using the term &quot;HTTP&quot; to refer to the fact that this configuration mechanism is based on HTTP-communication.</div><br/><div id="37478248" class="c"><input type="checkbox" id="c-37478248" checked=""/><div class="controls bullet"><span class="by">executesorder66</span><span>|</span><a href="#37477774">root</a><span>|</span><a href="#37478188">parent</a><span>|</span><a href="#37477901">next</a><span>|</span><label class="collapse" for="c-37478248">[-]</label><label class="expand" for="c-37478248">[4 more]</label></div><br/><div class="children"><div class="content">So if I understand this correctly, anyone can bring down a site with a Caddy server by just running : curl -X POST &quot;<a href="https:&#x2F;&#x2F;example.com:2019&#x2F;stop" rel="nofollow noreferrer">https:&#x2F;&#x2F;example.com:2019&#x2F;stop</a>&quot; ? [0]<p>Seems counter to their objective of having secure defaults.<p>[0] <a href="https:&#x2F;&#x2F;caddyserver.com&#x2F;docs&#x2F;api#post-stop" rel="nofollow noreferrer">https:&#x2F;&#x2F;caddyserver.com&#x2F;docs&#x2F;api#post-stop</a></div><br/><div id="37478361" class="c"><input type="checkbox" id="c-37478361" checked=""/><div class="controls bullet"><span class="by">gkbrk</span><span>|</span><a href="#37477774">root</a><span>|</span><a href="#37478248">parent</a><span>|</span><a href="#37478353">next</a><span>|</span><label class="collapse" for="c-37478361">[-]</label><label class="expand" for="c-37478361">[2 more]</label></div><br/><div class="children"><div class="content">No, by default it listens on localhost. So only processes running on the same machine can connect to that port.</div><br/><div id="37478370" class="c"><input type="checkbox" id="c-37478370" checked=""/><div class="controls bullet"><span class="by">executesorder66</span><span>|</span><a href="#37477774">root</a><span>|</span><a href="#37478361">parent</a><span>|</span><a href="#37478353">next</a><span>|</span><label class="collapse" for="c-37478370">[-]</label><label class="expand" for="c-37478370">[1 more]</label></div><br/><div class="children"><div class="content">[delayed]</div><br/></div></div></div></div><div id="37478353" class="c"><input type="checkbox" id="c-37478353" checked=""/><div class="controls bullet"><span class="by">jorams</span><span>|</span><a href="#37477774">root</a><span>|</span><a href="#37478248">parent</a><span>|</span><a href="#37478361">prev</a><span>|</span><a href="#37477901">next</a><span>|</span><label class="collapse" for="c-37478353">[-]</label><label class="expand" for="c-37478353">[1 more]</label></div><br/><div class="children"><div class="content">No, it is only bound to localhost.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="37477901" class="c"><input type="checkbox" id="c-37477901" checked=""/><div class="controls bullet"><span class="by">tetris11</span><span>|</span><a href="#37477774">parent</a><span>|</span><a href="#37477798">prev</a><span>|</span><a href="#37478099">next</a><span>|</span><label class="collapse" for="c-37477901">[-]</label><label class="expand" for="c-37477901">[1 more]</label></div><br/><div class="children"><div class="content">Their filebrowser (originally part of caddy, since split out)[1] is a pretty nice tool for serving web-based browser of your NAS files.<p>I&#x27;m also a huge fan of Caddy&#x27;s &quot;handle&quot; and &quot;handle_path&quot; directives for their simplicity.<p>One thing I will say against it though is that it does seem to run a little hotter than Nginx on my Pi4. Just random spikes here and there, whereas Nginx barely used to blip.<p>1: <a href="https:&#x2F;&#x2F;filebrowser.org&#x2F;installation&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;filebrowser.org&#x2F;installation&#x2F;</a></div><br/></div></div></div></div><div id="37478099" class="c"><input type="checkbox" id="c-37478099" checked=""/><div class="controls bullet"><span class="by">melx</span><span>|</span><a href="#37477774">prev</a><span>|</span><a href="#37477680">next</a><span>|</span><label class="collapse" for="c-37478099">[-]</label><label class="expand" for="c-37478099">[1 more]</label></div><br/><div class="children"><div class="content">I did benchmark it against nginx and found Caddy to be 5-7x times slower, but like all benchmarks go...results are subject to ones requirements (or mistakes).<p>What got me away from using it:<p>- the directives feel intuitive but as soon as I needed a complex config it all became a chain of very implicit strings<p>- the caddy author(s) decided few years ago to add custom http header with their sponsors[0]. That header could not be removed, it&#x27;s no longer present in current Caddy but the bad taste still remains.<p>[0] <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=15238315">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=15238315</a></div><br/></div></div><div id="37477680" class="c"><input type="checkbox" id="c-37477680" checked=""/><div class="controls bullet"><span class="by">fodkodrasz</span><span>|</span><a href="#37478099">prev</a><span>|</span><a href="#37478333">next</a><span>|</span><label class="collapse" for="c-37477680">[-]</label><label class="expand" for="c-37477680">[6 more]</label></div><br/><div class="children"><div class="content">Backing the days (5+ years ago I think) we tried it, and while it was nice its licensing&#x2F;pricing made us not use it for our startup, as it seemed to pose a sustainability threat when growing (or not growing the right pace).<p>Has it improved since then?<p>disclaimer: I don&#x27;t remember the details, I was just told to use nginx because caddy is problematic, so I built the system with nginx open source.</div><br/><div id="37477742" class="c"><input type="checkbox" id="c-37477742" checked=""/><div class="controls bullet"><span class="by">MathiasPius</span><span>|</span><a href="#37477680">parent</a><span>|</span><a href="#37477718">next</a><span>|</span><label class="collapse" for="c-37477742">[-]</label><label class="expand" for="c-37477742">[1 more]</label></div><br/><div class="children"><div class="content">This got me curious (and a bit worried) so I checked, and it seems like it might have been differently licensed for commercial use around the time you mention, but that no longer appears to be the case: <a href="https:&#x2F;&#x2F;caddy.community&#x2F;t&#x2F;caddy-license-for-commercial-use&#x2F;17170" rel="nofollow noreferrer">https:&#x2F;&#x2F;caddy.community&#x2F;t&#x2F;caddy-license-for-commercial-use&#x2F;1...</a></div><br/></div></div><div id="37477718" class="c"><input type="checkbox" id="c-37477718" checked=""/><div class="controls bullet"><span class="by">alias_neo</span><span>|</span><a href="#37477680">parent</a><span>|</span><a href="#37477742">prev</a><span>|</span><a href="#37477684">next</a><span>|</span><label class="collapse" for="c-37477718">[-]</label><label class="expand" for="c-37477718">[1 more]</label></div><br/><div class="children"><div class="content">We had the same issue, and between that and the author&#x27;s attitude towards the community feedback at the time meant I simply won&#x27;t look back and got more and more familiar with NGINX.</div><br/></div></div><div id="37477684" class="c"><input type="checkbox" id="c-37477684" checked=""/><div class="controls bullet"><span class="by">369548684892826</span><span>|</span><a href="#37477680">parent</a><span>|</span><a href="#37477718">prev</a><span>|</span><a href="#37478333">next</a><span>|</span><label class="collapse" for="c-37477684">[-]</label><label class="expand" for="c-37477684">[3 more]</label></div><br/><div class="children"><div class="content">&gt; Backing the days<p>eggcorn or autocorrect?</div><br/><div id="37477726" class="c"><input type="checkbox" id="c-37477726" checked=""/><div class="controls bullet"><span class="by">fodkodrasz</span><span>|</span><a href="#37477680">root</a><span>|</span><a href="#37477684">parent</a><span>|</span><a href="#37478333">next</a><span>|</span><label class="collapse" for="c-37477726">[-]</label><label class="expand" for="c-37477726">[2 more]</label></div><br/><div class="children"><div class="content">Neither. Lack of coffee. Won&#x27;t correct it now :D<p>(English is not my mother tongue, which is a phonetic language, Hungarian, and while I know the difference very well, being tired causes these kinds of typos sometimes)</div><br/><div id="37477867" class="c"><input type="checkbox" id="c-37477867" checked=""/><div class="controls bullet"><span class="by">Semaphor</span><span>|</span><a href="#37477680">root</a><span>|</span><a href="#37477726">parent</a><span>|</span><a href="#37478333">next</a><span>|</span><label class="collapse" for="c-37477867">[-]</label><label class="expand" for="c-37477867">[1 more]</label></div><br/><div class="children"><div class="content">I (native language German) sometimes make similar homophone typing errors. My brain knew what I wanted to type, but is already further ahead, by the time (100-200ms) I get to typing it, my fingers only remember the sound of it and sometimes write something different that sounds similar (like to and two) or the same. It’s weird.<p>Not sure if I’d make those mistakes in German as well, as I write far less in it ;)</div><br/></div></div></div></div></div></div></div></div><div id="37478333" class="c"><input type="checkbox" id="c-37478333" checked=""/><div class="controls bullet"><span class="by">yakubin</span><span>|</span><a href="#37477680">prev</a><span>|</span><a href="#37477518">next</a><span>|</span><label class="collapse" for="c-37478333">[-]</label><label class="expand" for="c-37478333">[1 more]</label></div><br/><div class="children"><div class="content">I like Caddy, mainly for the ease of configuration. One thing that surprised me though: by default it has compression disabled. I discovered it 1 year after moving from nginx (with the nginx config having compression enabled) and it was funny, because at the time of migration I got comparable performance out of the two. Obviously, after enabling compression, it’s faster now.</div><br/></div></div><div id="37477518" class="c"><input type="checkbox" id="c-37477518" checked=""/><div class="controls bullet"><span class="by">zoidb</span><span>|</span><a href="#37478333">prev</a><span>|</span><a href="#37478105">next</a><span>|</span><label class="collapse" for="c-37477518">[-]</label><label class="expand" for="c-37477518">[6 more]</label></div><br/><div class="children"><div class="content">Caddy had been a joy for me personally coming from NGINX. I especially love the ease of adding a new site and how little config it takes. Small self plug, I recently wrote an article about some cool config examples <a href="https:&#x2F;&#x2F;jarv.org&#x2F;posts&#x2F;cool-caddy-config-tricks&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;jarv.org&#x2F;posts&#x2F;cool-caddy-config-tricks&#x2F;</a></div><br/><div id="37477552" class="c"><input type="checkbox" id="c-37477552" checked=""/><div class="controls bullet"><span class="by">thomasfromcdnjs</span><span>|</span><a href="#37477518">parent</a><span>|</span><a href="#37477570">next</a><span>|</span><label class="collapse" for="c-37477552">[-]</label><label class="expand" for="c-37477552">[4 more]</label></div><br/><div class="children"><div class="content">For local development, I don&#x27;t think nginx&#x2F;apache even contend against it. The config is incredibly readable, and caddy is a single executable with no dependencies.</div><br/><div id="37477563" class="c"><input type="checkbox" id="c-37477563" checked=""/><div class="controls bullet"><span class="by">isodev</span><span>|</span><a href="#37477518">root</a><span>|</span><a href="#37477552">parent</a><span>|</span><a href="#37477570">next</a><span>|</span><label class="collapse" for="c-37477563">[-]</label><label class="expand" for="c-37477563">[3 more]</label></div><br/><div class="children"><div class="content">Also for production, it&#x27;s such a joy to be able to configure a VM with a single Caddyfile (or worst case, provision the server using the Caddy REST API). I love it!</div><br/><div id="37477666" class="c"><input type="checkbox" id="c-37477666" checked=""/><div class="controls bullet"><span class="by">berkes</span><span>|</span><a href="#37477518">root</a><span>|</span><a href="#37477563">parent</a><span>|</span><a href="#37477570">next</a><span>|</span><label class="collapse" for="c-37477666">[-]</label><label class="expand" for="c-37477666">[2 more]</label></div><br/><div class="children"><div class="content">Same here.<p>And, having mostly worked with Rails, PHP and Python http services, the proxying webserver is hardly ever a performance issue. You can stick the slowest webserver in front of a Rails (Rack) app and still be unable to measure the latency it adds.<p>I&#x27;ve been using caddy for years and while it&#x27;s slower in benchmarks, than others, I&#x27;ve never had the practical situation where that mattered.</div><br/><div id="37477703" class="c"><input type="checkbox" id="c-37477703" checked=""/><div class="controls bullet"><span class="by">campbel</span><span>|</span><a href="#37477518">root</a><span>|</span><a href="#37477666">parent</a><span>|</span><a href="#37477570">next</a><span>|</span><label class="collapse" for="c-37477703">[-]</label><label class="expand" for="c-37477703">[1 more]</label></div><br/><div class="children"><div class="content">If you mean running caddy on the same VM &#x2F; server as the upstream, I suspect you&#x27;re only incurring nanoseconds of extra latency.</div><br/></div></div></div></div></div></div></div></div><div id="37477570" class="c"><input type="checkbox" id="c-37477570" checked=""/><div class="controls bullet"><span class="by">caddyroxors</span><span>|</span><a href="#37477518">parent</a><span>|</span><a href="#37477552">prev</a><span>|</span><a href="#37478105">next</a><span>|</span><label class="collapse" for="c-37477570">[-]</label><label class="expand" for="c-37477570">[1 more]</label></div><br/><div class="children"><div class="content">Comparing it to nginx is a such a low bar; 9 out of 10 masochists prefer nginx over any other tool.<p>But I see and agree with your overall point. Caddy is like a breath of fresh air, and just as useful!</div><br/></div></div></div></div><div id="37478105" class="c"><input type="checkbox" id="c-37478105" checked=""/><div class="controls bullet"><span class="by">KronisLV</span><span>|</span><a href="#37477518">prev</a><span>|</span><a href="#37478019">next</a><span>|</span><label class="collapse" for="c-37478105">[-]</label><label class="expand" for="c-37478105">[1 more]</label></div><br/><div class="children"><div class="content">Caddy seems to be continuously getting better and I think mholt occasionally hangs around here and is a rather pleasant person.<p>I recall once needing to help a new person in another team setup TLS after they had tried to do it unsuccessfully themselves in some configuration (that might have had a networking setup where HTTP-01 for ACME doesn&#x27;t work, actually). I just started recording my desktop, grabbed a server from Hetzner live and thanks to Caddy could give them an example of how things should work with all of the steps in like 5 minutes total.<p>Nowadays I use Apache (mod_md) for my personal needs due to some plugins I need, it actually makes me wonder why Nginx doesn&#x27;t seem to have integrated support for ACME yet, even if certbot is serviceable too. Either way, props to Caddy for raising the bar for web servers.</div><br/></div></div><div id="37478019" class="c"><input type="checkbox" id="c-37478019" checked=""/><div class="controls bullet"><span class="by">jmstfv</span><span>|</span><a href="#37478105">prev</a><span>|</span><a href="#37477999">next</a><span>|</span><label class="collapse" for="c-37478019">[-]</label><label class="expand" for="c-37478019">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been using Caddy for two of my businesses, and it&#x27;s been great so far.<p>In my previous business, I was running an uptime monitoring service, where I had to provision on-demand certificates for clients. It took me a while to bring all the pieces together - got caught up in the transition between versions&#x2F;setups - but managed to get it working in the end (with the generous help from the community forum).<p>In my current business, I have the barebones setup and don&#x27;t even think about it. It just works.</div><br/></div></div><div id="37477999" class="c"><input type="checkbox" id="c-37477999" checked=""/><div class="controls bullet"><span class="by">ttyyzz</span><span>|</span><a href="#37478019">prev</a><span>|</span><label class="collapse" for="c-37477999">[-]</label><label class="expand" for="c-37477999">[2 more]</label></div><br/><div class="children"><div class="content">I love Caddy, using it as a Reverse proxy (even in docker) is so nice and easy. All you need is 2 lines of config:<p>:2080<p>reverse_proxy :9000</div><br/><div id="37478404" class="c"><input type="checkbox" id="c-37478404" checked=""/><div class="controls bullet"><span class="by">dizhn</span><span>|</span><a href="#37477999">parent</a><span>|</span><label class="collapse" for="c-37478404">[-]</label><label class="expand" for="c-37478404">[1 more]</label></div><br/><div class="children"><div class="content">Free certs is also just a one line &quot;email myemail@example.com&quot;. This applies to all sites and everything is auto managed.<p>It also has a nice one line shortcut directive which applies to the vast majority of php sites out there.</div><br/></div></div></div></div></div></div></div></div></div></body></html>