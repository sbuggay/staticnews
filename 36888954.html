<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1690534870399" as="style"/><link rel="stylesheet" href="styles.css?v=1690534870399"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://mail.tarsnap.com/tarsnap-announce/msg00050.html">Tarsnap outage postmortem</a> <span class="domain">(<a href="https://mail.tarsnap.com">mail.tarsnap.com</a>)</span></div><div class="subtext"><span>anderiv</span> | <span>306 comments</span></div><br/><div><div id="36896026" class="c"><input type="checkbox" id="c-36896026" checked=""/><div class="controls bullet"><span class="by">deathanatos</span><span>|</span><a href="#36889237">next</a><span>|</span><label class="collapse" for="c-36896026">[-]</label><label class="expand" for="c-36896026">[4 more]</label></div><br/><div class="children"><div class="content">&gt; <i>Following my ill-defined &quot;Tarsnap doesn&#x27;t have an SLA but I&#x27;ll give people
credits for outages when it seems fair&quot; policy, on 2023-07-13 (after some dust
settled and I caught up on some sleep) I credited everyone&#x27;s Tarsnap accounts
with 50% of a month&#x27;s storage costs.</i><p>This speaks volumes to me about what kind of person Percival is; that credit would appear to be generously on the &quot;make customer whole&quot; side of the fence, and unlike the major cloud providers, he didn&#x27;t make each customer come and individually grovel for it. And a clearly written, technical, detailed PM, too. <i>This</i> is how it ought to be done, and done everywhere. Thanks for being a beacon of light in the dark.</div><br/><div id="36896496" class="c"><input type="checkbox" id="c-36896496" checked=""/><div class="controls bullet"><span class="by">rsync</span><span>|</span><a href="#36896026">parent</a><span>|</span><a href="#36889237">next</a><span>|</span><label class="collapse" for="c-36896496">[-]</label><label class="expand" for="c-36896496">[3 more]</label></div><br/><div class="children"><div class="content">&quot;Thanks for being a beacon of light in the dark.&quot;<p>That&#x27;s well put.<p>It makes me very happy to live in a world where tarsnap exists and is priced in picodollars.</div><br/><div id="36898881" class="c"><input type="checkbox" id="c-36898881" checked=""/><div class="controls bullet"><span class="by">cperciva</span><span>|</span><a href="#36896026">root</a><span>|</span><a href="#36896496">parent</a><span>|</span><a href="#36889237">next</a><span>|</span><label class="collapse" for="c-36898881">[-]</label><label class="expand" for="c-36898881">[2 more]</label></div><br/><div class="children"><div class="content">For the record, I&#x27;m happy to live in a world where rsync.net exists.  I&#x27;ve pointed quite a few customers in your direction over the years, when tarsnap hasn&#x27;t been suitable for their needs for a variety of reasons.</div><br/><div id="36900280" class="c"><input type="checkbox" id="c-36900280" checked=""/><div class="controls bullet"><span class="by">jpgvm</span><span>|</span><a href="#36896026">root</a><span>|</span><a href="#36898881">parent</a><span>|</span><a href="#36889237">next</a><span>|</span><label class="collapse" for="c-36900280">[-]</label><label class="expand" for="c-36900280">[1 more]</label></div><br/><div class="children"><div class="content">They make a good pairing. I backup my ZFS NAS to rsync.net for all my media and Tarsnap for all my documents&#x2F;critical things.</div><br/></div></div></div></div></div></div></div></div><div id="36889237" class="c"><input type="checkbox" id="c-36889237" checked=""/><div class="controls bullet"><span class="by">cperciva</span><span>|</span><a href="#36896026">prev</a><span>|</span><a href="#36894904">next</a><span>|</span><label class="collapse" for="c-36889237">[-]</label><label class="expand" for="c-36889237">[86 more]</label></div><br/><div class="children"><div class="content"><i>blinks</i><p>Ok, I really wasn&#x27;t expecting this to land at the top of HN.  I&#x27;d love to stick around to answer any questions people have, but it&#x27;s 10PM and my toddler decided to go to bed at 5PM... so if I&#x27;m lucky I can get about 4 hours of sleep before she decides that it&#x27;s time to get up.  I&#x27;ll check in and answer questions in the morning.</div><br/><div id="36889477" class="c"><input type="checkbox" id="c-36889477" checked=""/><div class="controls bullet"><span class="by">stigz</span><span>|</span><a href="#36889237">parent</a><span>|</span><a href="#36893535">next</a><span>|</span><label class="collapse" for="c-36889477">[-]</label><label class="expand" for="c-36889477">[56 more]</label></div><br/><div class="children"><div class="content">Why would I use your service over restic?<p>God bless you Colin, but reading this, it appears you&#x27;re the only one in charge of the infrastructure for this service. I&#x27;m glad you&#x27;re clear about no SLA, but this seems like a big liability between me and my backups.</div><br/><div id="36892822" class="c"><input type="checkbox" id="c-36892822" checked=""/><div class="controls bullet"><span class="by">ivanhoe</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36889477">parent</a><span>|</span><a href="#36889744">next</a><span>|</span><label class="collapse" for="c-36892822">[-]</label><label class="expand" for="c-36892822">[6 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a pretty well-known fact for years that tarsnap is basically a one-man show, and yet Colin has managed to provide fantastic service so far. Sometimes having ppl who built the service also managing it is actually a big plus, compared to other services where you first have to fight through outsourced &amp; underpaid support that&#x27;s limited to template answers, only to finally get some &quot;engineer&quot; who got that job 2 months ago and is more clueless on their system than myself...</div><br/><div id="36897912" class="c"><input type="checkbox" id="c-36897912" checked=""/><div class="controls bullet"><span class="by">stouset</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36892822">parent</a><span>|</span><a href="#36896377">next</a><span>|</span><label class="collapse" for="c-36897912">[-]</label><label class="expand" for="c-36897912">[1 more]</label></div><br/><div class="children"><div class="content">And to be frank, I&#x27;ve seen <i>plenty</i> of mission-critical services at $bigco which may have had a team of engineers working on them, but the core functionality was maintained, understood, and supported by effectively one senior engineer. If anything went wrong, the supporting junior staff might have been able to fix reasonably simple stuff, but there was essentially one person who understood the system deeply enough to handle problems of any real significance.</div><br/></div></div><div id="36896377" class="c"><input type="checkbox" id="c-36896377" checked=""/><div class="controls bullet"><span class="by">andrewmunsell</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36892822">parent</a><span>|</span><a href="#36897912">prev</a><span>|</span><a href="#36892930">next</a><span>|</span><label class="collapse" for="c-36896377">[-]</label><label class="expand" for="c-36896377">[3 more]</label></div><br/><div class="children"><div class="content">I hate to bring this up, but what about the bus factor? If Colin is physically unable to continue maintaining the service and something like this happens again, how will anyone be able to get their data out? It&#x27;s not really a concern about the service Tarsnap provides today</div><br/><div id="36897816" class="c"><input type="checkbox" id="c-36897816" checked=""/><div class="controls bullet"><span class="by">Alupis</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36896377">parent</a><span>|</span><a href="#36892930">next</a><span>|</span><label class="collapse" for="c-36897816">[-]</label><label class="expand" for="c-36897816">[2 more]</label></div><br/><div class="children"><div class="content">There&#x27;s an old Sys Admin saying (perhaps from Allan Jude of ScaleEngine) that goes something like &quot;if your data doesn&#x27;t exist in at least three places, it doesn&#x27;t actually exist at all...&quot;<p>That is to say, if Tarsnap is the only place you&#x27;ve keeping sensitive&#x2F;important data, then you&#x27;re &quot;not doing it right&quot; as a backup. Things happen... your hard drive can die suddenly, and a data center bursts into flames all on the same day.</div><br/><div id="36898859" class="c"><input type="checkbox" id="c-36898859" checked=""/><div class="controls bullet"><span class="by">dryrun</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36897816">parent</a><span>|</span><a href="#36892930">next</a><span>|</span><label class="collapse" for="c-36898859">[-]</label><label class="expand" for="c-36898859">[1 more]</label></div><br/><div class="children"><div class="content">I feel like ovh will never stop earing about this. This has been, frankly, a traumatic event for many sysadmins I believe, and one that was shared by many from the same source, which is quite different from the standard variation of &quot;that time when I erased the production database&quot; (looking at you gitlab, but also at myself!). I mean, at this point it&#x27;s between a legend and a warning tale and I don&#x27;t know what else to call it. A bad Wednesday probably.</div><br/></div></div></div></div></div></div><div id="36892930" class="c"><input type="checkbox" id="c-36892930" checked=""/><div class="controls bullet"><span class="by">tomjakubowski</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36892822">parent</a><span>|</span><a href="#36896377">prev</a><span>|</span><a href="#36889744">next</a><span>|</span><label class="collapse" for="c-36892930">[-]</label><label class="expand" for="c-36892930">[1 more]</label></div><br/><div class="children"><div class="content">Why the scare quotes?  I would expect any well-experienced power user to know a complicated system better than a fresh engineer two months into working on it, with no previous experience on the system.  Especially if the power user is an engineer themself.</div><br/></div></div></div></div><div id="36889744" class="c"><input type="checkbox" id="c-36889744" checked=""/><div class="controls bullet"><span class="by">crossroadsguy</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36889477">parent</a><span>|</span><a href="#36892822">prev</a><span>|</span><a href="#36897433">next</a><span>|</span><label class="collapse" for="c-36889744">[-]</label><label class="expand" for="c-36889744">[1 more]</label></div><br/><div class="children"><div class="content">You really shouldn’t if that’s a major concern for you and that is a valid concern. For the same reason I’ll never use PurelyMail otherwise it’s perfect.<p>I know you didn’t ask me — but I don’t think Colin can answer differently other than saying that he is training a family member or friend to take over if needed.<p>Here’s more <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=7514753">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=7514753</a> this is also linked there <a href="http:&#x2F;&#x2F;mail.tarsnap.com&#x2F;tarsnap-users&#x2F;msg00846.html" rel="nofollow noreferrer">http:&#x2F;&#x2F;mail.tarsnap.com&#x2F;tarsnap-users&#x2F;msg00846.html</a><p>Very old threads but I am not sure much has changed there <a href="https:&#x2F;&#x2F;www.tarsnap.com&#x2F;contact.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.tarsnap.com&#x2F;contact.html</a><p>Why would you use it instead of restic? Well,  for pricing in pico dollars ;-)<p>and for it has a functional GUI with tiny system footprint and that there really aren’t many such solutions out there.</div><br/></div></div><div id="36897433" class="c"><input type="checkbox" id="c-36897433" checked=""/><div class="controls bullet"><span class="by">twic</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36889477">parent</a><span>|</span><a href="#36889744">prev</a><span>|</span><a href="#36892144">next</a><span>|</span><label class="collapse" for="c-36897433">[-]</label><label class="expand" for="c-36897433">[8 more]</label></div><br/><div class="children"><div class="content">&gt; God bless you Colin, but reading this, it appears you&#x27;re the only one in charge of the infrastructure for this service<p>Hence the toddler.</div><br/><div id="36902716" class="c"><input type="checkbox" id="c-36902716" checked=""/><div class="controls bullet"><span class="by">devonkim</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36897433">parent</a><span>|</span><a href="#36899083">next</a><span>|</span><label class="collapse" for="c-36902716">[-]</label><label class="expand" for="c-36902716">[2 more]</label></div><br/><div class="children"><div class="content">I am really confused by the communication thread and am interpreting that the toddler is somehow in charge of running the infrastructure as a joke. Yet I can’t see it as either a joke or serious.<p>I’m a native English speaker but sometimes I swear I’m losing grasp on communication in the Internet age and am sincerely trying to understand this all.</div><br/><div id="36902731" class="c"><input type="checkbox" id="c-36902731" checked=""/><div class="controls bullet"><span class="by">NhanH</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36902716">parent</a><span>|</span><a href="#36899083">next</a><span>|</span><label class="collapse" for="c-36902731">[-]</label><label class="expand" for="c-36902731">[1 more]</label></div><br/><div class="children"><div class="content">The joke is that the toddler is for future maintenance, not now.</div><br/></div></div></div></div><div id="36899083" class="c"><input type="checkbox" id="c-36899083" checked=""/><div class="controls bullet"><span class="by">hunter2_</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36897433">parent</a><span>|</span><a href="#36902716">prev</a><span>|</span><a href="#36892144">next</a><span>|</span><label class="collapse" for="c-36899083">[-]</label><label class="expand" for="c-36899083">[5 more]</label></div><br/><div class="children"><div class="content">Are you suggesting that those who build enterprises don&#x27;t have time for kids? Seems plausible, but is the difference in lifestyle so consistently prevalent as to be stereotypical? Elon has 10!</div><br/><div id="36899460" class="c"><input type="checkbox" id="c-36899460" checked=""/><div class="controls bullet"><span class="by">molsongolden</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36899083">parent</a><span>|</span><a href="#36892144">next</a><span>|</span><label class="collapse" for="c-36899460">[-]</label><label class="expand" for="c-36899460">[4 more]</label></div><br/><div class="children"><div class="content">Raising the toddler to have some help running the business.</div><br/><div id="36903459" class="c"><input type="checkbox" id="c-36903459" checked=""/><div class="controls bullet"><span class="by">cperciva</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36899460">parent</a><span>|</span><a href="#36902297">next</a><span>|</span><label class="collapse" for="c-36903459">[-]</label><label class="expand" for="c-36903459">[2 more]</label></div><br/><div class="children"><div class="content">Might take a while.  Tarsnap has never had an employee without a doctorate.  She&#x27;s a very bright girl but I&#x27;ll be surprised if she gets her doctorate before 2040.</div><br/><div id="36903880" class="c"><input type="checkbox" id="c-36903880" checked=""/><div class="controls bullet"><span class="by">mdda</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36903459">parent</a><span>|</span><a href="#36902297">next</a><span>|</span><label class="collapse" for="c-36903880">[-]</label><label class="expand" for="c-36903880">[1 more]</label></div><br/><div class="children"><div class="content">So you&#x27;re the one in charge of the unix epoch rollover?</div><br/></div></div></div></div><div id="36902297" class="c"><input type="checkbox" id="c-36902297" checked=""/><div class="controls bullet"><span class="by">saurik</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36899460">parent</a><span>|</span><a href="#36903459">prev</a><span>|</span><a href="#36892144">next</a><span>|</span><label class="collapse" for="c-36902297">[-]</label><label class="expand" for="c-36902297">[1 more]</label></div><br/><div class="children"><div class="content">Not just help: there is now a clear heir to take over if (the gods forbid) cperciva ever succumbs to illness or is defeated in battle.</div><br/></div></div></div></div></div></div></div></div><div id="36892144" class="c"><input type="checkbox" id="c-36892144" checked=""/><div class="controls bullet"><span class="by">amluto</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36889477">parent</a><span>|</span><a href="#36897433">prev</a><span>|</span><a href="#36892850">next</a><span>|</span><label class="collapse" for="c-36892144">[-]</label><label class="expand" for="c-36892144">[3 more]</label></div><br/><div class="children"><div class="content">tarsnap natively protects against inadvertent or malicious deletion or corruption — old tarsnap backups are immutablez The low-cost competitors (restic, borg, etc) seem to have this feature as an afterthought, and they make it surprisingly difficult.<p>(FWIW, S3 can be somewhat straightforwardly configured so that old data is effectively immutable. Google Cloud Storage’s similarly named versioning feature appears to be far weaker.)</div><br/><div id="36892331" class="c"><input type="checkbox" id="c-36892331" checked=""/><div class="controls bullet"><span class="by">e1g</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36892144">parent</a><span>|</span><a href="#36892850">next</a><span>|</span><label class="collapse" for="c-36892331">[-]</label><label class="expand" for="c-36892331">[2 more]</label></div><br/><div class="children"><div class="content">Yep, S3 is reasonably easy to configure for immutability. I personally use restic to send (encrypted) blobs to <a href="https:&#x2F;&#x2F;www.borgbase.com" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.borgbase.com</a> which has append-only mode and monitoring to warn me if some backups didn&#x27;t happen.</div><br/><div id="36893312" class="c"><input type="checkbox" id="c-36893312" checked=""/><div class="controls bullet"><span class="by">crossroadsguy</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36892331">parent</a><span>|</span><a href="#36892850">next</a><span>|</span><label class="collapse" for="c-36893312">[-]</label><label class="expand" for="c-36893312">[1 more]</label></div><br/><div class="children"><div class="content">borgbase is another “little” service that I use and like just like tarsnap and to some extent rsync.net. And they also have an excellent gui app Vorta (it’s FOSS; borgbase dev is the maintainer).</div><br/></div></div></div></div></div></div><div id="36892850" class="c"><input type="checkbox" id="c-36892850" checked=""/><div class="controls bullet"><span class="by">88913527</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36889477">parent</a><span>|</span><a href="#36892144">prev</a><span>|</span><a href="#36891299">next</a><span>|</span><label class="collapse" for="c-36892850">[-]</label><label class="expand" for="c-36892850">[1 more]</label></div><br/><div class="children"><div class="content">Even large organizations can have fairly regular availability issues. I appreciate the noted flaws of &quot;single point of failure&quot;, but I also see orgs where 100s of people have access to the infrastructure, make a change, and then it breaks something. I wouldn&#x27;t do business with an org just because they have many people, that won&#x27;t mean they&#x27;re operationally sound, at least not to my expectations.</div><br/></div></div><div id="36891299" class="c"><input type="checkbox" id="c-36891299" checked=""/><div class="controls bullet"><span class="by">k8sToGo</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36889477">parent</a><span>|</span><a href="#36892850">prev</a><span>|</span><a href="#36889715">next</a><span>|</span><label class="collapse" for="c-36891299">[-]</label><label class="expand" for="c-36891299">[10 more]</label></div><br/><div class="children"><div class="content">If the data is super important you should be setting on two different providers anyways for backups.</div><br/><div id="36892145" class="c"><input type="checkbox" id="c-36892145" checked=""/><div class="controls bullet"><span class="by">VWWHFSfQ</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36891299">parent</a><span>|</span><a href="#36889715">next</a><span>|</span><label class="collapse" for="c-36892145">[-]</label><label class="expand" for="c-36892145">[9 more]</label></div><br/><div class="children"><div class="content">Honestly, whose data isn&#x27;t &quot;super important&quot;?.  All my data is super important.  Even the crap I just throw on my Google drive.  I want to keep it.<p>What is this mythical unimportant data that people still want to back up?</div><br/><div id="36893346" class="c"><input type="checkbox" id="c-36893346" checked=""/><div class="controls bullet"><span class="by">meesles</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36892145">parent</a><span>|</span><a href="#36892564">next</a><span>|</span><label class="collapse" for="c-36893346">[-]</label><label class="expand" for="c-36893346">[1 more]</label></div><br/><div class="children"><div class="content">I mean, you called it crap and then said it&#x27;s super important. That&#x27;s what hoarders say.<p>Subjectively you may feel that your data is super important, but objectively it probably isn&#x27;t.<p>When people talk about &#x27;super important&#x27; (totally a technical term), I think of things like DB backups in software companies, backups of financial reporting for firms, etc. Not your tax return from 2008.</div><br/></div></div><div id="36892564" class="c"><input type="checkbox" id="c-36892564" checked=""/><div class="controls bullet"><span class="by">rocqua</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36892145">parent</a><span>|</span><a href="#36893346">prev</a><span>|</span><a href="#36893486">next</a><span>|</span><label class="collapse" for="c-36892564">[-]</label><label class="expand" for="c-36892564">[1 more]</label></div><br/><div class="children"><div class="content">My nginx config is not super important. My old reports written for study are not super important. My pirated movie copies are not super important.<p>These are examples of data that I could easily live without. Where losing it would either be a matter of re-doing old work, or just forgetting about old and minor things.</div><br/></div></div><div id="36893486" class="c"><input type="checkbox" id="c-36893486" checked=""/><div class="controls bullet"><span class="by">Roark66</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36892145">parent</a><span>|</span><a href="#36892564">prev</a><span>|</span><a href="#36892892">next</a><span>|</span><label class="collapse" for="c-36893486">[-]</label><label class="expand" for="c-36893486">[2 more]</label></div><br/><div class="children"><div class="content">&gt;What is this mythical unimportant data that people still want to back up?<p>I have lots of stuff like this. Often it is easier to just back up an entire folder than go through sub&#x2F;sub folders separating stuff into: important, not very important. Storage costs are low enough to just backup everything (almost). Also, one often doesn&#x27;t know what may be important&#x2F;useful in future. For example a couple of years ago I had this huge buildroot system (600gb) to build firmware images for a single board computer I spent quite a while to put together. The project I was doing it for got cancelled so I had no need to keep it. Still I wish I did, as I&#x27;d love to be able to tinker with it now, but 600gb is not a trivial amount to store so it got deleted. Most of this data was pulled from various online resources that don&#x27;t exist anymore too.<p>What&#x27;s the morale of my story? If you have a fast internet connection (I don&#x27;t) backup &quot;everything&quot; to cloud. Then find &quot;really important stuff&quot; like the pictures of your children etc and back it up again to a different cloud.<p>If you&#x27;re in a middle of nowhere on a slow LTE connection like me, building a nas box is not a bad idea for backups.</div><br/><div id="36902015" class="c"><input type="checkbox" id="c-36902015" checked=""/><div class="controls bullet"><span class="by">lanstin</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36893486">parent</a><span>|</span><a href="#36892892">next</a><span>|</span><label class="collapse" for="c-36902015">[-]</label><label class="expand" for="c-36902015">[1 more]</label></div><br/><div class="children"><div class="content">I have stuff like that on a hard drive in my home, on a persistent storage volume from Linode, and on Dropbox.</div><br/></div></div></div></div><div id="36892892" class="c"><input type="checkbox" id="c-36892892" checked=""/><div class="controls bullet"><span class="by">ivanhoe</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36892145">parent</a><span>|</span><a href="#36893486">prev</a><span>|</span><a href="#36892392">next</a><span>|</span><label class="collapse" for="c-36892892">[-]</label><label class="expand" for="c-36892892">[2 more]</label></div><br/><div class="children"><div class="content">Anything that you stashed just for convenience, but you could re-download or re-generate it if really needed, or simply live without it... frankly, like 90% of stuff on my disks fall in the category &quot;I&#x27;ll read&#x2F;view it one day&quot;, which in reality I&#x27;ll probably never have time or patience to open ever again.</div><br/><div id="36893275" class="c"><input type="checkbox" id="c-36893275" checked=""/><div class="controls bullet"><span class="by">nixpulvis</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36892892">parent</a><span>|</span><a href="#36892392">next</a><span>|</span><label class="collapse" for="c-36893275">[-]</label><label class="expand" for="c-36893275">[1 more]</label></div><br/><div class="children"><div class="content">Strange, 90% of the things trapped in my flash memory are system files.</div><br/></div></div></div></div><div id="36892392" class="c"><input type="checkbox" id="c-36892392" checked=""/><div class="controls bullet"><span class="by">ilyt</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36892145">parent</a><span>|</span><a href="#36892892">prev</a><span>|</span><a href="#36893251">next</a><span>|</span><label class="collapse" for="c-36892392">[-]</label><label class="expand" for="c-36892392">[1 more]</label></div><br/><div class="children"><div class="content">The stuff I don&#x27;t want to fuck around searching re-downloading from torrent for example.</div><br/></div></div><div id="36893251" class="c"><input type="checkbox" id="c-36893251" checked=""/><div class="controls bullet"><span class="by">nixpulvis</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36892145">parent</a><span>|</span><a href="#36892392">prev</a><span>|</span><a href="#36889715">next</a><span>|</span><label class="collapse" for="c-36893251">[-]</label><label class="expand" for="c-36893251">[1 more]</label></div><br/><div class="children"><div class="content">I really used to enjoy formatting my machines about every 6 months.<p>Well I used to until macOS kinda went off the rails a bit. Now it’s mostly an exercise in running my arch script for my thinkpad.<p>Being stuck between operating systems is kinda a mess though, makes backup and file sync in general really hard. But everyone’s gotta have their own cloud, right?!<p>Why can’t I just put a cloud under my bed and forget about it?</div><br/></div></div></div></div></div></div><div id="36889715" class="c"><input type="checkbox" id="c-36889715" checked=""/><div class="controls bullet"><span class="by">IntelMiner</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36889477">parent</a><span>|</span><a href="#36891299">prev</a><span>|</span><a href="#36889716">next</a><span>|</span><label class="collapse" for="c-36889715">[-]</label><label class="expand" for="c-36889715">[7 more]</label></div><br/><div class="children"><div class="content">I&#x27;m curious how the prices shake out against services like Wasabi, since it&#x27;s just dumping to an AWS S3 bucket<p>Wasabi does $7&#x2F;TB with no ingress&#x2F;egress fees. My NAS is set up to rclone to it about once a day and I&#x27;ve yet to have any problems</div><br/><div id="36889800" class="c"><input type="checkbox" id="c-36889800" checked=""/><div class="controls bullet"><span class="by">crossroadsguy</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36889715">parent</a><span>|</span><a href="#36889716">next</a><span>|</span><label class="collapse" for="c-36889800">[-]</label><label class="expand" for="c-36889800">[6 more]</label></div><br/><div class="children"><div class="content">I haven’t checked the pricing in a long time but you can use Tarsnap also if you have to backup only 7.3kb (okay I might ne exaggerating here but you get the drift) and pay for only that much. You can’t do that with Wasabi et al.<p>Also it’s really simple and does what it says it does, nothing more, nothing less. In today’s everything convoluted and bloated world this is a luxury imho. The GUI app is also quite good and functional. Support is prompt (that is if you need it).<p>You don’t have to worry about file being deleted just because your machine didn’t connect or backup for some time even if you keep paying (hello Backblaze) etc. I mean there’s no circus, melodrama , and cliffhangers involved.<p>I personally would never use it backup my entire laptop, due to price alone. But I have a subset of VVI files and Tarsnap is one of more than one backups for those files. So for that use-case Tarsnap is perfect for me, so far.</div><br/><div id="36890133" class="c"><input type="checkbox" id="c-36890133" checked=""/><div class="controls bullet"><span class="by">Aeolun</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36889800">parent</a><span>|</span><a href="#36889716">next</a><span>|</span><label class="collapse" for="c-36890133">[-]</label><label class="expand" for="c-36890133">[5 more]</label></div><br/><div class="children"><div class="content">Backblaze has kept my ‘shutdown two years ago’ machine data without issue. What problems did you have with them (or did others have)?</div><br/><div id="36891425" class="c"><input type="checkbox" id="c-36891425" checked=""/><div class="controls bullet"><span class="by">terinjokes</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36890133">parent</a><span>|</span><a href="#36889716">next</a><span>|</span><label class="collapse" for="c-36891425">[-]</label><label class="expand" for="c-36891425">[4 more]</label></div><br/><div class="children"><div class="content">Backblaze has a policy of allowing backups of external disks, but the disks have to be connected at least once every 30 days, or they&#x27;ll delete the backups. I understand they want to avoid abuse, but the lack of any grace period, or ability of support to ad an override, really soured the service for me.</div><br/><div id="36891644" class="c"><input type="checkbox" id="c-36891644" checked=""/><div class="controls bullet"><span class="by">andrioni</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36891425">parent</a><span>|</span><a href="#36891627">next</a><span>|</span><label class="collapse" for="c-36891644">[-]</label><label class="expand" for="c-36891644">[2 more]</label></div><br/><div class="children"><div class="content">You can just pay extra for extended or infinite retention.
<a href="https:&#x2F;&#x2F;www.backblaze.com&#x2F;cloud-backup&#x2F;features&#x2F;extended-version-history" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.backblaze.com&#x2F;cloud-backup&#x2F;features&#x2F;extended-ver...</a></div><br/><div id="36891975" class="c"><input type="checkbox" id="c-36891975" checked=""/><div class="controls bullet"><span class="by">seanthemon</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36891644">parent</a><span>|</span><a href="#36891627">next</a><span>|</span><label class="collapse" for="c-36891975">[-]</label><label class="expand" for="c-36891975">[1 more]</label></div><br/><div class="children"><div class="content">I did this, it&#x27;s come in use a few times..</div><br/></div></div></div></div><div id="36891627" class="c"><input type="checkbox" id="c-36891627" checked=""/><div class="controls bullet"><span class="by">Aeolun</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36891425">parent</a><span>|</span><a href="#36891644">prev</a><span>|</span><a href="#36889716">next</a><span>|</span><label class="collapse" for="c-36891627">[-]</label><label class="expand" for="c-36891627">[1 more]</label></div><br/><div class="children"><div class="content">Huh, I had to start paying them $2 more for my nonexistent PC I think, but otherwise was fine. I have only 1 TB of total storage on that PC though, so maybe that’s the reason.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="36889716" class="c"><input type="checkbox" id="c-36889716" checked=""/><div class="controls bullet"><span class="by">throwaway290</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36889477">parent</a><span>|</span><a href="#36889715">prev</a><span>|</span><a href="#36889706">next</a><span>|</span><label class="collapse" for="c-36889716">[-]</label><label class="expand" for="c-36889716">[17 more]</label></div><br/><div class="children"><div class="content">What use is SLA? If a service goes down for too long, are you really going to hire  a lawyer sue it over SLA or just... use another backup?</div><br/><div id="36889833" class="c"><input type="checkbox" id="c-36889833" checked=""/><div class="controls bullet"><span class="by">abofh</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36889716">parent</a><span>|</span><a href="#36889842">next</a><span>|</span><label class="collapse" for="c-36889833">[-]</label><label class="expand" for="c-36889833">[1 more]</label></div><br/><div class="children"><div class="content">Not even then - most SLAs say that if it&#x27;s breached, you pay less. Not that you get money back</div><br/></div></div><div id="36889842" class="c"><input type="checkbox" id="c-36889842" checked=""/><div class="controls bullet"><span class="by">AceJohnny2</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36889716">parent</a><span>|</span><a href="#36889833">prev</a><span>|</span><a href="#36889706">next</a><span>|</span><label class="collapse" for="c-36889842">[-]</label><label class="expand" for="c-36889842">[15 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not about suing, but defining expectations about how you can rely on a service.<p>For example, my team has people across the world for HW bringup, so we can&#x27;t allow our code hosting or CI to be down for more than a few hours. Of course, backups have different uptime requirements, but as for everything, it&#x27;s a tradeoff between features, of which an SLA is one.<p>Tarsnap&#x27;s features are granularity of cost, reliability of storage, and encryption, but not 99.999% uptime.</div><br/><div id="36890219" class="c"><input type="checkbox" id="c-36890219" checked=""/><div class="controls bullet"><span class="by">mrweasel</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36889842">parent</a><span>|</span><a href="#36889969">next</a><span>|</span><label class="collapse" for="c-36890219">[-]</label><label class="expand" for="c-36890219">[5 more]</label></div><br/><div class="children"><div class="content">&gt; It&#x27;s not about suing, but defining expectations about how you can rely on a service.<p>Meeeeh, my ISP cut of around 100+ fiber connections in my town and spend three weeks fixing it. My neighbor have business line, there&#x27;s an SLA on those that among other things, require them if reestablish his connection within 3 - 5 hours. It took them over 500 hours, so that SLA is useless for anything but forcing compensations.<p>The problem is that the SLA should give an indication of available resources, but in reality it&#x27;s mostly a contractual thing for most companies, they&#x27;ll pay the &quot;fine&quot; or refund a customer if they fail to hit their SLA and that&#x27;s about it. Tarsnap most likely have better availability than many midsize competitors simply because it&#x27;s just one person who really cares about it. Doesn&#x27;t help if he&#x27;s hit by a bus though.</div><br/><div id="36904155" class="c"><input type="checkbox" id="c-36904155" checked=""/><div class="controls bullet"><span class="by">AtNightWeCode</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36890219">parent</a><span>|</span><a href="#36892929">next</a><span>|</span><label class="collapse" for="c-36904155">[-]</label><label class="expand" for="c-36904155">[1 more]</label></div><br/><div class="children"><div class="content">Agree. You get a discount if something breaks. But SLA really only works for larger services where the cost of fixing something is small when compared to the discounts.</div><br/></div></div><div id="36892929" class="c"><input type="checkbox" id="c-36892929" checked=""/><div class="controls bullet"><span class="by">bluGill</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36890219">parent</a><span>|</span><a href="#36904155">prev</a><span>|</span><a href="#36892411">next</a><span>|</span><label class="collapse" for="c-36892929">[-]</label><label class="expand" for="c-36892929">[1 more]</label></div><br/><div class="children"><div class="content">SLAs can be meaningless like that.  However the better ISPs have in place a backup system that doesn&#x27;t use the same fiber&#x2F;wires.  Sure the backup might be a radio or satellite feed and so be slower, but it will get&#x2F;keep you online.  This costs are lot more per month though, so if you are not paying for that service your SLA will probably just be we give you a free month (which hurts them enough that they will do some things to prevent downtime, but not enough that they put redundant fiber paths in the ground)</div><br/></div></div><div id="36892411" class="c"><input type="checkbox" id="c-36892411" checked=""/><div class="controls bullet"><span class="by">ilyt</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36890219">parent</a><span>|</span><a href="#36892929">prev</a><span>|</span><a href="#36889969">next</a><span>|</span><label class="collapse" for="c-36892411">[-]</label><label class="expand" for="c-36892411">[2 more]</label></div><br/><div class="children"><div class="content">The &quot;problem&quot; is that no sane company will sign for any damage compensation on some cheapo few dollars a month service.</div><br/><div id="36892917" class="c"><input type="checkbox" id="c-36892917" checked=""/><div class="controls bullet"><span class="by">throwaway290</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36892411">parent</a><span>|</span><a href="#36889969">next</a><span>|</span><label class="collapse" for="c-36892917">[-]</label><label class="expand" for="c-36892917">[1 more]</label></div><br/><div class="children"><div class="content">A company could... if you have N users and you pay M for storage per user and downtime cost you X then it could be that a discount of Y means (M - Y) * N = X</div><br/></div></div></div></div></div></div><div id="36889948" class="c"><input type="checkbox" id="c-36889948" checked=""/><div class="controls bullet"><span class="by">playingalong</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36889842">parent</a><span>|</span><a href="#36889969">prev</a><span>|</span><a href="#36889706">next</a><span>|</span><label class="collapse" for="c-36889948">[-]</label><label class="expand" for="c-36889948">[8 more]</label></div><br/><div class="children"><div class="content">Then SLO (service level objectives) should be enough.</div><br/><div id="36890400" class="c"><input type="checkbox" id="c-36890400" checked=""/><div class="controls bullet"><span class="by">AceJohnny2</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36889948">parent</a><span>|</span><a href="#36889706">next</a><span>|</span><label class="collapse" for="c-36890400">[-]</label><label class="expand" for="c-36890400">[7 more]</label></div><br/><div class="children"><div class="content">huh, never heard of SLO before.</div><br/><div id="36890753" class="c"><input type="checkbox" id="c-36890753" checked=""/><div class="controls bullet"><span class="by">toong</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36890400">parent</a><span>|</span><a href="#36889706">next</a><span>|</span><label class="collapse" for="c-36890753">[-]</label><label class="expand" for="c-36890753">[6 more]</label></div><br/><div class="children"><div class="content">and now also go google what SLI means ;-)</div><br/><div id="36891248" class="c"><input type="checkbox" id="c-36891248" checked=""/><div class="controls bullet"><span class="by">lifeisstillgood</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36890753">parent</a><span>|</span><a href="#36889706">next</a><span>|</span><label class="collapse" for="c-36891248">[-]</label><label class="expand" for="c-36891248">[5 more]</label></div><br/><div class="children"><div class="content">Very roughly:<p>SLI - Service Level Indicators - Metrics ie Latency of each request &#x2F; response cycle<p>SLO - Service Level Objective - What threshold we are aiming for - 10 ms from request to response averaged over 1 hour period.<p>SLA - SL agreement - contract with custom yet what happens if we breach (credits given, put the CTO in stocks and throw eggs at him etc)</div><br/><div id="36894253" class="c"><input type="checkbox" id="c-36894253" checked=""/><div class="controls bullet"><span class="by">justin_oaks</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36891248">parent</a><span>|</span><a href="#36889706">next</a><span>|</span><label class="collapse" for="c-36894253">[-]</label><label class="expand" for="c-36894253">[4 more]</label></div><br/><div class="children"><div class="content">I know it&#x27;s a joke, but I think if an SLA involved putting a CTO in stocks and throwing eggs at him then that&#x27;d encourage me to sign up for the service. Especially if the video of it were posted after every incident.<p>Instead we get refunded some pitiful amount when our business is seriously disrupted for an extended period of time.</div><br/><div id="36894426" class="c"><input type="checkbox" id="c-36894426" checked=""/><div class="controls bullet"><span class="by">lifeisstillgood</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36894253">parent</a><span>|</span><a href="#36889706">next</a><span>|</span><label class="collapse" for="c-36894426">[-]</label><label class="expand" for="c-36894426">[3 more]</label></div><br/><div class="children"><div class="content">:-)<p>My youngest once found some sort of chocolate drops called &quot;unicorn poo&quot; - which seems a more ironic thing to chuck at CTOs !</div><br/><div id="36902435" class="c"><input type="checkbox" id="c-36902435" checked=""/><div class="controls bullet"><span class="by">Phlarp</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36894426">parent</a><span>|</span><a href="#36889706">next</a><span>|</span><label class="collapse" for="c-36902435">[-]</label><label class="expand" for="c-36902435">[2 more]</label></div><br/><div class="children"><div class="content">Don&#x27;t let the CTO be a scapegoat. Entire executive leadership, all board members and the 5 largest shareholders.</div><br/><div id="36904393" class="c"><input type="checkbox" id="c-36904393" checked=""/><div class="controls bullet"><span class="by">lifeisstillgood</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36902435">parent</a><span>|</span><a href="#36889706">next</a><span>|</span><label class="collapse" for="c-36904393">[-]</label><label class="expand" for="c-36904393">[1 more]</label></div><br/><div class="children"><div class="content">We have just written the Sarbanes-Oxley for the tech regulation industry- all we need now is a congresswoman and a senator and a good acronym<p>Secure<p>Technology<p>Oversight for<p>Corporate<p>Software<p>STOCS Act here we come !<p>Edit : yeah I could not get the K in ... that&#x27;s hard</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="36899782" class="c"><input type="checkbox" id="c-36899782" checked=""/><div class="controls bullet"><span class="by">Mawr</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36889477">parent</a><span>|</span><a href="#36889706">prev</a><span>|</span><a href="#36893535">next</a><span>|</span><label class="collapse" for="c-36899782">[-]</label><label class="expand" for="c-36899782">[1 more]</label></div><br/><div class="children"><div class="content">Uptime isn&#x27;t an important property of a backup solution, so I&#x27;m not sure where the expectation comes from?</div><br/></div></div></div></div><div id="36893535" class="c"><input type="checkbox" id="c-36893535" checked=""/><div class="controls bullet"><span class="by">jacquesm</span><span>|</span><a href="#36889237">parent</a><span>|</span><a href="#36889477">prev</a><span>|</span><a href="#36889499">next</a><span>|</span><label class="collapse" for="c-36893535">[-]</label><label class="expand" for="c-36893535">[11 more]</label></div><br/><div class="children"><div class="content">In future postmortems (of which I hope there will be very few or even none) you may want to spell out your &#x27;lessons learned&#x27; to show why particular items will never recur.</div><br/><div id="36895136" class="c"><input type="checkbox" id="c-36895136" checked=""/><div class="controls bullet"><span class="by">idlewords</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36893535">parent</a><span>|</span><a href="#36895942">next</a><span>|</span><label class="collapse" for="c-36895136">[-]</label><label class="expand" for="c-36895136">[6 more]</label></div><br/><div class="children"><div class="content">It always amuses me how people want reassurance that the next crisis will be a fresh, new problem, and not one the person can demonstrably solve.<p>A lot of &#x27;lessons learned&#x27; analysis boils down to this: in order to prevent a recurrence of X, we introduced complex subsystem Y, the unexpected effects of which you can read about in our next post-mortem.</div><br/><div id="36896049" class="c"><input type="checkbox" id="c-36896049" checked=""/><div class="controls bullet"><span class="by">bityard</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36895136">parent</a><span>|</span><a href="#36899047">next</a><span>|</span><label class="collapse" for="c-36896049">[-]</label><label class="expand" for="c-36896049">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s an overly cynical take, post-mortems are not for anyone&#x27;s reassurance, they are a learning opportunity.<p>The airline industry is as safe as it is because every accident gets thoroughly investigated with detailed reports (&quot;post-mortems&quot;) including what to do differently going forward. These are taken as gospel among all players in the industry and as a result, you very rarely see two different accidents caused by the same thing anymore.</div><br/></div></div><div id="36899047" class="c"><input type="checkbox" id="c-36899047" checked=""/><div class="controls bullet"><span class="by">jacquesm</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36895136">parent</a><span>|</span><a href="#36896049">prev</a><span>|</span><a href="#36902415">next</a><span>|</span><label class="collapse" for="c-36899047">[-]</label><label class="expand" for="c-36899047">[3 more]</label></div><br/><div class="children"><div class="content">That was entirely not what I was getting at and is a cheap shot that is well beneath you, especially because I suspect that you know that that wasn&#x27;t what I was getting at.</div><br/><div id="36899783" class="c"><input type="checkbox" id="c-36899783" checked=""/><div class="controls bullet"><span class="by">idlewords</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36899047">parent</a><span>|</span><a href="#36902415">next</a><span>|</span><label class="collapse" for="c-36899783">[-]</label><label class="expand" for="c-36899783">[2 more]</label></div><br/><div class="children"><div class="content">My comment wasn&#x27;t intended personally; your words about &quot;will never recur&quot; just reminded me of this peculiarity of software systems, where it&#x27;s often error handling&#x2F;monitoring&#x2F;backups&#x2F;etc. that cause cascading failures in the systems they&#x27;re intended to safeguard.<p>I&#x27;m sorry if I misconstrued your meaning, but I am flattered that you think there are things beneath me!</div><br/><div id="36899817" class="c"><input type="checkbox" id="c-36899817" checked=""/><div class="controls bullet"><span class="by">jacquesm</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36899783">parent</a><span>|</span><a href="#36902415">next</a><span>|</span><label class="collapse" for="c-36899817">[-]</label><label class="expand" for="c-36899817">[1 more]</label></div><br/><div class="children"><div class="content">Fair enough. I see the whole function of a postmortem in a very simple way: to avoid recurrence of the same fault. Yes, there will be plenty of new ones to make. But if you don&#x27;t change your processes as the result of a failure you are almost certainly going to see a repeat because the bulk of the conditions are still the same. All it takes then is a minor regression and you&#x27;re back to where you were before. This I&#x27;ve seen many times in practice and I suspect that Colin isn&#x27;t immune to it. And yes, I look up to you, your writing is usually sharp and on point and has both amused me and educated me. So you have an image to live up to ;)</div><br/></div></div></div></div></div></div><div id="36902415" class="c"><input type="checkbox" id="c-36902415" checked=""/><div class="controls bullet"><span class="by">hgsgm</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36895136">parent</a><span>|</span><a href="#36899047">prev</a><span>|</span><a href="#36895942">next</a><span>|</span><label class="collapse" for="c-36902415">[-]</label><label class="expand" for="c-36902415">[1 more]</label></div><br/><div class="children"><div class="content">You&#x27;d love my team&#x27;s recent postmortem, featuring the comment &quot;action items haeve been copied from the previous postmortem&quot;.</div><br/></div></div></div></div><div id="36895942" class="c"><input type="checkbox" id="c-36895942" checked=""/><div class="controls bullet"><span class="by">rsync</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36893535">parent</a><span>|</span><a href="#36895136">prev</a><span>|</span><a href="#36895837">next</a><span>|</span><label class="collapse" for="c-36895942">[-]</label><label class="expand" for="c-36895942">[1 more]</label></div><br/><div class="children"><div class="content">You should consider this possible lesson:<p>&quot;Our simple model that fails gracefully did so and was simple to recover&quot;<p>Redundancies and failsafes are not free - they add complexity.<p>99.9% availability fails in boring ways.<p>99.999% availability fails in <i>fascinating ways</i>.</div><br/></div></div><div id="36895837" class="c"><input type="checkbox" id="c-36895837" checked=""/><div class="controls bullet"><span class="by">cperciva</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36893535">parent</a><span>|</span><a href="#36895942">prev</a><span>|</span><a href="#36897279">next</a><span>|</span><label class="collapse" for="c-36895837">[-]</label><label class="expand" for="c-36895837">[2 more]</label></div><br/><div class="children"><div class="content">Yeah, I was going to do that but it was getting late, I wanted to get some sleep, and the post-mortem had already been waiting far too long to be sent out.<p>The main lesson learned was &quot;rehearse this process at least once a year&quot;.</div><br/><div id="36899028" class="c"><input type="checkbox" id="c-36899028" checked=""/><div class="controls bullet"><span class="by">jacquesm</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36895837">parent</a><span>|</span><a href="#36897279">next</a><span>|</span><label class="collapse" for="c-36899028">[-]</label><label class="expand" for="c-36899028">[1 more]</label></div><br/><div class="children"><div class="content">Agreed, that&#x27;s the big one. But also: when sleep deprived: take a nap!</div><br/></div></div></div></div><div id="36897279" class="c"><input type="checkbox" id="c-36897279" checked=""/><div class="controls bullet"><span class="by">vintagedave</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36893535">parent</a><span>|</span><a href="#36895837">prev</a><span>|</span><a href="#36889499">next</a><span>|</span><label class="collapse" for="c-36897279">[-]</label><label class="expand" for="c-36897279">[1 more]</label></div><br/><div class="children"><div class="content">The infrastructure page* says,<p>&gt; <i>at the present time it is possible — but quite unlikely — that a hardware failure would result in the Tarsnap service becoming unavailable until a new EC2 instance can be launched and the Tarsnap server code can be restarted ... So far such an outage has never occurred</i><p>I read the postmortem as that a hardware failure did cause it to be unavailable and the code could not be restarted, a new server had to be built.<p>If that is correct, as well as writing up learning (as Jacques mentions) this page could be updated with outage information -- or even info on changes to reduce risk of repetition.<p>For what it&#x27;s worth, one outage of a single day in fifteen years is impressive. If my ballpark math is correct, that&#x27;s 99.992% uptime, ie four nines.<p>* <a href="http:&#x2F;&#x2F;www.tarsnap.com&#x2F;infrastructure.html" rel="nofollow noreferrer">http:&#x2F;&#x2F;www.tarsnap.com&#x2F;infrastructure.html</a></div><br/></div></div></div></div><div id="36889499" class="c"><input type="checkbox" id="c-36889499" checked=""/><div class="controls bullet"><span class="by">mike_d</span><span>|</span><a href="#36889237">parent</a><span>|</span><a href="#36893535">prev</a><span>|</span><a href="#36892459">next</a><span>|</span><label class="collapse" for="c-36889499">[-]</label><label class="expand" for="c-36889499">[7 more]</label></div><br/><div class="children"><div class="content">This was an extremely well written and thoughtful postmortem, but I hope to never see one from you again. :)</div><br/><div id="36892037" class="c"><input type="checkbox" id="c-36892037" checked=""/><div class="controls bullet"><span class="by">Tepix</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36889499">parent</a><span>|</span><a href="#36892459">next</a><span>|</span><label class="collapse" for="c-36892037">[-]</label><label class="expand" for="c-36892037">[6 more]</label></div><br/><div class="children"><div class="content">It was a postmortem without the mandatory &quot;how can we prevent this in the future&quot; steps…</div><br/><div id="36893730" class="c"><input type="checkbox" id="c-36893730" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36892037">parent</a><span>|</span><a href="#36892548">next</a><span>|</span><label class="collapse" for="c-36893730">[-]</label><label class="expand" for="c-36893730">[1 more]</label></div><br/><div class="children"><div class="content">In 15+ years of running this service, this is one of two (2) postmortems he&#x27;s ever published, and the first in eleven (yes, 11) years.</div><br/></div></div><div id="36892548" class="c"><input type="checkbox" id="c-36892548" checked=""/><div class="controls bullet"><span class="by">bluehatbrit</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36892037">parent</a><span>|</span><a href="#36893730">prev</a><span>|</span><a href="#36892459">next</a><span>|</span><label class="collapse" for="c-36892548">[-]</label><label class="expand" for="c-36892548">[4 more]</label></div><br/><div class="children"><div class="content">I think that&#x27;s a little unfair given what was in the postmortem. It may not be a separate section with the key points, but the information is all there of what the issues were and what the solutions are. I think it&#x27;s fair to assume they&#x27;re actually acting on those without them needing to be reiterated at the bottom of the page.</div><br/><div id="36892951" class="c"><input type="checkbox" id="c-36892951" checked=""/><div class="controls bullet"><span class="by">acedTrex</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36892548">parent</a><span>|</span><a href="#36895556">next</a><span>|</span><label class="collapse" for="c-36892951">[-]</label><label class="expand" for="c-36892951">[1 more]</label></div><br/><div class="children"><div class="content">I agree, we don&#x27;t really need a &quot;key points&#x2F;future actions&quot; section that boils down to &quot;The service will be geo redundant&quot;</div><br/></div></div><div id="36895556" class="c"><input type="checkbox" id="c-36895556" checked=""/><div class="controls bullet"><span class="by">Tepix</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36892548">parent</a><span>|</span><a href="#36892951">prev</a><span>|</span><a href="#36892459">next</a><span>|</span><label class="collapse" for="c-36895556">[-]</label><label class="expand" for="c-36895556">[2 more]</label></div><br/><div class="children"><div class="content">Well, for sure he has fixed several bugs, but he didn&#x27;t say that he would be testing his disaster recovery procedure every year in the future for example.</div><br/><div id="36895933" class="c"><input type="checkbox" id="c-36895933" checked=""/><div class="controls bullet"><span class="by">cperciva</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36895556">parent</a><span>|</span><a href="#36892459">next</a><span>|</span><label class="collapse" for="c-36895933">[-]</label><label class="expand" for="c-36895933">[1 more]</label></div><br/><div class="children"><div class="content">Yes, rehearsing the process every year is the main lesson learned.  Sorry, it was getting late and I wanted to get the email out so I cut it short.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="36892459" class="c"><input type="checkbox" id="c-36892459" checked=""/><div class="controls bullet"><span class="by">bombcar</span><span>|</span><a href="#36889237">parent</a><span>|</span><a href="#36889499">prev</a><span>|</span><a href="#36889315">next</a><span>|</span><label class="collapse" for="c-36892459">[-]</label><label class="expand" for="c-36892459">[2 more]</label></div><br/><div class="children"><div class="content">Time to get your toddler providing round-the-clock support! ;)<p>Have been having some luck reading <a href="https:&#x2F;&#x2F;www.amazon.com&#x2F;No-Cry-Sleep-Solution-Toddlers-Preschoolers&#x2F;dp&#x2F;0071444912" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.amazon.com&#x2F;No-Cry-Sleep-Solution-Toddlers-Presch...</a> - available everywhere libraries (blockbuster for books!) are found.</div><br/><div id="36895898" class="c"><input type="checkbox" id="c-36895898" checked=""/><div class="controls bullet"><span class="by">cperciva</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36892459">parent</a><span>|</span><a href="#36889315">next</a><span>|</span><label class="collapse" for="c-36895898">[-]</label><label class="expand" for="c-36895898">[1 more]</label></div><br/><div class="children"><div class="content">She&#x27;s generally a wonderful girl.  Right now she&#x27;s dealing with her second molars coming out and just picked up a cold though, which is throwing off her sleep schedule.</div><br/></div></div></div></div><div id="36889315" class="c"><input type="checkbox" id="c-36889315" checked=""/><div class="controls bullet"><span class="by">gfv</span><span>|</span><a href="#36889237">parent</a><span>|</span><a href="#36892459">prev</a><span>|</span><a href="#36902854">next</a><span>|</span><label class="collapse" for="c-36889315">[-]</label><label class="expand" for="c-36889315">[2 more]</label></div><br/><div class="children"><div class="content">How long do you keep the transaction logs before rewriting them?<p>I too had a few EC2 instances go down with signs of being severed from the EBS in the recent couple of weeks; mine were in eu-west.</div><br/><div id="36896368" class="c"><input type="checkbox" id="c-36896368" checked=""/><div class="controls bullet"><span class="by">cperciva</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36889315">parent</a><span>|</span><a href="#36902854">next</a><span>|</span><label class="collapse" for="c-36896368">[-]</label><label class="expand" for="c-36896368">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s a continual background cleaning process which depends on the amount of storage which can be reclaimed -- there&#x27;s a tradeoff between cleaning too slowly (and paying for wasted storage) and cleaning too fast (and paying for lots of S3 operations).  I think it averages a couple weeks right now.</div><br/></div></div></div></div><div id="36902854" class="c"><input type="checkbox" id="c-36902854" checked=""/><div class="controls bullet"><span class="by">nextaccountic</span><span>|</span><a href="#36889237">parent</a><span>|</span><a href="#36889315">prev</a><span>|</span><a href="#36899111">next</a><span>|</span><label class="collapse" for="c-36902854">[-]</label><label class="expand" for="c-36902854">[1 more]</label></div><br/><div class="children"><div class="content">&gt; the central Tarsnap server (hosted in Amazon&#x27;s EC2 us-east-1 region)<p>What prevents you to distribute load among other regions?<p>(Also: did you ever think about abandoning AWS?)</div><br/></div></div><div id="36899111" class="c"><input type="checkbox" id="c-36899111" checked=""/><div class="controls bullet"><span class="by">e63f67dd-065b</span><span>|</span><a href="#36889237">parent</a><span>|</span><a href="#36902854">prev</a><span>|</span><a href="#36892361">next</a><span>|</span><label class="collapse" for="c-36899111">[-]</label><label class="expand" for="c-36899111">[1 more]</label></div><br/><div class="children"><div class="content">Can you say a bit more about the log-structured S3 filesystem? I wrote something very similar recently (<a href="https:&#x2F;&#x2F;github.com&#x2F;isaackhor&#x2F;objectfs">https:&#x2F;&#x2F;github.com&#x2F;isaackhor&#x2F;objectfs</a>) and I&#x27;m curious what made you settle on that architecture. The closest thing I know of that&#x27;s similar is Nvidia&#x27;s ProxyFS (<a href="https:&#x2F;&#x2F;github.com&#x2F;NVIDIA&#x2F;proxyfs">https:&#x2F;&#x2F;github.com&#x2F;NVIDIA&#x2F;proxyfs</a>)</div><br/></div></div><div id="36892361" class="c"><input type="checkbox" id="c-36892361" checked=""/><div class="controls bullet"><span class="by">dharmapure</span><span>|</span><a href="#36889237">parent</a><span>|</span><a href="#36899111">prev</a><span>|</span><a href="#36902990">next</a><span>|</span><label class="collapse" for="c-36892361">[-]</label><label class="expand" for="c-36892361">[2 more]</label></div><br/><div class="children"><div class="content">Thank you for the post-mortem Colin and I hope you get some sleep!</div><br/><div id="36896391" class="c"><input type="checkbox" id="c-36896391" checked=""/><div class="controls bullet"><span class="by">cperciva</span><span>|</span><a href="#36889237">root</a><span>|</span><a href="#36892361">parent</a><span>|</span><a href="#36902990">next</a><span>|</span><label class="collapse" for="c-36896391">[-]</label><label class="expand" for="c-36896391">[1 more]</label></div><br/><div class="children"><div class="content">Thanks, I did!  My long suffering wife was up at 3:30 though. :-(</div><br/></div></div></div></div><div id="36902990" class="c"><input type="checkbox" id="c-36902990" checked=""/><div class="controls bullet"><span class="by">rlt</span><span>|</span><a href="#36889237">parent</a><span>|</span><a href="#36892361">prev</a><span>|</span><a href="#36892304">next</a><span>|</span><label class="collapse" for="c-36902990">[-]</label><label class="expand" for="c-36902990">[1 more]</label></div><br/><div class="children"><div class="content">Nice write up. A couple questions:<p>- The use of “I” begs the question: what’s the “bus factor” of Tarsnap? If you were unavailable, temporarily or permanently, what are the contingency plans?<p>- Will you be making any other changes to improve the recovery time, or did the system mostly function as designed? For example having a hot spare central server?</div><br/></div></div><div id="36892304" class="c"><input type="checkbox" id="c-36892304" checked=""/><div class="controls bullet"><span class="by">throwawaaarrgh</span><span>|</span><a href="#36889237">parent</a><span>|</span><a href="#36902990">prev</a><span>|</span><a href="#36895025">next</a><span>|</span><label class="collapse" for="c-36892304">[-]</label><label class="expand" for="c-36892304">[1 more]</label></div><br/><div class="children"><div class="content">Are you gonna switch to us-east-2?</div><br/></div></div><div id="36895025" class="c"><input type="checkbox" id="c-36895025" checked=""/><div class="controls bullet"><span class="by">nodesocket</span><span>|</span><a href="#36889237">parent</a><span>|</span><a href="#36892304">prev</a><span>|</span><a href="#36894904">next</a><span>|</span><label class="collapse" for="c-36895025">[-]</label><label class="expand" for="c-36895025">[1 more]</label></div><br/><div class="children"><div class="content">Some recommendations on the AWS front (not sure if some of these are already implemented since the postmortem does not go into AWS details).<p>- Setup nightly automatic snapshots of EBS volumes (this is supported natively now in AWS under lifecycle manager).<p>- Use EBS volumes of the new GP3 type, and perhaps use provisioned IOPS.<p>- Setup a auto-scaling group with automatic failover. Of course increases cost, but should be able to automatically failover to a standby EC2 instance (assuming all the code works automatically which the blog post indicates is not currently the case).</div><br/></div></div></div></div><div id="36894904" class="c"><input type="checkbox" id="c-36894904" checked=""/><div class="controls bullet"><span class="by">idlewords</span><span>|</span><a href="#36889237">prev</a><span>|</span><a href="#36890730">next</a><span>|</span><label class="collapse" for="c-36894904">[-]</label><label class="expand" for="c-36894904">[4 more]</label></div><br/><div class="children"><div class="content">Hats off to you for an honest postmortem and your capable handling of a difficult situation. The only remark I would offer is with respect to sleep deprivation—when you&#x27;re the only person who can fix a problem, there&#x27;s no shame in trading some additional outage time for a fresh mind. Though it feels weird to go nap when all the klaxons are blaring, problems are too easy to compound under the combination of adrenaline and inadequate sleep.</div><br/><div id="36896492" class="c"><input type="checkbox" id="c-36896492" checked=""/><div class="controls bullet"><span class="by">cperciva</span><span>|</span><a href="#36894904">parent</a><span>|</span><a href="#36890730">next</a><span>|</span><label class="collapse" for="c-36896492">[-]</label><label class="expand" for="c-36896492">[3 more]</label></div><br/><div class="children"><div class="content">Don&#x27;t worry, I had a couple naps in there.  &quot;This seems to be running smoothly but it will take several more hours; I&#x27;ll set my alarm to wake me up in two hours and have a nap&quot; is part of why I didn&#x27;t notice the second step was unnecessarily I&#x2F;O bound.</div><br/><div id="36898765" class="c"><input type="checkbox" id="c-36898765" checked=""/><div class="controls bullet"><span class="by">gus_massa</span><span>|</span><a href="#36894904">root</a><span>|</span><a href="#36896492">parent</a><span>|</span><a href="#36898764">next</a><span>|</span><label class="collapse" for="c-36898765">[-]</label><label class="expand" for="c-36898765">[1 more]</label></div><br/><div class="children"><div class="content">IIUC the process had a few steps were you only had to wait while data was transferred or processed for long times. They were probably useful to take a nap or eat or just drink more coffee.</div><br/></div></div></div></div></div></div><div id="36890730" class="c"><input type="checkbox" id="c-36890730" checked=""/><div class="controls bullet"><span class="by">hightrees2023</span><span>|</span><a href="#36894904">prev</a><span>|</span><a href="#36889532">next</a><span>|</span><label class="collapse" for="c-36890730">[-]</label><label class="expand" for="c-36890730">[1 more]</label></div><br/><div class="children"><div class="content">The downtime could have been much shortened if you had properly setup and _tested_ disaster recovery steps. Create a full fledged separate staging system which you can bring down and recreate and periodically test various failure modes + document all detailed steps of system restore etc.<p>Also I would suggest to think about the business long term and seeing if you can increase the revenue enough to enable you to hire a part-timer who can be of great help in case a similar event happens.<p>We are also a small cloud solution provider (we focus on ML API&#x27;s) and over the years it has become clear to us that when you use cloud hardware (either dedicated or virtual), from time to time the outages periodically happen. RAM, HDD or other parts of the hardware just can malfunction anytime. So this is something which 100% needs to be taken into consideration when running any high availability online service over long-term.</div><br/></div></div><div id="36889532" class="c"><input type="checkbox" id="c-36889532" checked=""/><div class="controls bullet"><span class="by">zokier</span><span>|</span><a href="#36890730">prev</a><span>|</span><a href="#36889217">next</a><span>|</span><label class="collapse" for="c-36889532">[-]</label><label class="expand" for="c-36889532">[11 more]</label></div><br/><div class="children"><div class="content">Based on the description it sounds like it should be relatively easy to test this recovery process on a regular basis, to catch any lingering bugs and evaluate the recovery time. As they say, the only backups are the ones you have tested.</div><br/><div id="36889825" class="c"><input type="checkbox" id="c-36889825" checked=""/><div class="controls bullet"><span class="by">baz00</span><span>|</span><a href="#36889532">parent</a><span>|</span><a href="#36896565">next</a><span>|</span><label class="collapse" for="c-36889825">[-]</label><label class="expand" for="c-36889825">[9 more]</label></div><br/><div class="children"><div class="content">As someone who just discovered my DR process does not work by testing it, 100% this. The only plan that is likely to work is a repeatable tested one.</div><br/><div id="36891456" class="c"><input type="checkbox" id="c-36891456" checked=""/><div class="controls bullet"><span class="by">tialaramex</span><span>|</span><a href="#36889532">root</a><span>|</span><a href="#36889825">parent</a><span>|</span><a href="#36896565">next</a><span>|</span><label class="collapse" for="c-36891456">[-]</label><label class="expand" for="c-36891456">[8 more]</label></div><br/><div class="children"><div class="content">Ideally, the thing you do in an emergency is largely routine, so that it happens by instinct rather than being a special case you need to remember. It should not be different in arbitrary ways.<p>For example in both trains and cars, thanks to anti-lock braking, the correct way to stop the vehicle ASAP is to brake just like normal but as hard as you can, the computers will automatically solve the much trickier problem of turning your input into maximum deliverable braking force by periodically releasing brakes on sticking wheels.<p>If you run a fire drill, it&#x27;s surprisingly difficult to get employees to use fire doors that they&#x27;re used to finding alarmed and unusable. Even though intellectually they know that, say, the door at the bottom of the stairwell <i>is</i> a fire door, with crash bars and leads directly to the outside world, and this is a fire drill, they are likely to (for example) exit on a higher floor and go through a chokepoint lobby, as they would normally, instead of following this safer path that is emergency only. Sadly it is hard to fix buildings after construction if they were designed with such &quot;unused&quot; emergency exits.<p>For a backup process, having restoring machine images be a service that is sometimes, though not constantly, used anyway for some other reason, is a good way to be comfortable with how it works, that it works, etc. At work for example we routinely test upgrades on test servers restored from a recent backup. Restore serviceA to testA, apply upgrade, discover upgrade completely ruins the service, throw testA away and report this upgrade is garbage. But in the process we gained confidence in the restore process, infrastructure people instead of trying to recall something they only ever did in a drill, when things go badly wrong are very used to this procedure because they do it &quot;all the time&quot;.</div><br/><div id="36892020" class="c"><input type="checkbox" id="c-36892020" checked=""/><div class="controls bullet"><span class="by">baz00</span><span>|</span><a href="#36889532">root</a><span>|</span><a href="#36891456">parent</a><span>|</span><a href="#36896565">next</a><span>|</span><label class="collapse" for="c-36892020">[-]</label><label class="expand" for="c-36892020">[7 more]</label></div><br/><div class="children"><div class="content">This is terrible. Instinct cannot be trusted. Write it down.</div><br/><div id="36892525" class="c"><input type="checkbox" id="c-36892525" checked=""/><div class="controls bullet"><span class="by">bombcar</span><span>|</span><a href="#36889532">root</a><span>|</span><a href="#36892020">parent</a><span>|</span><a href="#36896565">next</a><span>|</span><label class="collapse" for="c-36892525">[-]</label><label class="expand" for="c-36892525">[6 more]</label></div><br/><div class="children"><div class="content">There are two types of emergencies - checklist ones, and panic ones. You need to have both, but realize that in the panic ones people do NOT operate rationally.<p>This is why house doors open in but business doors have to open out - if there’s a crush against a fire door it opens.<p>You even see this in aviation, where everything is checkisted; the pilots will first stabilize the plane in an emergency and then run the checklist. And small plane that operate unexpectedly are always higher in crash rates.</div><br/><div id="36893376" class="c"><input type="checkbox" id="c-36893376" checked=""/><div class="controls bullet"><span class="by">jpgvm</span><span>|</span><a href="#36889532">root</a><span>|</span><a href="#36892525">parent</a><span>|</span><a href="#36893088">next</a><span>|</span><label class="collapse" for="c-36893376">[-]</label><label class="expand" for="c-36893376">[2 more]</label></div><br/><div class="children"><div class="content">Pilots are a little special, their panic mode is also a checklist, known as the memory items.<p>This doesn&#x27;t work for normal people because normal people don&#x27;t drill non-normal events until the response is instinctive.</div><br/><div id="36893640" class="c"><input type="checkbox" id="c-36893640" checked=""/><div class="controls bullet"><span class="by">bombcar</span><span>|</span><a href="#36889532">root</a><span>|</span><a href="#36893376">parent</a><span>|</span><a href="#36893088">next</a><span>|</span><label class="collapse" for="c-36893640">[-]</label><label class="expand" for="c-36893640">[1 more]</label></div><br/><div class="children"><div class="content">Normal people <i>should</i> drill certain non-normal events (for example, all drivers should know how to deaccelerate and get off the road quickly).<p>But you should NEVER design a system that <i>requires</i> normal people to drill non-normal events; even planes have been redesigned to &quot;fix&quot; problems where the pilot had to do something unintuitive or unexpected, because eventually it <i>WILL</i> catch up to you.</div><br/></div></div></div></div><div id="36893088" class="c"><input type="checkbox" id="c-36893088" checked=""/><div class="controls bullet"><span class="by">bluGill</span><span>|</span><a href="#36889532">root</a><span>|</span><a href="#36892525">parent</a><span>|</span><a href="#36893376">prev</a><span>|</span><a href="#36896565">next</a><span>|</span><label class="collapse" for="c-36893088">[-]</label><label class="expand" for="c-36893088">[3 more]</label></div><br/><div class="children"><div class="content">Note that in airplanes (unlike cars) you normally cannot just get in a new one and fly.  You first get training on that particular plane.  If everything goes perfect any pilot can get in any plane and fly it, but if any little thing goes wrong they better know how the plane flys very well so they can get it stable enough to run the checklist.</div><br/><div id="36893442" class="c"><input type="checkbox" id="c-36893442" checked=""/><div class="controls bullet"><span class="by">tialaramex</span><span>|</span><a href="#36889532">root</a><span>|</span><a href="#36893088">parent</a><span>|</span><a href="#36896565">next</a><span>|</span><label class="collapse" for="c-36893442">[-]</label><label class="expand" for="c-36893442">[2 more]</label></div><br/><div class="children"><div class="content">You probably <i>shouldn&#x27;t</i> just get in a new car and drive it, but people do. I remember at a hire car place once the team I worked with were given an automatic, the guy driving has never driven an automatic transmission before, but his license authorises it (UK licenses allow everybody to drive an automatic, but you need to test in a manual to drive manual), and so they just lent him a car with a completely different driving style. He had to get them to show him how to even drive it away out of their car park.<p>I learned in the small car from the same brand as my father&#x27;s larger car, so that the controls are in the same place, the symbols on stuff are identical, all that was different once I have a license and borrow dad&#x27;s car is it&#x27;s longer and has more power.<p>It also probably shouldn&#x27;t be legal for me to drive today, but it is. I learned 25 years ago, and I haven&#x27;t driven anything in over a decade, so a rational system would say nah, you&#x27;re too rusty, get a refresher course, but there&#x27;s no mandate for that.</div><br/><div id="36893689" class="c"><input type="checkbox" id="c-36893689" checked=""/><div class="controls bullet"><span class="by">bombcar</span><span>|</span><a href="#36889532">root</a><span>|</span><a href="#36893442">parent</a><span>|</span><a href="#36896565">next</a><span>|</span><label class="collapse" for="c-36893689">[-]</label><label class="expand" for="c-36893689">[1 more]</label></div><br/><div class="children"><div class="content">It is kind of mind-boggling insane that you can be 25 years or (younger in some states&#x2F;places), having only ever driven a smart car (so you have your license) and you can walk into U-Haul and rent a 26 foot box truck with a trailer, and the most they do is tell you not to go under low overpasses or into drive-thrus.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="36896565" class="c"><input type="checkbox" id="c-36896565" checked=""/><div class="controls bullet"><span class="by">cperciva</span><span>|</span><a href="#36889532">parent</a><span>|</span><a href="#36889825">prev</a><span>|</span><a href="#36889217">next</a><span>|</span><label class="collapse" for="c-36896565">[-]</label><label class="expand" for="c-36896565">[1 more]</label></div><br/><div class="children"><div class="content">Yep!  I&#x27;ve been meaning to do it for a while but there was always something higher priority... I didn&#x27;t realize until this outage that it had been almost a decade since I had tested it.<p>Rehearsing this annually is definitely going to be a high priority.</div><br/></div></div></div></div><div id="36889217" class="c"><input type="checkbox" id="c-36889217" checked=""/><div class="controls bullet"><span class="by">mplewis</span><span>|</span><a href="#36889532">prev</a><span>|</span><a href="#36890206">next</a><span>|</span><label class="collapse" for="c-36889217">[-]</label><label class="expand" for="c-36889217">[1 more]</label></div><br/><div class="children"><div class="content">I always appreciate seeing a professional, courteous, and honest postmortem like this one.</div><br/></div></div><div id="36890206" class="c"><input type="checkbox" id="c-36890206" checked=""/><div class="controls bullet"><span class="by">verytrivial</span><span>|</span><a href="#36889217">prev</a><span>|</span><a href="#36890682">next</a><span>|</span><label class="collapse" for="c-36890206">[-]</label><label class="expand" for="c-36890206">[14 more]</label></div><br/><div class="children"><div class="content">(caveat: I may be running on old tarsnap company info but) I must say, the ONLY thing that has ever made me shy away from seriously using tarsnap was the prospect of an unexpected Colin Percival outage.  i.e. key person risk.  I&#x27;m guessing I&#x27;m not alone in this.</div><br/><div id="36893225" class="c"><input type="checkbox" id="c-36893225" checked=""/><div class="controls bullet"><span class="by">jacquesm</span><span>|</span><a href="#36890206">parent</a><span>|</span><a href="#36892719">next</a><span>|</span><label class="collapse" for="c-36893225">[-]</label><label class="expand" for="c-36893225">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s an MTBF like calculation: do you trust the well engineered one person company that has a well engineered solution with few moving parts over the much larger company that has far more moving parts and their probably less well engineered solution with far more moving parts?<p>I personally would go with the simpler solution because in my experience you need an awful lot of extra complexity before you get to the same level of reliability that you have with the simpler system. Most complexity is just making things worse.<p>You can see this clearly when it comes to clustering servers. A single server with a solid power supply and network hookup will be more reliable than any attempt at making that service redundant until you get to something like 5x more costly and complex. Then maybe you&#x27;ll have the same MTBF as you had with the single server. Beyond that you can have actualy improvements. YMMV and you may be able to get better reliability at the same level of performance in some cases but on average it always first gets far more complex, costly and fragile before you see any real improvements.<p>I strongly believe that the best path to real reliability is simplicity (which is: as simple as possible) and good backups. For stuff that needs to be available 24x7 and 365 days per year this limits your choices in available technologies considerably.</div><br/></div></div><div id="36892719" class="c"><input type="checkbox" id="c-36892719" checked=""/><div class="controls bullet"><span class="by">deltarholamda</span><span>|</span><a href="#36890206">parent</a><span>|</span><a href="#36893225">prev</a><span>|</span><a href="#36894797">next</a><span>|</span><label class="collapse" for="c-36892719">[-]</label><label class="expand" for="c-36892719">[6 more]</label></div><br/><div class="children"><div class="content">While I get this as a risk, I&#x27;m not convinced it&#x27;s any more risky than a larger corporate entity.<p>This is Colin&#x27;s job. Colin has his name attached to it. It&#x27;s really important to Colin.<p>You&#x27;re not going to get the same kind of service from BigBackupCorp. Their employees are replaceable, their management is replaceable, and to be honest, you as a customer are replaceable, if they decide to move in a different direction and become BigFlowerArrangementShippingCorp.<p>The neat thing about a small business is that it runs entirely on its own profits. There are no stock price games or VC jiggery-pokery or anything like that. If it&#x27;s a profitable business, there will be somebody to come along and take it over and make it their job with their name attached to it. I think the open Internet benefits a lot from this sort of thing.</div><br/><div id="36892803" class="c"><input type="checkbox" id="c-36892803" checked=""/><div class="controls bullet"><span class="by">cowsandmilk</span><span>|</span><a href="#36890206">root</a><span>|</span><a href="#36892719">parent</a><span>|</span><a href="#36894797">next</a><span>|</span><label class="collapse" for="c-36892803">[-]</label><label class="expand" for="c-36892803">[5 more]</label></div><br/><div class="children"><div class="content">It isn’t necessarily about Colin quitting. Key person gets hit by bus is also always a concern. You can say someone will pick it up, but I know nothing of whether such plans are in place. Does the person who would inherit the business have the know how to sell it? Is there enough documentation in place for a transfer of assets to be successful?</div><br/><div id="36894961" class="c"><input type="checkbox" id="c-36894961" checked=""/><div class="controls bullet"><span class="by">idlewords</span><span>|</span><a href="#36890206">root</a><span>|</span><a href="#36892803">parent</a><span>|</span><a href="#36893036">next</a><span>|</span><label class="collapse" for="c-36894961">[-]</label><label class="expand" for="c-36894961">[3 more]</label></div><br/><div class="children"><div class="content">This is how that scenario shakes out:<p><pre><code>  1. Key person gets hit by bus
  2. You see the black bar on Hacker News and learn the sad news
  3. You go download all your data from the service, which is still up because there is no bus access to data centers.
  4. You feel like a jerk for all your creepy &quot;hit by bus&quot; talk.
  5. A few weeks later, some VC-funded operation with multiple employees you depended on disappears overnight without a trace.</code></pre></div><br/><div id="36903846" class="c"><input type="checkbox" id="c-36903846" checked=""/><div class="controls bullet"><span class="by">saagarjha</span><span>|</span><a href="#36890206">root</a><span>|</span><a href="#36894961">parent</a><span>|</span><a href="#36896033">next</a><span>|</span><label class="collapse" for="c-36903846">[-]</label><label class="expand" for="c-36903846">[1 more]</label></div><br/><div class="children"><div class="content">I wonder if Tarsnap could stand up to everyone downloading their data from it at once, especially without anyone to help keep it alive.</div><br/></div></div><div id="36896033" class="c"><input type="checkbox" id="c-36896033" checked=""/><div class="controls bullet"><span class="by">marcosdumay</span><span>|</span><a href="#36890206">root</a><span>|</span><a href="#36894961">parent</a><span>|</span><a href="#36903846">prev</a><span>|</span><a href="#36893036">next</a><span>|</span><label class="collapse" for="c-36896033">[-]</label><label class="expand" for="c-36896033">[1 more]</label></div><br/><div class="children"><div class="content">&gt; You go download all your data from the service<p>Just about this step... you are supposed to have it already. You just have to find another service and start using it.</div><br/></div></div></div></div><div id="36893036" class="c"><input type="checkbox" id="c-36893036" checked=""/><div class="controls bullet"><span class="by">XCSme</span><span>|</span><a href="#36890206">root</a><span>|</span><a href="#36892803">parent</a><span>|</span><a href="#36894961">prev</a><span>|</span><a href="#36894797">next</a><span>|</span><label class="collapse" for="c-36893036">[-]</label><label class="expand" for="c-36893036">[1 more]</label></div><br/><div class="children"><div class="content">Companies and corporations get &quot;killed&quot; often too, even if the people in them are alive.</div><br/></div></div></div></div></div></div><div id="36894797" class="c"><input type="checkbox" id="c-36894797" checked=""/><div class="controls bullet"><span class="by">idlewords</span><span>|</span><a href="#36890206">parent</a><span>|</span><a href="#36892719">prev</a><span>|</span><a href="#36892329">next</a><span>|</span><label class="collapse" for="c-36894797">[-]</label><label class="expand" for="c-36894797">[1 more]</label></div><br/><div class="children"><div class="content">Make a list of the competitors tarsnap has outlived and maybe it will change your calculus a bit. The risk you need to evaluate is not &quot;what if something happens to the proprietor&quot; (which I&#x27;ve always found pretty macabre), but &quot;what if something happens to him and then the service goes down and also I never backed up my backups&quot;. This is a risk you can make as small as you want with judicious planning.</div><br/></div></div><div id="36892329" class="c"><input type="checkbox" id="c-36892329" checked=""/><div class="controls bullet"><span class="by">saalweachter</span><span>|</span><a href="#36890206">parent</a><span>|</span><a href="#36894797">prev</a><span>|</span><a href="#36892482">next</a><span>|</span><label class="collapse" for="c-36892329">[-]</label><label class="expand" for="c-36892329">[4 more]</label></div><br/><div class="children"><div class="content">I mean, if you are on HN, you will probably learn of a Colin outage within 24 hours, so practically speaking you would <i>really</i> only have a problem if your primary data storage, Tarsnap, and Colin all failed in the same 24 hour window or so before you had time to switch to a new backup provider.</div><br/><div id="36892475" class="c"><input type="checkbox" id="c-36892475" checked=""/><div class="controls bullet"><span class="by">koolba</span><span>|</span><a href="#36890206">root</a><span>|</span><a href="#36892329">parent</a><span>|</span><a href="#36892482">next</a><span>|</span><label class="collapse" for="c-36892475">[-]</label><label class="expand" for="c-36892475">[3 more]</label></div><br/><div class="children"><div class="content">Pretty sure his brother works on tarsnap too.<p>They should take separate buses to ______.</div><br/><div id="36896447" class="c"><input type="checkbox" id="c-36896447" checked=""/><div class="controls bullet"><span class="by">cperciva</span><span>|</span><a href="#36890206">root</a><span>|</span><a href="#36892475">parent</a><span>|</span><a href="#36892482">next</a><span>|</span><label class="collapse" for="c-36896447">[-]</label><label class="expand" for="c-36896447">[2 more]</label></div><br/><div class="children"><div class="content"><i>Pretty sure his brother works on tarsnap too.</i><p>Yes, I hired him in 2015 IIRC.  If you look at tarsnap&#x27;s GitHub you&#x27;ll see a lot of commits from gperciva.</div><br/><div id="36898447" class="c"><input type="checkbox" id="c-36898447" checked=""/><div class="controls bullet"><span class="by">koolba</span><span>|</span><a href="#36890206">root</a><span>|</span><a href="#36896447">parent</a><span>|</span><a href="#36892482">next</a><span>|</span><label class="collapse" for="c-36898447">[-]</label><label class="expand" for="c-36898447">[1 more]</label></div><br/><div class="children"><div class="content">Nice. Being able to work with your family is great.</div><br/></div></div></div></div></div></div></div></div><div id="36892482" class="c"><input type="checkbox" id="c-36892482" checked=""/><div class="controls bullet"><span class="by">bombcar</span><span>|</span><a href="#36890206">parent</a><span>|</span><a href="#36892329">prev</a><span>|</span><a href="#36890682">next</a><span>|</span><label class="collapse" for="c-36892482">[-]</label><label class="expand" for="c-36892482">[1 more]</label></div><br/><div class="children"><div class="content">I would never consider a backup provider to be <i>more</i> reliable than that, because if you <i>depend</i> on it, it will fail you at the hardest time.<p>Better to have multiple layers of backup, of which tarsnap and friends are only one, and verify regularly.</div><br/></div></div></div></div><div id="36890682" class="c"><input type="checkbox" id="c-36890682" checked=""/><div class="controls bullet"><span class="by">abiro</span><span>|</span><a href="#36890206">prev</a><span>|</span><a href="#36893134">next</a><span>|</span><label class="collapse" for="c-36890682">[-]</label><label class="expand" for="c-36890682">[1 more]</label></div><br/><div class="children"><div class="content">&gt; The second step failed almost immediately, with an error telling me that a
replayed log entry was recording data belonging to a machine which didn&#x27;t
exist.  This provoked some head-scratching until I realized that this was
introduced by some code I wrote in 2014: Occasionally Tarsnap users need to
move a machine between accounts, and I handle this storing a new &quot;machine
registration&quot; log entry and deleting the previous one<p>Recommend writing a TLA+ model to catch stuff like this</div><br/></div></div><div id="36893134" class="c"><input type="checkbox" id="c-36893134" checked=""/><div class="controls bullet"><span class="by">colonwqbang</span><span>|</span><a href="#36890682">prev</a><span>|</span><a href="#36892149">next</a><span>|</span><label class="collapse" for="c-36893134">[-]</label><label class="expand" for="c-36893134">[3 more]</label></div><br/><div class="children"><div class="content">What would be the benefit of tarsnap over using something like restic+backblaze at order(s) of magnitude lower cost? What specific need would motivate you to pay $3000 per TB-year?</div><br/><div id="36893311" class="c"><input type="checkbox" id="c-36893311" checked=""/><div class="controls bullet"><span class="by">jpgvm</span><span>|</span><a href="#36893134">parent</a><span>|</span><a href="#36893413">next</a><span>|</span><label class="collapse" for="c-36893311">[-]</label><label class="expand" for="c-36893311">[1 more]</label></div><br/><div class="children"><div class="content">Extremely good deduplication means that for the core set of very important data I backup to Tarsnap the costs are negligible. I imagine the math is probably different if your data is changing more frequently. I for instance use other services to manage my video and photo libraries but my accounting databases, critical documents, etc are backed up to Tarsnap.<p>I have been using Tarsnap for a decade and not only has there been minimal availability issues there have been almost no issues of any kind that I can recall.</div><br/></div></div><div id="36893413" class="c"><input type="checkbox" id="c-36893413" checked=""/><div class="controls bullet"><span class="by">carapace</span><span>|</span><a href="#36893134">parent</a><span>|</span><a href="#36893311">prev</a><span>|</span><a href="#36892149">next</a><span>|</span><label class="collapse" for="c-36893413">[-]</label><label class="expand" for="c-36893413">[1 more]</label></div><br/><div class="children"><div class="content">Some of us have lots of extra money and like an excuse to give some of it to cperciva so he doesn&#x27;t have to work a shit job and can apply his skills and talents to bigger, better things?<p>(People here asking about the low Bus Factor: you don&#x27;t keep your backups in one service&#x2F;location, eh?  You use Tarsnap <i>and</i> Restic with Backblaze, Rsync.net, S3, etc. right?  &quot;Backups are a tax you pay for the luxury of restore.&quot;)</div><br/></div></div></div></div><div id="36892149" class="c"><input type="checkbox" id="c-36892149" checked=""/><div class="controls bullet"><span class="by">Tachyooon</span><span>|</span><a href="#36893134">prev</a><span>|</span><a href="#36890202">next</a><span>|</span><label class="collapse" for="c-36892149">[-]</label><label class="expand" for="c-36892149">[2 more]</label></div><br/><div class="children"><div class="content">Unrelated to the outage, but I&#x27;m curious nonetheless: would it be possible to hook up Tarsnap&#x27;s encryption software to a Dropbox folder? I&#x27;m not sure if it even makes sense to use Tarsnap for this, but I&#x27;d love to have an easy setup that allows me to use Dropbox&#x27;s servers but only let them see encrypted data so they can&#x27;t snoop.</div><br/><div id="36892251" class="c"><input type="checkbox" id="c-36892251" checked=""/><div class="controls bullet"><span class="by">matthiaswh</span><span>|</span><a href="#36892149">parent</a><span>|</span><a href="#36890202">next</a><span>|</span><label class="collapse" for="c-36892251">[-]</label><label class="expand" for="c-36892251">[1 more]</label></div><br/><div class="children"><div class="content">You probably want something like <a href="https:&#x2F;&#x2F;cryptomator.org&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;cryptomator.org&#x2F;</a></div><br/></div></div></div></div><div id="36890202" class="c"><input type="checkbox" id="c-36890202" checked=""/><div class="controls bullet"><span class="by">aborsy</span><span>|</span><a href="#36892149">prev</a><span>|</span><a href="#36889510">next</a><span>|</span><label class="collapse" for="c-36890202">[-]</label><label class="expand" for="c-36890202">[11 more]</label></div><br/><div class="children"><div class="content">Tarsnap is undoubtedly expensive, but it also donates to various efforts!<p>Neglecting the pricing, does Tarsnap have any advantage over Restic?<p>Restic also deduplicates, using little data.</div><br/><div id="36890228" class="c"><input type="checkbox" id="c-36890228" checked=""/><div class="controls bullet"><span class="by">mattbee</span><span>|</span><a href="#36890202">parent</a><span>|</span><a href="#36890236">next</a><span>|</span><label class="collapse" for="c-36890228">[-]</label><label class="expand" for="c-36890228">[8 more]</label></div><br/><div class="children"><div class="content">The deduping in restic is just on the edge of acceptable for me, making me think I&#x27;d have trouble with a lot more data. Basically the one a month &quot;prune&quot; operation takes about 36h (to B2) . I feel I could be tuning something but also it works and I don&#x27;t want to touch it.</div><br/><div id="36890596" class="c"><input type="checkbox" id="c-36890596" checked=""/><div class="controls bullet"><span class="by">aborsy</span><span>|</span><a href="#36890202">root</a><span>|</span><a href="#36890228">parent</a><span>|</span><a href="#36890254">next</a><span>|</span><label class="collapse" for="c-36890596">[-]</label><label class="expand" for="c-36890596">[5 more]</label></div><br/><div class="children"><div class="content">I backup around 2TB with Restic, also tried locally with Borg. The size is nearly the same. Sadly, I can’t even test with Tarsnap! (absurd pricing for 2TB).</div><br/><div id="36891011" class="c"><input type="checkbox" id="c-36891011" checked=""/><div class="controls bullet"><span class="by">justsomehnguy</span><span>|</span><a href="#36890202">root</a><span>|</span><a href="#36890596">parent</a><span>|</span><a href="#36890254">next</a><span>|</span><label class="collapse" for="c-36891011">[-]</label><label class="expand" for="c-36891011">[4 more]</label></div><br/><div class="children"><div class="content">&gt; absurd pricing for 2TB<p>Well, it can&#x27;t be that ba..<p><pre><code>    $0.25 x 2000 = $500
</code></pre>
Yikes. And this is without BW costs.<p>At $500&#x2F;M you can just rent a dedicated physical server with a lot of HDDs and still have money left for your favourite pumpkin latte.<p>For comparison rsync.net says it&#x27;s $0.015 per GB&#x2F;Mo, for 2TBs that&#x27;s $30&#x2F;m and no BW costs.</div><br/><div id="36891804" class="c"><input type="checkbox" id="c-36891804" checked=""/><div class="controls bullet"><span class="by">jiripospisil</span><span>|</span><a href="#36890202">root</a><span>|</span><a href="#36891011">parent</a><span>|</span><a href="#36892637">next</a><span>|</span><label class="collapse" for="c-36891804">[-]</label><label class="expand" for="c-36891804">[1 more]</label></div><br/><div class="children"><div class="content">Not in any way affiliated but I&#x27;m a happy user of Scaleway&#x27;s Object Storage [0] together with S3QL [1]. It&#x27;s not the fastest but they give you 75GB of storage for free so that&#x27;s a fair trade [2].<p>[0] <a href="https:&#x2F;&#x2F;www.scaleway.com&#x2F;en&#x2F;object-storage" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.scaleway.com&#x2F;en&#x2F;object-storage</a><p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;s3ql&#x2F;s3ql">https:&#x2F;&#x2F;github.com&#x2F;s3ql&#x2F;s3ql</a><p>[2] <a href="https:&#x2F;&#x2F;www.scaleway.com&#x2F;en&#x2F;pricing&#x2F;?tags=storage" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.scaleway.com&#x2F;en&#x2F;pricing&#x2F;?tags=storage</a></div><br/></div></div><div id="36892637" class="c"><input type="checkbox" id="c-36892637" checked=""/><div class="controls bullet"><span class="by">ilyt</span><span>|</span><a href="#36890202">root</a><span>|</span><a href="#36891011">parent</a><span>|</span><a href="#36891804">prev</a><span>|</span><a href="#36890254">next</a><span>|</span><label class="collapse" for="c-36892637">[-]</label><label class="expand" for="c-36892637">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;m renting $15&#x2F;mo 2TB atom machine from OVH&#x2F;kimsufi as second target for backups.<p>Now that I think about it... some kind of micro-distributed backup server (throw on few of your machines, auto-replicate between) would be a neat project...</div><br/><div id="36893386" class="c"><input type="checkbox" id="c-36893386" checked=""/><div class="controls bullet"><span class="by">justsomehnguy</span><span>|</span><a href="#36890202">root</a><span>|</span><a href="#36892637">parent</a><span>|</span><a href="#36890254">next</a><span>|</span><label class="collapse" for="c-36893386">[-]</label><label class="expand" for="c-36893386">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not even that neat.<p>Just slap rsync&#x2F;syncthing to the backup dir.</div><br/></div></div></div></div></div></div></div></div><div id="36890254" class="c"><input type="checkbox" id="c-36890254" checked=""/><div class="controls bullet"><span class="by">sandgiant</span><span>|</span><a href="#36890202">root</a><span>|</span><a href="#36890228">parent</a><span>|</span><a href="#36890596">prev</a><span>|</span><a href="#36890236">next</a><span>|</span><label class="collapse" for="c-36890254">[-]</label><label class="expand" for="c-36890254">[2 more]</label></div><br/><div class="children"><div class="content">Curious how much you backup, which version of restic you&#x27;re running and why you think the deduplication is borderline unacceptable. There were several major (orders of magnitudes) improvements made to pruning within the past ~1 year, that&#x27;s why I&#x27;m interested.</div><br/><div id="36890478" class="c"><input type="checkbox" id="c-36890478" checked=""/><div class="controls bullet"><span class="by">mattbee</span><span>|</span><a href="#36890202">root</a><span>|</span><a href="#36890254">parent</a><span>|</span><a href="#36890236">next</a><span>|</span><label class="collapse" for="c-36890478">[-]</label><label class="expand" for="c-36890478">[1 more]</label></div><br/><div class="children"><div class="content">A straight upgrade, that I can do :) It&#x27;s been running for years without one.<p>I was only edgy about it because when it takes 36h it blocks the next daily backup, and I wondered whether that was going to get worse (it hasn&#x27;t).</div><br/></div></div></div></div></div></div><div id="36890236" class="c"><input type="checkbox" id="c-36890236" checked=""/><div class="controls bullet"><span class="by">bartvk</span><span>|</span><a href="#36890202">parent</a><span>|</span><a href="#36890228">prev</a><span>|</span><a href="#36900588">next</a><span>|</span><label class="collapse" for="c-36890236">[-]</label><label class="expand" for="c-36890236">[1 more]</label></div><br/><div class="children"><div class="content">How do you compare the two, price-wise? With Restic, you have to provide your own storage.</div><br/></div></div><div id="36900588" class="c"><input type="checkbox" id="c-36900588" checked=""/><div class="controls bullet"><span class="by">zgluck</span><span>|</span><a href="#36890202">parent</a><span>|</span><a href="#36890236">prev</a><span>|</span><a href="#36889510">next</a><span>|</span><label class="collapse" for="c-36900588">[-]</label><label class="expand" for="c-36900588">[1 more]</label></div><br/><div class="children"><div class="content"><i>Tarsnap is undoubtedly expensive, but it also donates to various efforts!</i><p>I mean.. you could purchase a cheaper service and <i>also</i> donate to various efforts. Bonus: Then you&#x27;d also be able to pick those efforts.</div><br/></div></div></div></div><div id="36889510" class="c"><input type="checkbox" id="c-36889510" checked=""/><div class="controls bullet"><span class="by">RockRobotRock</span><span>|</span><a href="#36890202">prev</a><span>|</span><a href="#36891020">next</a><span>|</span><label class="collapse" for="c-36889510">[-]</label><label class="expand" for="c-36889510">[83 more]</label></div><br/><div class="children"><div class="content">Aren&#x27;t these storage prices absurd? Please let me know if I&#x27;m misunderstanding.</div><br/><div id="36890188" class="c"><input type="checkbox" id="c-36890188" checked=""/><div class="controls bullet"><span class="by">gnfargbl</span><span>|</span><a href="#36889510">parent</a><span>|</span><a href="#36889720">next</a><span>|</span><label class="collapse" for="c-36890188">[-]</label><label class="expand" for="c-36890188">[14 more]</label></div><br/><div class="children"><div class="content">The prices are absurdly high if your use-case is storage of large volumes of data that regularly change. It wouldn&#x27;t be sensible to use Tarsnap for that, and you probably want to use one of the bulk backup services instead.<p>Tarsnap makes a lot of sense when you benefit from the encryption and (especially) de-duplication features that it offers. For me, all of my most important personal and business data, from multiple decades, compresses-and-deduplicates down to around 6GiB. Considering the high value of the data I store in it, tarsnap&#x27;s pricing actually feels absurdly <i>low</i>.</div><br/><div id="36890707" class="c"><input type="checkbox" id="c-36890707" checked=""/><div class="controls bullet"><span class="by">patrec</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36890188">parent</a><span>|</span><a href="#36892554">next</a><span>|</span><label class="collapse" for="c-36890707">[-]</label><label class="expand" for="c-36890707">[12 more]</label></div><br/><div class="children"><div class="content">&gt; Tarsnap makes a lot of sense when you benefit from the encryption and (especially) de-duplication features that it offers.<p>Can you provide more detail why you think so? I don&#x27;t believe there is any use case in which tarsnap makes sense, other than maybe some Plan-C backup solution which you fall back on in the highly unlikely event that neither Plan-A nor Plan-B worked.<p>Concretely, what benefits does tarsnap offer over restic or borg in combination with rsync.net, to make up for the substantial downsides (such as insanely slow restore, complete lack of wetware redundancy or being written in C[1])?<p>[1] <a href="https:&#x2F;&#x2F;www.tarsnap.com&#x2F;bounty-winners.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.tarsnap.com&#x2F;bounty-winners.html</a></div><br/><div id="36892517" class="c"><input type="checkbox" id="c-36892517" checked=""/><div class="controls bullet"><span class="by">rssoconnor</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36890707">parent</a><span>|</span><a href="#36891504">next</a><span>|</span><label class="collapse" for="c-36892517">[-]</label><label class="expand" for="c-36892517">[9 more]</label></div><br/><div class="children"><div class="content">I use tarsnap because the asymmetric crypto means I can give my cron job authorization to create backups, but it doesn&#x27;t have authorization to read or delete(!) backups.<p>This ability is critical to prevent a compromised system from having its data wiped and having all backups wiped as well.<p>I haven&#x27;t been able to figure out how to do this in any other system.  But if someone has a tutorial, I am all ears.</div><br/><div id="36901607" class="c"><input type="checkbox" id="c-36901607" checked=""/><div class="controls bullet"><span class="by">ufmace</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36892517">parent</a><span>|</span><a href="#36900987">next</a><span>|</span><label class="collapse" for="c-36901607">[-]</label><label class="expand" for="c-36901607">[2 more]</label></div><br/><div class="children"><div class="content">IMO AWS S3 works fine for this:<p>* Create a S3 bucket and enable versioning
* Create a new user and give it only s3:PutObject on your new bucket
* Create an auth keypair for that user and put it on your server<p>Now any server compromise that gets those keys can only add new data to your backup bucket, and can&#x27;t read, overwrite, or delete any previous backup.<p>There&#x27;s no dedup, so that could be a deal-breaker.<p>There&#x27;s also no real encryption (though that shouldn&#x27;t be too hard to add I guess). I don&#x27;t really see the gain though. Anyone who compromises the server keys is blocked from reading by AWS permissions. Granted, that&#x27;s not quite as reliable as good crypto for blocking reading, but on the deleting side, there&#x27;s never going to be anything but the auth system of whatever solution you&#x27;re using to block that.<p>I get that there&#x27;s some applications out there where preventing data exfiltration is important enough to need strong crypto (though is that really important when we&#x27;re talking about full compromise of your server, which gets the attacker direct access to the data anyways?), but I decided that the risk of failing to implement properly or full data loss due to losing the keys or them being corrupted wasn&#x27;t worth the risk of blocking somebody who somehow compromised the AWS account security from being able to read backup data.</div><br/><div id="36902151" class="c"><input type="checkbox" id="c-36902151" checked=""/><div class="controls bullet"><span class="by">rssoconnor</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36901607">parent</a><span>|</span><a href="#36900987">next</a><span>|</span><label class="collapse" for="c-36902151">[-]</label><label class="expand" for="c-36902151">[1 more]</label></div><br/><div class="children"><div class="content">Deduplication isn&#x27;t necessarily a deal breaker.  Let&#x27;s see.<p>My main machine is currently storing 1.6 TB (compressed) of total archives with tarsnap, but only 33 GB (compressed) of unique data within those archives.  So if S3 is 50x cheaper, then not having deduplication would be a wash.<p>However other comments here suggest that S3 is only 10x cheaper.</div><br/></div></div></div></div><div id="36900987" class="c"><input type="checkbox" id="c-36900987" checked=""/><div class="controls bullet"><span class="by">rssoconnor</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36892517">parent</a><span>|</span><a href="#36901607">prev</a><span>|</span><a href="#36893139">next</a><span>|</span><label class="collapse" for="c-36900987">[-]</label><label class="expand" for="c-36900987">[1 more]</label></div><br/><div class="children"><div class="content">Replying to myself:<p>I&#x27;ve been musing on this subject all afternoon.  I&#x27;m a user of Tarsnap, and I do find it expensive, in the sense that I would prefer to backup larger amounts of data for less amount of money.  At the moment I backup photos separately from Tarsnap and in an adhoc way.<p>But I still cannot figure out a way to get all the benefits I get from Tarsnap from  any other software solution.<p>* Must be usable under Nixos.<p>* Backups must be asymmetrically encrypted so that backups can be automated, yet a compromise of the system cannot immediately gain read authorization to arcived data.<p>* Backups must be append-only without further credentials, or otherwise prevent a compromised system from being able to delete existing archives.<p>* Deduplication between archives while still allowing archives to independently be deleted.<p>Using the ZFS snapshot functionality with rsync.net, for example, with Duplicity comes close.  However, as I recall, duplicity wants to regular (typically monthly) full backups and then incremental backups from there.  You cannot remove these full backups without deleting the entire month&#x27;s worth of backups, and because the full backups are independently encrypted, there is (of course) no deduplication between full snapshots, even though the data is still likely largely the same.  And because the snapshots are encrypted, it is impossible for the rsync.net storage to see or even know that large parts of the encrypted data is identical.<p>AFAICT there is really nothing else that does what Tarsnap does.</div><br/></div></div><div id="36893139" class="c"><input type="checkbox" id="c-36893139" checked=""/><div class="controls bullet"><span class="by">rcxdude</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36892517">parent</a><span>|</span><a href="#36900987">prev</a><span>|</span><a href="#36891504">next</a><span>|</span><label class="collapse" for="c-36893139">[-]</label><label class="expand" for="c-36893139">[5 more]</label></div><br/><div class="children"><div class="content">Rsync.net can do similar, because of their snapshot system. By default there&#x27;s no way to delete a snapshot except through the schedule set up (you can write to them and ask if it&#x27;s necessary for some reason). It doesn&#x27;t use asymmetric crypto to do this but it&#x27;s neither necessary not sufficient for the purpose of preventing accidental or malicious deletion of backups<p><a href="https:&#x2F;&#x2F;www.rsync.net&#x2F;resources&#x2F;howto&#x2F;snapshots.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.rsync.net&#x2F;resources&#x2F;howto&#x2F;snapshots.html</a></div><br/><div id="36893305" class="c"><input type="checkbox" id="c-36893305" checked=""/><div class="controls bullet"><span class="by">rssoconnor</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36893139">parent</a><span>|</span><a href="#36891504">next</a><span>|</span><label class="collapse" for="c-36893305">[-]</label><label class="expand" for="c-36893305">[4 more]</label></div><br/><div class="children"><div class="content">Right I&#x27;ve considered that.  It is however limited to like 7 snapshots.<p>The thing is that tarsnap deduplicates over arbitrarily long time periods, letting me make arbitrarily long staggered sequences of retained archives.<p>Perhaps I should really reconsider if I really need such long lived archives, but it is  hard to bring myself to drop them.</div><br/><div id="36893572" class="c"><input type="checkbox" id="c-36893572" checked=""/><div class="controls bullet"><span class="by">rcxdude</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36893305">parent</a><span>|</span><a href="#36895381">next</a><span>|</span><label class="collapse" for="c-36893572">[-]</label><label class="expand" for="c-36893572">[2 more]</label></div><br/><div class="children"><div class="content">You can do the same with rsync, they just charge you for the extra space (the differential space, like with tarsnap) instead of providing them for free (from what I can see the limits in the web UI are like 1000 daily and weekly snapshots, 200 monthy snapshots, 100 quarterly snapshows, and 10 yearly snapshots, which I suspect are arbitrary &#x27;good enough for most&#x27; numbers, not some hard limit based on what they can profitably provide). I personally use the direct ZFS option so I can set up the snapshots exactly how I want, but it is extra effort and doesn&#x27;t provide quite as good a guarantee that they won&#x27;t be overwritten (it&#x27;s resilient against a compromise of the server uploading the backups because I&#x27;ve set up scripts that way, but it doesn&#x27;t protect against compromise of the logic credentials for the VM in the same way).</div><br/><div id="36894120" class="c"><input type="checkbox" id="c-36894120" checked=""/><div class="controls bullet"><span class="by">rssoconnor</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36893572">parent</a><span>|</span><a href="#36895381">next</a><span>|</span><label class="collapse" for="c-36894120">[-]</label><label class="expand" for="c-36894120">[1 more]</label></div><br/><div class="children"><div class="content">Oh thanks.  I did not know that.  That does seem good enough.<p>I just now need a deduplicating asymmetrically encrypted backup program.<p>I&#x27;ve tried duplicity in the past, and maybe I should try it again.  But my recollection is that duplicity will just fail to do backups at the slightest hint of any problem.  Like maybe if the last backup was interrupted then no more backups for you until you attend to it.<p>Edit: More memories returning of having to dig out my decryption key to resync the metadata when duplicity gets unhappy, and then since my target server was append-only, duplicity was upset when it wasn&#x27;t allowed overwrite any of it&#x27;s incomplete metadata files.  I guess the ZFS snapshot technique would alleviate the latter issue.<p>To be fair, if tarsnap gets confused it needs the keys to do its fsck command, but I recall this sort of thing happening regularly with duplicity and almost never with tarsnap.</div><br/></div></div></div></div><div id="36895381" class="c"><input type="checkbox" id="c-36895381" checked=""/><div class="controls bullet"><span class="by">rsync</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36893305">parent</a><span>|</span><a href="#36893572">prev</a><span>|</span><a href="#36891504">next</a><span>|</span><label class="collapse" for="c-36895381">[-]</label><label class="expand" for="c-36895381">[1 more]</label></div><br/><div class="children"><div class="content">No, not limited.<p>An rsync.net account can have any arbitrary schedule of snapshots - including days, weeks, months, quarters and years.</div><br/></div></div></div></div></div></div></div></div><div id="36891504" class="c"><input type="checkbox" id="c-36891504" checked=""/><div class="controls bullet"><span class="by">gnfargbl</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36890707">parent</a><span>|</span><a href="#36892517">prev</a><span>|</span><a href="#36892554">next</a><span>|</span><label class="collapse" for="c-36891504">[-]</label><label class="expand" for="c-36891504">[2 more]</label></div><br/><div class="children"><div class="content">My post was specifically addressing the comments around cost.</div><br/><div id="36891708" class="c"><input type="checkbox" id="c-36891708" checked=""/><div class="controls bullet"><span class="by">patrec</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36891504">parent</a><span>|</span><a href="#36892554">next</a><span>|</span><label class="collapse" for="c-36891708">[-]</label><label class="expand" for="c-36891708">[1 more]</label></div><br/><div class="children"><div class="content">No, you specifically claimed that &quot;tarsnap makes a lot of sense&quot; in certain situations. I think that&#x27;s incorrect and that there are basically no situations where tarsnap makes sense as a primary or even secondary backup solution. Even when completely ignoring costs. This is a strong claim, so it should be easy to provide a counter-example if one exists.</div><br/></div></div></div></div></div></div><div id="36892554" class="c"><input type="checkbox" id="c-36892554" checked=""/><div class="controls bullet"><span class="by">ilyt</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36890188">parent</a><span>|</span><a href="#36890707">prev</a><span>|</span><a href="#36889720">next</a><span>|</span><label class="collapse" for="c-36892554">[-]</label><label class="expand" for="c-36892554">[1 more]</label></div><br/><div class="children"><div class="content">That if there was zero other options that offer encrypted backups, but other software offers that too. Many also offer deduplication. And deduplication is less of a needed feature if you dont pay thru the nose for GB</div><br/></div></div></div></div><div id="36889720" class="c"><input type="checkbox" id="c-36889720" checked=""/><div class="controls bullet"><span class="by">mekster</span><span>|</span><a href="#36889510">parent</a><span>|</span><a href="#36890188">prev</a><span>|</span><a href="#36890051">next</a><span>|</span><label class="collapse" for="c-36889720">[-]</label><label class="expand" for="c-36889720">[40 more]</label></div><br/><div class="children"><div class="content">It&#x27;s insane. Not sure how anyone can accept such a rip off pricing.<p>Tarsnap : $0.25 &#x2F; GB storage, $0.25 &#x2F; GB bandwidth cost<p>rsync.net : $0.015 &#x2F; GB storage, no bandwidth cost<p>s3 : $0.023 &#x2F; GB storage, some complicated bandwidth pricing<p>If tarsnap is built on top of s3, they&#x27;re charging 10 times for the storage cost. Easy money from the uninformed?</div><br/><div id="36890360" class="c"><input type="checkbox" id="c-36890360" checked=""/><div class="controls bullet"><span class="by">LukeShu</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36889720">parent</a><span>|</span><a href="#36893642">next</a><span>|</span><label class="collapse" for="c-36890360">[-]</label><label class="expand" for="c-36890360">[10 more]</label></div><br/><div class="children"><div class="content">How&#x27;s the saying in every HN thread go? &quot;Don&#x27;t set your prices based on your costs, set your prices based on the value you deliver.&quot; or something like that.<p>Tarsnap is a wonderful piece of software.  You&#x27;re paying for that.<p>That said, is the value of &quot;Tarsnap&quot; worth the price difference from &quot;Borg+rsync.net&quot;?  (Or Restic, I&#x27;ve been meaning to look into Restic).  I&#x27;m not so sure.  These days I&#x27;m a customer of rsync.net, not of Tarsnap.<p>But I still firmly disagree with the &quot;Colin&#x27;s just exploiting the uninformed&quot; angle.</div><br/><div id="36890602" class="c"><input type="checkbox" id="c-36890602" checked=""/><div class="controls bullet"><span class="by">patrec</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36890360">parent</a><span>|</span><a href="#36893060">next</a><span>|</span><label class="collapse" for="c-36890602">[-]</label><label class="expand" for="c-36890602">[5 more]</label></div><br/><div class="children"><div class="content">Completely ignoring costs, can you name a single use case for which tarsnap would be better than Borg or restic on rsync.net?</div><br/><div id="36890840" class="c"><input type="checkbox" id="c-36890840" checked=""/><div class="controls bullet"><span class="by">i_have_an_idea</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36890602">parent</a><span>|</span><a href="#36901067">next</a><span>|</span><label class="collapse" for="c-36890840">[-]</label><label class="expand" for="c-36890840">[1 more]</label></div><br/><div class="children"><div class="content">As a consultant on a DR project, you can increase your billables by 10x due to the extremely slow backup restore speeds.</div><br/></div></div><div id="36901067" class="c"><input type="checkbox" id="c-36901067" checked=""/><div class="controls bullet"><span class="by">rssoconnor</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36890602">parent</a><span>|</span><a href="#36890840">prev</a><span>|</span><a href="#36893164">next</a><span>|</span><label class="collapse" for="c-36901067">[-]</label><label class="expand" for="c-36901067">[1 more]</label></div><br/><div class="children"><div class="content">With regards to restic, Tarsnap preforms asymmetric encryption which lets you perform automated backups without needing to enter any passwords (or otherwise storing your encryption passwords in plain text).<p>With regards to duplicity, Tarsnap does full deduplication across all backups for any given &quot;machine&quot;, while still letting you independently remove any snapshots you like.  i.e. no special &quot;full snapshot&quot; that must always be kept around, and no need for multiple full snapshots that have no deduplication between them.</div><br/></div></div><div id="36893164" class="c"><input type="checkbox" id="c-36893164" checked=""/><div class="controls bullet"><span class="by">doolallylah</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36890602">parent</a><span>|</span><a href="#36901067">prev</a><span>|</span><a href="#36893060">next</a><span>|</span><label class="collapse" for="c-36893164">[-]</label><label class="expand" for="c-36893164">[2 more]</label></div><br/><div class="children"><div class="content">Backing up anything Windows with more granularity than top level directories?<p>Ugh.<p>Try picking a choosing specific file types or file extensions from filesystems holding thousands of files.<p>I ended up having to cobble together some god-awful pre-process powershell with multiple pipes just because restic fails to be able to grep using Windows reliably.<p>:(</div><br/><div id="36900677" class="c"><input type="checkbox" id="c-36900677" checked=""/><div class="controls bullet"><span class="by">tredre3</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36893164">parent</a><span>|</span><a href="#36893060">next</a><span>|</span><label class="collapse" for="c-36900677">[-]</label><label class="expand" for="c-36900677">[1 more]</label></div><br/><div class="children"><div class="content">&gt; restic fails to be able to grep using Windows reliably<p>That is news to me. I backup almost a million files spread across 4 Windows devices, with heavy use of --files-from and --iexclude and it seems to work. What am I missing?<p>I agree that restic filtering options are pretty limited. Too limited, really. But what&#x27;s there seems to work?</div><br/></div></div></div></div></div></div><div id="36893060" class="c"><input type="checkbox" id="c-36893060" checked=""/><div class="controls bullet"><span class="by">electroly</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36890360">parent</a><span>|</span><a href="#36890602">prev</a><span>|</span><a href="#36893642">next</a><span>|</span><label class="collapse" for="c-36893060">[-]</label><label class="expand" for="c-36893060">[4 more]</label></div><br/><div class="children"><div class="content">rsync.net is also overpriced for strictly backup purposes. Make sure you do check out restic; it can use S3 or Backblaze B2 (I actually use both) as backends instead of something expensive like rsync.net. The value of these boutique storage services evaporates when you start using restic.</div><br/><div id="36901546" class="c"><input type="checkbox" id="c-36901546" checked=""/><div class="controls bullet"><span class="by">mekster</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36893060">parent</a><span>|</span><a href="#36894186">next</a><span>|</span><label class="collapse" for="c-36901546">[-]</label><label class="expand" for="c-36901546">[1 more]</label></div><br/><div class="children"><div class="content">I treat zfs far more reliable than restic which is still rough around the edges the last time I tried a few years ago.<p>Run rsync to the target and forget is quite easy, though I admit rsync.net&#x27;s deal is getting worse these days posing minimum usages here and there.</div><br/></div></div><div id="36894186" class="c"><input type="checkbox" id="c-36894186" checked=""/><div class="controls bullet"><span class="by">AnonHP</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36893060">parent</a><span>|</span><a href="#36901546">prev</a><span>|</span><a href="#36893642">next</a><span>|</span><label class="collapse" for="c-36894186">[-]</label><label class="expand" for="c-36894186">[2 more]</label></div><br/><div class="children"><div class="content">The complexity with S3 or Backblaze B2 is the granular pricing for various operations on the service. It’s difficult to optimize costs compared to a fixed “$X per GB” pricing that’s easier for people to understand and forecast expenses a bit more easily. Other than that, rsync.net provides the same pricing for different days center locations, which means there is some subsidization going on.<p>There are services like rsync.net that support borg at a lower price. Borgbase is one of them. I haven’t used either of these.</div><br/><div id="36899344" class="c"><input type="checkbox" id="c-36899344" checked=""/><div class="controls bullet"><span class="by">LukeShu</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36894186">parent</a><span>|</span><a href="#36893642">next</a><span>|</span><label class="collapse" for="c-36899344">[-]</label><label class="expand" for="c-36899344">[1 more]</label></div><br/><div class="children"><div class="content"><i>&gt; There are services like rsync.net that support borg at a lower price.</i><p>And rsync.net is even one of them!<p>&quot;Special &quot;borg accounts&quot; are available at a very deep discount for technically proficient users.&quot; -- <a href="https:&#x2F;&#x2F;www.rsync.net&#x2F;products&#x2F;borg.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.rsync.net&#x2F;products&#x2F;borg.html</a><p>...hrm, it seems they didn&#x27;t update that page with last year&#x27;s price drop.  <a href="https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20220319135035&#x2F;https:&#x2F;&#x2F;www.rsync.net&#x2F;pricing.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20220319135035&#x2F;https:&#x2F;&#x2F;www.rsync...</a>  It used to be a deep discount, now it&#x27;s the same for &lt;100TB.  I wonder if they did drop the Borg prices too and just forgot to update that page?</div><br/></div></div></div></div></div></div></div></div><div id="36893642" class="c"><input type="checkbox" id="c-36893642" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36889720">parent</a><span>|</span><a href="#36890360">prev</a><span>|</span><a href="#36891064">next</a><span>|</span><label class="collapse" for="c-36893642">[-]</label><label class="expand" for="c-36893642">[4 more]</label></div><br/><div class="children"><div class="content">Yes. That&#x27;s the thing about Tarsnap, a service with a TikZ diagram on its front page, built around a Unix utility, that meters in picodollars. It&#x27;s meant to bilk money from uninformed mom-and-pop backup users.</div><br/><div id="36899223" class="c"><input type="checkbox" id="c-36899223" checked=""/><div class="controls bullet"><span class="by">nemothekid</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36893642">parent</a><span>|</span><a href="#36891064">next</a><span>|</span><label class="collapse" for="c-36899223">[-]</label><label class="expand" for="c-36899223">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;m having a hard time to believe that anyone remotely interested in Tarsnap&#x27;s value prop is also an &quot;uninformed mom-and-pop&quot;.<p>This &quot;uninformed mom-and-pop&quot; is potentially compiling the client application from source, but can&#x27;t do basic math to compare tarsnap&#x27;s pricing to the top 20 or so competitors that rank above tarsnap in SEO?</div><br/><div id="36899268" class="c"><input type="checkbox" id="c-36899268" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36899223">parent</a><span>|</span><a href="#36891064">next</a><span>|</span><label class="collapse" for="c-36899268">[-]</label><label class="expand" for="c-36899268">[2 more]</label></div><br/><div class="children"><div class="content">That was sarcasm. :)</div><br/><div id="36899335" class="c"><input type="checkbox" id="c-36899335" checked=""/><div class="controls bullet"><span class="by">nemothekid</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36899268">parent</a><span>|</span><a href="#36891064">next</a><span>|</span><label class="collapse" for="c-36899335">[-]</label><label class="expand" for="c-36899335">[1 more]</label></div><br/><div class="children"><div class="content">Should have looked at the username, massive egg on face.</div><br/></div></div></div></div></div></div></div></div><div id="36891064" class="c"><input type="checkbox" id="c-36891064" checked=""/><div class="controls bullet"><span class="by">thenickdude</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36889720">parent</a><span>|</span><a href="#36893642">prev</a><span>|</span><a href="#36890234">next</a><span>|</span><label class="collapse" for="c-36891064">[-]</label><label class="expand" for="c-36891064">[1 more]</label></div><br/><div class="children"><div class="content">S3: Upload bandwidth is free, download is what I&#x27;d consider to be astronomical at $0.09&#x2F;GB ($90&#x2F;TB).<p>Geez, that&#x27;s really not improving the comparison with Tarsnap.</div><br/></div></div><div id="36890234" class="c"><input type="checkbox" id="c-36890234" checked=""/><div class="controls bullet"><span class="by">gnfargbl</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36889720">parent</a><span>|</span><a href="#36891064">prev</a><span>|</span><a href="#36890636">next</a><span>|</span><label class="collapse" for="c-36890234">[-]</label><label class="expand" for="c-36890234">[2 more]</label></div><br/><div class="children"><div class="content">If you are primarily cost-driven, you missed one:<p>Backblaze: $0.005 &#x2F; GB storage, $0.01 &#x2F; GB download.</div><br/><div id="36892466" class="c"><input type="checkbox" id="c-36892466" checked=""/><div class="controls bullet"><span class="by">ilyt</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36890234">parent</a><span>|</span><a href="#36890636">next</a><span>|</span><label class="collapse" for="c-36892466">[-]</label><label class="expand" for="c-36892466">[1 more]</label></div><br/><div class="children"><div class="content">You can send your backups to backblaze and S3 and it still would be cheaper</div><br/></div></div></div></div><div id="36890636" class="c"><input type="checkbox" id="c-36890636" checked=""/><div class="controls bullet"><span class="by">RockRobotRock</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36889720">parent</a><span>|</span><a href="#36890234">prev</a><span>|</span><a href="#36889818">next</a><span>|</span><label class="collapse" for="c-36890636">[-]</label><label class="expand" for="c-36890636">[2 more]</label></div><br/><div class="children"><div class="content">&gt;Easy money from the uninformed?<p>I don&#x27;t think so. Anyone who can use this software I&#x27;m sure knows what other options exist.</div><br/><div id="36892519" class="c"><input type="checkbox" id="c-36892519" checked=""/><div class="controls bullet"><span class="by">mekster</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36890636">parent</a><span>|</span><a href="#36889818">next</a><span>|</span><label class="collapse" for="c-36892519">[-]</label><label class="expand" for="c-36892519">[1 more]</label></div><br/><div class="children"><div class="content">Then I&#x27;d like to know what they think of the benefit of spending $25&#x2F;mo for just 100GB.</div><br/></div></div></div></div><div id="36889818" class="c"><input type="checkbox" id="c-36889818" checked=""/><div class="controls bullet"><span class="by">pritambarhate</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36889720">parent</a><span>|</span><a href="#36890636">prev</a><span>|</span><a href="#36889872">next</a><span>|</span><label class="collapse" for="c-36889818">[-]</label><label class="expand" for="c-36889818">[4 more]</label></div><br/><div class="children"><div class="content">There is also cost development and ongoing support. You haven&#x27;t factored that in your 10 times the storage cost calculation.</div><br/><div id="36889849" class="c"><input type="checkbox" id="c-36889849" checked=""/><div class="controls bullet"><span class="by">vasco</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36889818">parent</a><span>|</span><a href="#36889846">next</a><span>|</span><label class="collapse" for="c-36889849">[-]</label><label class="expand" for="c-36889849">[1 more]</label></div><br/><div class="children"><div class="content">The 10x doesn&#x27;t seem like it&#x27;s enough to pay for more than a single EC2 server though.</div><br/></div></div><div id="36889846" class="c"><input type="checkbox" id="c-36889846" checked=""/><div class="controls bullet"><span class="by">mekster</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36889818">parent</a><span>|</span><a href="#36889849">prev</a><span>|</span><a href="#36889872">next</a><span>|</span><label class="collapse" for="c-36889846">[-]</label><label class="expand" for="c-36889846">[2 more]</label></div><br/><div class="children"><div class="content">Sounds like a very poor excuse when competitors are way cheaper.</div><br/><div id="36890143" class="c"><input type="checkbox" id="c-36890143" checked=""/><div class="controls bullet"><span class="by">Aeolun</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36889846">parent</a><span>|</span><a href="#36889872">next</a><span>|</span><label class="collapse" for="c-36890143">[-]</label><label class="expand" for="c-36890143">[1 more]</label></div><br/><div class="children"><div class="content">You don’t really need an excuse when people are paying regardless.</div><br/></div></div></div></div></div></div><div id="36889872" class="c"><input type="checkbox" id="c-36889872" checked=""/><div class="controls bullet"><span class="by">baz00</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36889720">parent</a><span>|</span><a href="#36889818">prev</a><span>|</span><a href="#36894140">next</a><span>|</span><label class="collapse" for="c-36889872">[-]</label><label class="expand" for="c-36889872">[1 more]</label></div><br/><div class="children"><div class="content">This is why I use s3 sync, versioning and lifecycles for mine on a Standard-IA bucket. My 120Gb costs $1.80 a month. No way would I pay tarsnap prices.<p>The 120Gb is the contents of my OneDrive and local repository trees. This is everything I&#x27;ve ever done that I want to keep and is approximately 115Gb of photos and not a lot else!</div><br/></div></div><div id="36894140" class="c"><input type="checkbox" id="c-36894140" checked=""/><div class="controls bullet"><span class="by">AnonHP</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36889720">parent</a><span>|</span><a href="#36889872">prev</a><span>|</span><a href="#36892449">next</a><span>|</span><label class="collapse" for="c-36894140">[-]</label><label class="expand" for="c-36894140">[2 more]</label></div><br/><div class="children"><div class="content">You can get a HN reader’s discount on rsync.net (email them to ask for it or search on HN), bringing the price down to $0.12 &#x2F; GB, and everything else remains the same.</div><br/><div id="36896387" class="c"><input type="checkbox" id="c-36896387" checked=""/><div class="controls bullet"><span class="by">rsync</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36894140">parent</a><span>|</span><a href="#36892449">next</a><span>|</span><label class="collapse" for="c-36896387">[-]</label><label class="expand" for="c-36896387">[1 more]</label></div><br/><div class="children"><div class="content">The HN reader’s discount is lower than that these days (we probably &quot;normalized&quot;[1] parents account to reflect that).<p>We also have .edu &#x2F; student &#x2F; nonprofit discounts.  Email us.<p>Finally, Debian and FreeBSD project members get <i>free</i> accounts.  See the committers handbook, etc., for details.<p>[1] Whenever we lower our prices, we increase quota on existing customers to &quot;normalize&quot; them to the new price&#x2F;GB.  If you do nothing, your rsync.net account just grows over time due to this.</div><br/></div></div></div></div><div id="36892449" class="c"><input type="checkbox" id="c-36892449" checked=""/><div class="controls bullet"><span class="by">ilyt</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36889720">parent</a><span>|</span><a href="#36894140">prev</a><span>|</span><a href="#36890708">next</a><span>|</span><label class="collapse" for="c-36892449">[-]</label><label class="expand" for="c-36892449">[1 more]</label></div><br/><div class="children"><div class="content">&gt; If tarsnap is built on top of s3, they&#x27;re charging 10 times for the storage cost. Easy money from the uninformed?<p>That&#x27;s pretty much any SaaS... look at the various log or metrics gathering solution, where you pay serious multipliers of what would cost to run same software on your own instance.</div><br/></div></div><div id="36890708" class="c"><input type="checkbox" id="c-36890708" checked=""/><div class="controls bullet"><span class="by">wink</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36889720">parent</a><span>|</span><a href="#36892449">prev</a><span>|</span><a href="#36889734">next</a><span>|</span><label class="collapse" for="c-36890708">[-]</label><label class="expand" for="c-36890708">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not here to defend it but I only use it as a secondary backup for my mail server (so basically append-only) and for a low amount of gigabytes it&#x27;s fine and just works. No, I wouldn&#x27;t want to write changing 100GB there.</div><br/></div></div><div id="36889734" class="c"><input type="checkbox" id="c-36889734" checked=""/><div class="controls bullet"><span class="by">RockRobotRock</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36889720">parent</a><span>|</span><a href="#36890708">prev</a><span>|</span><a href="#36889886">next</a><span>|</span><label class="collapse" for="c-36889734">[-]</label><label class="expand" for="c-36889734">[10 more]</label></div><br/><div class="children"><div class="content">in that case I&#x27;m curious about all the downvotes for asking a reasonable question</div><br/><div id="36889829" class="c"><input type="checkbox" id="c-36889829" checked=""/><div class="controls bullet"><span class="by">crossroadsguy</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36889734">parent</a><span>|</span><a href="#36889886">next</a><span>|</span><label class="collapse" for="c-36889829">[-]</label><label class="expand" for="c-36889829">[9 more]</label></div><br/><div class="children"><div class="content">Well while I use Tarsnap for a very small amount of data (due to pricing) and I quite like Tarsnap for my use-case scenario, your question might have been downvoted due to two reasons:<p>- your comment was a very valid question but rather quip-like, offhanded, seemed off etc etc. I mean something like that…<p>- Tarsnap is an hn darling<p>If I have to pick one I think it’s the latter :)</div><br/><div id="36890588" class="c"><input type="checkbox" id="c-36890588" checked=""/><div class="controls bullet"><span class="by">JacobAldridge</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36889829">parent</a><span>|</span><a href="#36890431">next</a><span>|</span><label class="collapse" for="c-36890588">[-]</label><label class="expand" for="c-36890588">[1 more]</label></div><br/><div class="children"><div class="content">For anyone not familiar with the (now 16 year old) comment that Colin is perhaps best remembered here for - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=35079">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=35079</a><p>He’s brought far more value to the community than that, of course.</div><br/></div></div><div id="36890431" class="c"><input type="checkbox" id="c-36890431" checked=""/><div class="controls bullet"><span class="by">JimDabell</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36889829">parent</a><span>|</span><a href="#36890588">prev</a><span>|</span><a href="#36889934">next</a><span>|</span><label class="collapse" for="c-36890431">[-]</label><label class="expand" for="c-36890431">[3 more]</label></div><br/><div class="children"><div class="content">There’s also the fact that he has quite publicly been repeatedly nagged to raise his prices by another “HN darling” and he has been resistant to it. It’s actually quite an interesting read that covers a lot of the things brought up in this discussion:<p><a href="https:&#x2F;&#x2F;www.kalzumeus.com&#x2F;2014&#x2F;04&#x2F;03&#x2F;fantasy-tarsnap&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.kalzumeus.com&#x2F;2014&#x2F;04&#x2F;03&#x2F;fantasy-tarsnap&#x2F;</a></div><br/><div id="36892523" class="c"><input type="checkbox" id="c-36892523" checked=""/><div class="controls bullet"><span class="by">ilyt</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36890431">parent</a><span>|</span><a href="#36892038">next</a><span>|</span><label class="collapse" for="c-36892523">[-]</label><label class="expand" for="c-36892523">[1 more]</label></div><br/><div class="children"><div class="content"><i>To be fair</i>, any backup service should probably best have model of &quot;pay per length of backup stored&quot;.<p>If I want to store my 100GB of data <i>now</i>, and I want to have it stored for a year, I want to pay for that year&#x27;s worth of storage of 100GB of data <i>now</i> and not worry about any money or account problems for that bit of data.</div><br/></div></div><div id="36892038" class="c"><input type="checkbox" id="c-36892038" checked=""/><div class="controls bullet"><span class="by">nottorp</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36890431">parent</a><span>|</span><a href="#36892523">prev</a><span>|</span><a href="#36889934">next</a><span>|</span><label class="collapse" for="c-36892038">[-]</label><label class="expand" for="c-36892038">[1 more]</label></div><br/><div class="children"><div class="content">But basically what he suggests is turning Tarsnap into yet another SaaS offering I wouldn&#x27;t give a second glance to. The screenhot of his proposal for the new entry page says... nothing.<p>Which is probably okay if you want to pivot from a geek-ish service to one that geeks don&#x27;t use, of course. Does the owner want that?</div><br/></div></div></div></div><div id="36889934" class="c"><input type="checkbox" id="c-36889934" checked=""/><div class="controls bullet"><span class="by">mekster</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36889829">parent</a><span>|</span><a href="#36890431">prev</a><span>|</span><a href="#36889873">next</a><span>|</span><label class="collapse" for="c-36889934">[-]</label><label class="expand" for="c-36889934">[3 more]</label></div><br/><div class="children"><div class="content">If it&#x27;s the latter, then reader quality is quite screwed up in here trying to make people endorse crazy pricing because he&#x27;s some known guy around here.</div><br/><div id="36890024" class="c"><input type="checkbox" id="c-36890024" checked=""/><div class="controls bullet"><span class="by">crossroadsguy</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36889934">parent</a><span>|</span><a href="#36889873">next</a><span>|</span><label class="collapse" for="c-36890024">[-]</label><label class="expand" for="c-36890024">[2 more]</label></div><br/><div class="children"><div class="content">&gt; because he&#x27;s some known guy around here<p>Oh dear. It’s an HN thing. I have had brushes with it only once or twice across various accounts across years but it’s very much an HN thing.<p>Whenever you see an utterly useless quip (or sometimes even name calling or offensive words) being heavily upvoted you should know that some alpha HNer has arrived on the scene :)<p>But to be honest I have never seen author Tarsnap engage in such privileged gentlemanly d-baggery. He is quite cool, as they say it.<p>Anyway I just ignore it and move on. But again OP could have worded the question better. I mean no matter how good or bad you want to feel about it — it’s just a vc run anon forum and just another forum.</div><br/><div id="36890048" class="c"><input type="checkbox" id="c-36890048" checked=""/><div class="controls bullet"><span class="by">RockRobotRock</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36890024">parent</a><span>|</span><a href="#36889873">next</a><span>|</span><label class="collapse" for="c-36890048">[-]</label><label class="expand" for="c-36890048">[1 more]</label></div><br/><div class="children"><div class="content">I definitely could have worded it better, but it&#x27;s a little crazy how different the discourse is seen when the subject of a discussion is something well-liked by HN vs hated.</div><br/></div></div></div></div></div></div><div id="36889873" class="c"><input type="checkbox" id="c-36889873" checked=""/><div class="controls bullet"><span class="by">RockRobotRock</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36889829">parent</a><span>|</span><a href="#36889934">prev</a><span>|</span><a href="#36889886">next</a><span>|</span><label class="collapse" for="c-36889873">[-]</label><label class="expand" for="c-36889873">[1 more]</label></div><br/><div class="children"><div class="content">I didn&#x27;t mean for it to sound like the first one but I understand ;)</div><br/></div></div></div></div></div></div></div></div><div id="36890051" class="c"><input type="checkbox" id="c-36890051" checked=""/><div class="controls bullet"><span class="by">silisili</span><span>|</span><a href="#36889510">parent</a><span>|</span><a href="#36889720">prev</a><span>|</span><a href="#36890175">next</a><span>|</span><label class="collapse" for="c-36890051">[-]</label><label class="expand" for="c-36890051">[1 more]</label></div><br/><div class="children"><div class="content">Don&#x27;t want to speak for Colin, but every time this is brought up, it&#x27;s explained that Tarsnap uses very little data due to its design.  Probably much less than rsyncing your data every hour to a cheaper provider.</div><br/></div></div><div id="36890175" class="c"><input type="checkbox" id="c-36890175" checked=""/><div class="controls bullet"><span class="by">jpalomaki</span><span>|</span><a href="#36889510">parent</a><span>|</span><a href="#36890051">prev</a><span>|</span><a href="#36894076">next</a><span>|</span><label class="collapse" for="c-36890175">[-]</label><label class="expand" for="c-36890175">[1 more]</label></div><br/><div class="children"><div class="content">Since pricing is purely based on storage used, it&#x27;s very cost efficient for certain use cases.<p>I&#x27;ve been using Tarsnap for 10+ years. There&#x27;s some Linux stuff getting backed up, configs and such. It costs next to nothing for this kind of usage.</div><br/></div></div><div id="36894076" class="c"><input type="checkbox" id="c-36894076" checked=""/><div class="controls bullet"><span class="by">AnonHP</span><span>|</span><a href="#36889510">parent</a><span>|</span><a href="#36890175">prev</a><span>|</span><a href="#36889556">next</a><span>|</span><label class="collapse" for="c-36894076">[-]</label><label class="expand" for="c-36894076">[1 more]</label></div><br/><div class="children"><div class="content">It’s meant for people who have a lot of duplicate data and store small files. Anyone who has data that cannot be deduplicated much would be paying tons of money.<p>While on the price, patio11 (Patrick) has written an article about tarsnap’s issues more than nine years ago (April 2014). One of the suggestions was to raise prices, IIRC. It’s a long post, but you can read it [1] and the HN post [2] from that time.<p>[1]: <a href="https:&#x2F;&#x2F;www.kalzumeus.com&#x2F;2014&#x2F;04&#x2F;03&#x2F;fantasy-tarsnap&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.kalzumeus.com&#x2F;2014&#x2F;04&#x2F;03&#x2F;fantasy-tarsnap&#x2F;</a><p>[2]: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=7523953">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=7523953</a></div><br/></div></div><div id="36889556" class="c"><input type="checkbox" id="c-36889556" checked=""/><div class="controls bullet"><span class="by">GhostWhisperer</span><span>|</span><a href="#36889510">parent</a><span>|</span><a href="#36894076">prev</a><span>|</span><a href="#36890532">next</a><span>|</span><label class="collapse" for="c-36889556">[-]</label><label class="expand" for="c-36889556">[21 more]</label></div><br/><div class="children"><div class="content">yes, people have been saying they should &quot;charge more&quot; for over a decade</div><br/><div id="36889578" class="c"><input type="checkbox" id="c-36889578" checked=""/><div class="controls bullet"><span class="by">RockRobotRock</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36889556">parent</a><span>|</span><a href="#36890532">next</a><span>|</span><label class="collapse" for="c-36889578">[-]</label><label class="expand" for="c-36889578">[20 more]</label></div><br/><div class="children"><div class="content">Can you not be snide and please help me understand? It seems 50 times more expensive than B2. I&#x27;m genuinely curious about the product.</div><br/><div id="36890445" class="c"><input type="checkbox" id="c-36890445" checked=""/><div class="controls bullet"><span class="by">JimDabell</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36889578">parent</a><span>|</span><a href="#36890693">next</a><span>|</span><label class="collapse" for="c-36890445">[-]</label><label class="expand" for="c-36890445">[1 more]</label></div><br/><div class="children"><div class="content">“What I Would Do If I Ran Tarsnap” goes into a lot of detail:<p><a href="https:&#x2F;&#x2F;www.kalzumeus.com&#x2F;2014&#x2F;04&#x2F;03&#x2F;fantasy-tarsnap&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.kalzumeus.com&#x2F;2014&#x2F;04&#x2F;03&#x2F;fantasy-tarsnap&#x2F;</a></div><br/></div></div><div id="36890693" class="c"><input type="checkbox" id="c-36890693" checked=""/><div class="controls bullet"><span class="by">mst</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36889578">parent</a><span>|</span><a href="#36890445">prev</a><span>|</span><a href="#36889625">next</a><span>|</span><label class="collapse" for="c-36890693">[-]</label><label class="expand" for="c-36890693">[5 more]</label></div><br/><div class="children"><div class="content">Roughly: The number of hours of my time that would be required to get something with even theoretically equivalent features would be sufficient to make the cost - and opportunity cost - involved seem far more reasonable.<p>Plus &quot;written by cperciva and heavily battle tested by Serious Sysadmins&quot; is a feature I couldn&#x27;t recreate myself - notice that while there was an outage, part of the reason for it taking a while was a conscious choice to take a much longer path to resolution than bringing up the previous server in the name of paranoia. Paranoia about data corruption is a nice thing to have in a backup system and something I&#x27;m happily willing to trade-off uptime for.<p>However: For backups of bulk data then, yes, it&#x27;s going to be relatively expensive. I wouldn&#x27;t put e.g. my media backups on tarsnap, but &quot;use tarsnap for your git repositories and other high value data, and something else for the rest&quot; is both perfectly doable and an approach I suspect cperciva himself would endorse.</div><br/><div id="36892604" class="c"><input type="checkbox" id="c-36892604" checked=""/><div class="controls bullet"><span class="by">ilyt</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36890693">parent</a><span>|</span><a href="#36891092">next</a><span>|</span><label class="collapse" for="c-36892604">[-]</label><label class="expand" for="c-36892604">[2 more]</label></div><br/><div class="children"><div class="content">&gt; notice that while there was an outage, part of the reason for it taking a while was a conscious choice to take a much longer path to resolution than bringing up the previous server in the name of paranoia. Paranoia about data corruption is a nice thing to have in a backup system and something I&#x27;m happily willing to trade-off uptime for.<p>As Actual Serious Sysadmin that Actually Manages Big Systems for Living that screams more lack of preparation than anything else.<p>Yes you should be careful but you should also have procedures in place and know the system well enough to trust it. And the fact is that the &quot;boring&quot; architecture of RDS DB instead of that S3 database abomination thing would just start right up if master DB server failed.<p>It <i>honestly</i> looks like a trap many intelligent people fall into where they turn their cool-but-ulimately-flawed mental excercise into bedrock of the product. I don&#x27;t want to use baby&#x27;s-first-database on my production servers (I&#x27;m looking at you Lennart Poettering and journald) and I don&#x27;t want my data&#x2F;metadata stored on some experimental one.</div><br/><div id="36895627" class="c"><input type="checkbox" id="c-36895627" checked=""/><div class="controls bullet"><span class="by">mst</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36892604">parent</a><span>|</span><a href="#36891092">next</a><span>|</span><label class="collapse" for="c-36895627">[-]</label><label class="expand" for="c-36895627">[1 more]</label></div><br/><div class="children"><div class="content">Your comments seem to me to be about how long it took to bring up a new system.<p>Without agreeing or disagreeing with those, &quot;I&#x27;m not going to trust the filesystem on the existing machine&quot; was the choice I was talking about.</div><br/></div></div></div></div><div id="36891092" class="c"><input type="checkbox" id="c-36891092" checked=""/><div class="controls bullet"><span class="by">zetalyrae</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36890693">parent</a><span>|</span><a href="#36892604">prev</a><span>|</span><a href="#36889625">next</a><span>|</span><label class="collapse" for="c-36891092">[-]</label><label class="expand" for="c-36891092">[2 more]</label></div><br/><div class="children"><div class="content">You don&#x27;t need to build it yourself. You can use restic or rclone with S3&#x2F;B2 and both support encryption.</div><br/><div id="36895656" class="c"><input type="checkbox" id="c-36895656" checked=""/><div class="controls bullet"><span class="by">mst</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36891092">parent</a><span>|</span><a href="#36889625">next</a><span>|</span><label class="collapse" for="c-36895656">[-]</label><label class="expand" for="c-36895656">[1 more]</label></div><br/><div class="children"><div class="content">I am aware there are existing tools that handle encryption.<p>The tarsnap architecture still does more things.<p>You&#x27;re welcome to feel that you don&#x27;t need those things, but that wasn&#x27;t my point.</div><br/></div></div></div></div></div></div><div id="36889625" class="c"><input type="checkbox" id="c-36889625" checked=""/><div class="controls bullet"><span class="by">stigz</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36889578">parent</a><span>|</span><a href="#36890693">prev</a><span>|</span><a href="#36890430">next</a><span>|</span><label class="collapse" for="c-36889625">[-]</label><label class="expand" for="c-36889625">[12 more]</label></div><br/><div class="children"><div class="content">The service is a layer on top of S3 if that helps answer things.<p><a href="https:&#x2F;&#x2F;www.tarsnap.com&#x2F;faq.html#is-tarsnap-reliable" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.tarsnap.com&#x2F;faq.html#is-tarsnap-reliable</a></div><br/><div id="36889657" class="c"><input type="checkbox" id="c-36889657" checked=""/><div class="controls bullet"><span class="by">yjftsjthsd-h</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36889625">parent</a><span>|</span><a href="#36890430">next</a><span>|</span><label class="collapse" for="c-36889657">[-]</label><label class="expand" for="c-36889657">[11 more]</label></div><br/><div class="children"><div class="content">Then the obvious question is &quot;why would I use this instead of something else over S3&quot; (ex. rclone), to which I think the answer is ease of use (don&#x27;t need to deal with AWS yourself, encryption&#x2F;deduplication&#x2F;compression handled for you, nice interface), which isn&#x27;t everything to everyone but is certainly useful.</div><br/><div id="36889724" class="c"><input type="checkbox" id="c-36889724" checked=""/><div class="controls bullet"><span class="by">alanfranz</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36889657">parent</a><span>|</span><a href="#36889748">next</a><span>|</span><label class="collapse" for="c-36889724">[-]</label><label class="expand" for="c-36889724">[7 more]</label></div><br/><div class="children"><div class="content">You need a remote service that keeps backup readonly. You’re not covering attack scenarios if you just use raw object storage from your client machine.<p>I have written about this some time ago if you’re interested: <a href="https:&#x2F;&#x2F;www.franzoni.eu&#x2F;ransomware-resistant-backups&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.franzoni.eu&#x2F;ransomware-resistant-backups&#x2F;</a></div><br/><div id="36890069" class="c"><input type="checkbox" id="c-36890069" checked=""/><div class="controls bullet"><span class="by">yjftsjthsd-h</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36889724">parent</a><span>|</span><a href="#36892612">next</a><span>|</span><label class="collapse" for="c-36890069">[-]</label><label class="expand" for="c-36890069">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;d classify that under &quot;ease of use&quot; - you <i>can</i> do it with S3 yourself (your post is a pretty good explanation of the how, from a quick skim), or you can just use tarsnap and not worry about it.</div><br/><div id="36890621" class="c"><input type="checkbox" id="c-36890621" checked=""/><div class="controls bullet"><span class="by">alanfranz</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36890069">parent</a><span>|</span><a href="#36892612">next</a><span>|</span><label class="collapse" for="c-36890621">[-]</label><label class="expand" for="c-36890621">[1 more]</label></div><br/><div class="children"><div class="content">You can see from my post that doing that _properly_ is quite convoluted and requires a good deal of technical skills.<p>So it&#x27;s not just ease of use. It&#x27;s actual _functionality_ to me - getting from raw object storage to a fully working, attack-resistant backup strategy, is not trivial; hence, comparing tarsnap (or rsync.net, or borgbase, or whatever) to B2 or S3 makes little to no sense.<p>You _could_ compare it to crashplan or backblaze personal backup if you like, but IIRC those don&#x27;t work for *nix systems, only for Win and Mac.</div><br/></div></div></div></div><div id="36892612" class="c"><input type="checkbox" id="c-36892612" checked=""/><div class="controls bullet"><span class="by">ilyt</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36889724">parent</a><span>|</span><a href="#36890069">prev</a><span>|</span><a href="#36889748">next</a><span>|</span><label class="collapse" for="c-36892612">[-]</label><label class="expand" for="c-36892612">[4 more]</label></div><br/><div class="children"><div class="content">How tarsnap keeps backups readonly ? Just having service being a barrier is not enough</div><br/><div id="36895555" class="c"><input type="checkbox" id="c-36895555" checked=""/><div class="controls bullet"><span class="by">catiopatio</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36892612">parent</a><span>|</span><a href="#36893062">prev</a><span>|</span><a href="#36889748">next</a><span>|</span><label class="collapse" for="c-36895555">[-]</label><label class="expand" for="c-36895555">[1 more]</label></div><br/><div class="children"><div class="content">It supports distinct authentication keys with read, write, and&#x2F;or delete permissions for the same data protected by a given encryption key.<p>Those restrictions are enforced by the service.</div><br/></div></div></div></div></div></div><div id="36889748" class="c"><input type="checkbox" id="c-36889748" checked=""/><div class="controls bullet"><span class="by">mekster</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36889657">parent</a><span>|</span><a href="#36889724">prev</a><span>|</span><a href="#36889683">next</a><span>|</span><label class="collapse" for="c-36889748">[-]</label><label class="expand" for="c-36889748">[2 more]</label></div><br/><div class="children"><div class="content">Learning to use some backup tool that does same things sounds way better than paying 10 times more for the storage cost that lasts.<p>There&#x27;s also a service like rsync.net where you can just rsync to the destination and they do the versioning and so on for less than 10th of the cost of tarsnap.</div><br/><div id="36890257" class="c"><input type="checkbox" id="c-36890257" checked=""/><div class="controls bullet"><span class="by">yjftsjthsd-h</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36889748">parent</a><span>|</span><a href="#36889683">next</a><span>|</span><label class="collapse" for="c-36890257">[-]</label><label class="expand" for="c-36890257">[1 more]</label></div><br/><div class="children"><div class="content">Eh, cost&#x2F;benefit; some people are backing up 100MB of documents and don&#x27;t care, some people are backing up terabytes of media and have the time.</div><br/></div></div></div></div><div id="36889683" class="c"><input type="checkbox" id="c-36889683" checked=""/><div class="controls bullet"><span class="by">RockRobotRock</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36889657">parent</a><span>|</span><a href="#36889748">prev</a><span>|</span><a href="#36890430">next</a><span>|</span><label class="collapse" for="c-36889683">[-]</label><label class="expand" for="c-36889683">[1 more]</label></div><br/><div class="children"><div class="content">Thank you.</div><br/></div></div></div></div></div></div><div id="36890430" class="c"><input type="checkbox" id="c-36890430" checked=""/><div class="controls bullet"><span class="by">GhostWhisperer</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36889578">parent</a><span>|</span><a href="#36889625">prev</a><span>|</span><a href="#36890532">next</a><span>|</span><label class="collapse" for="c-36890430">[-]</label><label class="expand" for="c-36890430">[1 more]</label></div><br/><div class="children"><div class="content">i&#x27;m being snide if the prices are considered high; i don&#x27;t have to agree with that</div><br/></div></div></div></div></div></div><div id="36890532" class="c"><input type="checkbox" id="c-36890532" checked=""/><div class="controls bullet"><span class="by">patrec</span><span>|</span><a href="#36889510">parent</a><span>|</span><a href="#36889556">prev</a><span>|</span><a href="#36891020">next</a><span>|</span><label class="collapse" for="c-36890532">[-]</label><label class="expand" for="c-36890532">[4 more]</label></div><br/><div class="children"><div class="content">Everything about tarsnap is absurd. It&#x27;s basically the world&#x27;s most absurd backup service (insanely expensive, poor UX, bus factor of ~1, restoring moderate amounts of data appears to take days (!)[1]), brought about by an absurdly bad allocation of human capital (it&#x27;s run by a double Putnam challenge winner, with several other impressive accomplishments), and as such, absurdly beloved by HN.<p>[1] In case of an emergency, you will always be able to get back your data from tarsnap at a blazing rate of 50kB&#x2F;s <a href="https:&#x2F;&#x2F;github.com&#x2F;Tarsnap&#x2F;tarsnap&#x2F;issues&#x2F;333">https:&#x2F;&#x2F;github.com&#x2F;Tarsnap&#x2F;tarsnap&#x2F;issues&#x2F;333</a>.</div><br/><div id="36892675" class="c"><input type="checkbox" id="c-36892675" checked=""/><div class="controls bullet"><span class="by">tinco</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36890532">parent</a><span>|</span><a href="#36893363">next</a><span>|</span><label class="collapse" for="c-36892675">[-]</label><label class="expand" for="c-36892675">[2 more]</label></div><br/><div class="children"><div class="content">If tarsnap has even a modicum of popularity, thanks to these prices it would be bringing in bank. If he&#x27;s making bank, that means he&#x27;s providing value (even if it&#x27;s just to &quot;uninformed&quot;). And it seems this system mostly runs itself, so it&#x27;s a side gig. It&#x27;s probably a far more effective allocation than many other possible allocations of human capital.<p>How many of the world&#x27;s best and brightest are doing all sorts of busywork? At least Colin has some time to do whatever he wants to do while running tarsnap.</div><br/><div id="36893049" class="c"><input type="checkbox" id="c-36893049" checked=""/><div class="controls bullet"><span class="by">electroly</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36892675">parent</a><span>|</span><a href="#36893363">next</a><span>|</span><label class="collapse" for="c-36893049">[-]</label><label class="expand" for="c-36893049">[1 more]</label></div><br/><div class="children"><div class="content">&gt; If tarsnap has even a modicum of popularity<p>It won&#x27;t, though, because of the points mentioned by the post you&#x27;re replying to. It&#x27;s been 15 years; tarsnap is as popular as it&#x27;s going to get.</div><br/></div></div></div></div><div id="36893363" class="c"><input type="checkbox" id="c-36893363" checked=""/><div class="controls bullet"><span class="by">recov</span><span>|</span><a href="#36889510">root</a><span>|</span><a href="#36890532">parent</a><span>|</span><a href="#36892675">prev</a><span>|</span><a href="#36891020">next</a><span>|</span><label class="collapse" for="c-36893363">[-]</label><label class="expand" for="c-36893363">[1 more]</label></div><br/><div class="children"><div class="content"><a href="http:&#x2F;&#x2F;www.daemonology.net&#x2F;blog&#x2F;2020-09-20-On-the-use-of-a-life.html" rel="nofollow noreferrer">http:&#x2F;&#x2F;www.daemonology.net&#x2F;blog&#x2F;2020-09-20-On-the-use-of-a-l...</a></div><br/></div></div></div></div></div></div><div id="36891020" class="c"><input type="checkbox" id="c-36891020" checked=""/><div class="controls bullet"><span class="by">zetalyrae</span><span>|</span><a href="#36889510">prev</a><span>|</span><a href="#36889238">next</a><span>|</span><label class="collapse" for="c-36891020">[-]</label><label class="expand" for="c-36891020">[49 more]</label></div><br/><div class="children"><div class="content">&gt;The process of recovering the EC2 instance state consists of two steps: First,
reading all of the metadata headers from S3; and second, &quot;replaying&quot; all of
those operations locally.  (These cannot be performed at the same time, since
the use of log-structured storage means that log entries are &quot;rewritten&quot; to
free up storage when data is deleted; log entries contain sequence numbers
to allow them to be replayed in the correct order, but they must be sorted
into the correct order after being retrieved before they can be replayed.)<p>Far be it from me to tell anyone how to write software, but why build a database on top of S3 when you can just chuck the metadata into RDS with however much replication you want?<p>The backups themselves should be in S3, but using S3 as a NoSQL append-only database seems unwise.<p>This would benefit from being further from the metal.</div><br/><div id="36892377" class="c"><input type="checkbox" id="c-36892377" checked=""/><div class="controls bullet"><span class="by">throwawaaarrgh</span><span>|</span><a href="#36891020">parent</a><span>|</span><a href="#36891579">next</a><span>|</span><label class="collapse" for="c-36892377">[-]</label><label class="expand" for="c-36892377">[19 more]</label></div><br/><div class="children"><div class="content">Forget about software or data architecture. S3 is the most reliable data storage mechanism in the world, and insanely simpler than a relational database. There is no operational failure mode to S3, other than &quot;region went down&quot;. There is no instance to go down, no replication to fail, no worry about whether there&#x27;s enough capacity for writes or too many connections, no thought to a schema, no migrations to manage, no storage to grow, no logs to rotate, no software to upgrade on a maintenance window. Plus S3 is versioned, has multiple kinds of access control built in, is a protocol supported by many vendors and open source projects, and is (on AWS) strongly read-after-write consistent. I would also argue (though I don&#x27;t have figures) that it&#x27;s faster than RDS. Almost guaranteed it&#x27;s cheaper. And it&#x27;s integrated into many services in AWS making it easier to build more functionality into the system without programming.<p>On a less technical note: Always avoid the fancy option when it makes sense. (From a veteran of building and maintaining large scale high performance high availability systems)</div><br/><div id="36892430" class="c"><input type="checkbox" id="c-36892430" checked=""/><div class="controls bullet"><span class="by">ilyt</span><span>|</span><a href="#36891020">root</a><span>|</span><a href="#36892377">parent</a><span>|</span><a href="#36892492">next</a><span>|</span><label class="collapse" for="c-36892430">[-]</label><label class="expand" for="c-36892430">[9 more]</label></div><br/><div class="children"><div class="content">The &quot;fancy&quot; option here is trying to act S3 to act like database instead of simple blob storage...</div><br/><div id="36892494" class="c"><input type="checkbox" id="c-36892494" checked=""/><div class="controls bullet"><span class="by">throwawaaarrgh</span><span>|</span><a href="#36891020">root</a><span>|</span><a href="#36892430">parent</a><span>|</span><a href="#36893813">next</a><span>|</span><label class="collapse" for="c-36892494">[-]</label><label class="expand" for="c-36892494">[6 more]</label></div><br/><div class="children"><div class="content">Fancy would be writing an application to talk to RDS, creating an RDS instance, creating a database, creating whatever IAM link is needed for auth into the db so you don&#x27;t need a second set of credentials, creating a schema, creating columns with different data types, and then modifying the application to handle edge cases for the different data types, logic to insert, update, delete rows, select items, yadda yadda yadda.<p>Dumb is `aws s3 cp` and being done in 5 minutes.</div><br/><div id="36892734" class="c"><input type="checkbox" id="c-36892734" checked=""/><div class="controls bullet"><span class="by">ilyt</span><span>|</span><a href="#36891020">root</a><span>|</span><a href="#36892494">parent</a><span>|</span><a href="#36892544">next</a><span>|</span><label class="collapse" for="c-36892734">[-]</label><label class="expand" for="c-36892734">[1 more]</label></div><br/><div class="children"><div class="content">I envy job where you think <i>a database</i> is something fancy and hard to do...</div><br/></div></div></div></div><div id="36893813" class="c"><input type="checkbox" id="c-36893813" checked=""/><div class="controls bullet"><span class="by">otabdeveloper4</span><span>|</span><a href="#36891020">root</a><span>|</span><a href="#36892430">parent</a><span>|</span><a href="#36892494">prev</a><span>|</span><a href="#36892492">next</a><span>|</span><label class="collapse" for="c-36893813">[-]</label><label class="expand" for="c-36893813">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;m only wildly guessing here, but most likely the &quot;cloud storage&quot; backing all those managed databases is actually S3-like blob storage under the hood.</div><br/><div id="36893893" class="c"><input type="checkbox" id="c-36893893" checked=""/><div class="controls bullet"><span class="by">zetalyrae</span><span>|</span><a href="#36891020">root</a><span>|</span><a href="#36893813">parent</a><span>|</span><a href="#36892492">next</a><span>|</span><label class="collapse" for="c-36893893">[-]</label><label class="expand" for="c-36893893">[1 more]</label></div><br/><div class="children"><div class="content">The database engine implements ACID and crash recovery so you don&#x27;t have to. This is <i>precisely</i> what failed in this outage.</div><br/></div></div></div></div></div></div><div id="36892492" class="c"><input type="checkbox" id="c-36892492" checked=""/><div class="controls bullet"><span class="by">zetalyrae</span><span>|</span><a href="#36891020">root</a><span>|</span><a href="#36892377">parent</a><span>|</span><a href="#36892430">prev</a><span>|</span><a href="#36891579">next</a><span>|</span><label class="collapse" for="c-36892492">[-]</label><label class="expand" for="c-36892492">[9 more]</label></div><br/><div class="children"><div class="content">&gt;S3 is the most reliable data storage mechanism in the world<p>S3 is not the problem here. The problem is <i>building a database on top of S3</i>, and having to reimplement all the consistency, atomicity, transactions etc. on top.<p>&gt;no thought to a schema, no migrations to manage<p>There is, in fact, always a schema. Some people choose to ignore it&#x27;s there, to their detriment.<p>&gt;Always avoid the fancy option when it makes sense.<p>It&#x27;s not the 1980s. Postgres is not fancy, and Greenspunning it is a mistake.<p>&gt;Almost guaranteed it&#x27;s cheaper.<p>Cheaper than a 26-hour outage?</div><br/><div id="36892569" class="c"><input type="checkbox" id="c-36892569" checked=""/><div class="controls bullet"><span class="by">bastawhiz</span><span>|</span><a href="#36891020">root</a><span>|</span><a href="#36892492">parent</a><span>|</span><a href="#36892549">next</a><span>|</span><label class="collapse" for="c-36892569">[-]</label><label class="expand" for="c-36892569">[4 more]</label></div><br/><div class="children"><div class="content">&gt; having to reimplement all the consistency, atomicity, transactions etc. on top.<p>Most of those problems are moot if you&#x27;re only ever writing from a single head node. If all your data is strictly ordered and you have no meaningful concurrency, this is a far, far simpler system.</div><br/><div id="36892618" class="c"><input type="checkbox" id="c-36892618" checked=""/><div class="controls bullet"><span class="by">zetalyrae</span><span>|</span><a href="#36891020">root</a><span>|</span><a href="#36892569">parent</a><span>|</span><a href="#36892549">next</a><span>|</span><label class="collapse" for="c-36892618">[-]</label><label class="expand" for="c-36892618">[3 more]</label></div><br/><div class="children"><div class="content">Did I fall into a timewarp into the 70&#x27;s? How on Earth, by what sane standard, is a Postgres instance too complex? If you&#x27;re `fopen`ing files as a &quot;database&quot; you are wasting your time and lowering the world&#x27;s economic productivity.<p>Complex is Greenspunning a database and having it blow up in your face and cause a twenty-six hour outage. You never hear about such things with Postgres because Postgres is rock-solid.</div><br/><div id="36895091" class="c"><input type="checkbox" id="c-36895091" checked=""/><div class="controls bullet"><span class="by">bastawhiz</span><span>|</span><a href="#36891020">root</a><span>|</span><a href="#36892618">parent</a><span>|</span><a href="#36899445">next</a><span>|</span><label class="collapse" for="c-36895091">[-]</label><label class="expand" for="c-36895091">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not defending the choice to use S3. I probably wouldn&#x27;t have made the same choice. But I am pointing out that it&#x27;s empirically wrong to say that storing data in flat files necessitates the considerations of an ACID-capable RDBMS.<p>But to your point, if your system requires less than a thousand lines of code to open a file, do basic parsing and processing (which no data storage system is going to do anyway), and write the output to another file, I personally can&#x27;t say that Postgres or MySQL or any other solution is really worth the effort&#x2F;cost to build and maintain. In the system being discussed, the benefits of an RDBMS simply don&#x27;t matter: any strongly consistent key-value store would work.<p>&gt; Complex is Greenspunning a database and having it blow up in your face and cause a twenty-six hour outage.<p>S3 didn&#x27;t cause the outage, and from the look of it, neither did the code that processes the files. It was an application logic problem which caused issues during the restore process, and this would have been an issue regardless.<p>You could make an argument that the recovery being slower than it could have been was a problem, but it&#x27;s wild to say that and imply that traditional databases have no performance cliffs. Especially when dealing with corruption or data recovery. Raw file storage will never have a Postgres transaction id wraparound incident (see: Sentry outage for most of a day in 2015, MailChimp&#x2F;Mandrill for over a day in 2019) or have to rebuild a critical index.<p>In this case there was a hard coded concurrency limit with S3 of 250 outstanding requests. Bumping that up to 3000 would have been easy and reasonable (S3 rate limits at 5000). How confident would you be that your database can performantly handle a backfill during recovery? Have you provisioned enough iops? Are you running an RDS instance with only a burstable vCPU limit? To say Postgres is &quot;rock-solid&quot; (and make no mistake, I am a Postgres fanboy) dismisses the many and varying ways that it can fail in unusual and surprising ways.</div><br/></div></div><div id="36899445" class="c"><input type="checkbox" id="c-36899445" checked=""/><div class="controls bullet"><span class="by">khiqxj</span><span>|</span><a href="#36891020">root</a><span>|</span><a href="#36892618">parent</a><span>|</span><a href="#36895091">prev</a><span>|</span><a href="#36892549">next</a><span>|</span><label class="collapse" for="c-36899445">[-]</label><label class="expand" for="c-36899445">[1 more]</label></div><br/><div class="children"><div class="content">ok boomer</div><br/></div></div></div></div></div></div><div id="36892549" class="c"><input type="checkbox" id="c-36892549" checked=""/><div class="controls bullet"><span class="by">throwawaaarrgh</span><span>|</span><a href="#36891020">root</a><span>|</span><a href="#36892492">parent</a><span>|</span><a href="#36892569">prev</a><span>|</span><a href="#36899269">next</a><span>|</span><label class="collapse" for="c-36892549">[-]</label><label class="expand" for="c-36892549">[3 more]</label></div><br/><div class="children"><div class="content">&gt; having to reimplement all the consistency, atomicity, transactions etc. on top.<p>Did you miss where I said it&#x27;s read-after-write strongly consistent?</div><br/><div id="36892562" class="c"><input type="checkbox" id="c-36892562" checked=""/><div class="controls bullet"><span class="by">zetalyrae</span><span>|</span><a href="#36891020">root</a><span>|</span><a href="#36892549">parent</a><span>|</span><a href="#36899269">next</a><span>|</span><label class="collapse" for="c-36892562">[-]</label><label class="expand" for="c-36892562">[2 more]</label></div><br/><div class="children"><div class="content">Having those things at the base layer is not the same as having them in higher-level behaviour. This is why God invented SQL transactions.</div><br/><div id="36893778" class="c"><input type="checkbox" id="c-36893778" checked=""/><div class="controls bullet"><span class="by">mattigames</span><span>|</span><a href="#36891020">root</a><span>|</span><a href="#36892562">parent</a><span>|</span><a href="#36899269">next</a><span>|</span><label class="collapse" for="c-36893778">[-]</label><label class="expand" for="c-36893778">[1 more]</label></div><br/><div class="children"><div class="content">I never knew Donald Chamberlin and Raymond Boyce were God, it doesn&#x27;t sound right but I don&#x27;t know enough about theology to refute it.</div><br/></div></div></div></div></div></div><div id="36899269" class="c"><input type="checkbox" id="c-36899269" checked=""/><div class="controls bullet"><span class="by">nemothekid</span><span>|</span><a href="#36891020">root</a><span>|</span><a href="#36892492">parent</a><span>|</span><a href="#36892549">prev</a><span>|</span><a href="#36891579">next</a><span>|</span><label class="collapse" for="c-36899269">[-]</label><label class="expand" for="c-36899269">[1 more]</label></div><br/><div class="children"><div class="content">&gt;<i>Cheaper than a 26-hour outage?</i><p>AFAICT, using HN theres been roughly 30 hours of non-availability over <i>15 years</i>. RDS didn&#x27;t even support Postgres when Tarsnap was released.<p>EDIT: Tarsnap predates RDS.</div><br/></div></div></div></div></div></div><div id="36891579" class="c"><input type="checkbox" id="c-36891579" checked=""/><div class="controls bullet"><span class="by">amluto</span><span>|</span><a href="#36891020">parent</a><span>|</span><a href="#36892377">prev</a><span>|</span><a href="#36892969">next</a><span>|</span><label class="collapse" for="c-36891579">[-]</label><label class="expand" for="c-36891579">[4 more]</label></div><br/><div class="children"><div class="content">&gt; This would benefit from being further from the metal.<p>How, exactly, is that a good thing?</div><br/><div id="36891973" class="c"><input type="checkbox" id="c-36891973" checked=""/><div class="controls bullet"><span class="by">zetalyrae</span><span>|</span><a href="#36891020">root</a><span>|</span><a href="#36891579">parent</a><span>|</span><a href="#36892969">next</a><span>|</span><label class="collapse" for="c-36891973">[-]</label><label class="expand" for="c-36891973">[3 more]</label></div><br/><div class="children"><div class="content">How is not rolling your own database a good thing? Mainly because the business of tarsnap is 1) encrypted 2) backups, not building a database storage engine.</div><br/><div id="36898875" class="c"><input type="checkbox" id="c-36898875" checked=""/><div class="controls bullet"><span class="by">catiopatio</span><span>|</span><a href="#36891020">root</a><span>|</span><a href="#36891973">parent</a><span>|</span><a href="#36895634">next</a><span>|</span><label class="collapse" for="c-36898875">[-]</label><label class="expand" for="c-36898875">[1 more]</label></div><br/><div class="children"><div class="content">Implementing client-side encrypted, deduplicated, snapshot-enabled backups with server-mediated access control inherently requires building a minimal storage engine to represent your opaque log-structured data.<p>Embedding the log-structured representation of user data in Postgres would increase complexity and overhead without offering significant resiliency or recoverability advantages — in fact, quite the opposite.</div><br/></div></div><div id="36895634" class="c"><input type="checkbox" id="c-36895634" checked=""/><div class="controls bullet"><span class="by">catiopatio</span><span>|</span><a href="#36891020">root</a><span>|</span><a href="#36891973">parent</a><span>|</span><a href="#36898875">prev</a><span>|</span><a href="#36892969">next</a><span>|</span><label class="collapse" for="c-36895634">[-]</label><label class="expand" for="c-36895634">[1 more]</label></div><br/><div class="children"><div class="content">It’s cute that you think implementing client-side encrypted, deduplicated backups doesn’t involve building a database storage engine.</div><br/></div></div></div></div></div></div><div id="36892969" class="c"><input type="checkbox" id="c-36892969" checked=""/><div class="controls bullet"><span class="by">lordgilman</span><span>|</span><a href="#36891020">parent</a><span>|</span><a href="#36891579">prev</a><span>|</span><a href="#36891664">next</a><span>|</span><label class="collapse" for="c-36892969">[-]</label><label class="expand" for="c-36892969">[5 more]</label></div><br/><div class="children"><div class="content">FWIW Tarsnap was launched in 2008, the initial RDS for MySQL was launched in 2009.</div><br/><div id="36893081" class="c"><input type="checkbox" id="c-36893081" checked=""/><div class="controls bullet"><span class="by">zetalyrae</span><span>|</span><a href="#36891020">root</a><span>|</span><a href="#36892969">parent</a><span>|</span><a href="#36891664">next</a><span>|</span><label class="collapse" for="c-36893081">[-]</label><label class="expand" for="c-36893081">[4 more]</label></div><br/><div class="children"><div class="content">You can always self-host Postgres.</div><br/><div id="36895805" class="c"><input type="checkbox" id="c-36895805" checked=""/><div class="controls bullet"><span class="by">masfuerte</span><span>|</span><a href="#36891020">root</a><span>|</span><a href="#36893081">parent</a><span>|</span><a href="#36891664">next</a><span>|</span><label class="collapse" for="c-36895805">[-]</label><label class="expand" for="c-36895805">[3 more]</label></div><br/><div class="children"><div class="content">The VM crashed, corrupting the file system.  This could have made a Postgres database unrecoverable. For rock solid reliability you need more than a database instance.</div><br/><div id="36895875" class="c"><input type="checkbox" id="c-36895875" checked=""/><div class="controls bullet"><span class="by">zetalyrae</span><span>|</span><a href="#36891020">root</a><span>|</span><a href="#36895805">parent</a><span>|</span><a href="#36891664">next</a><span>|</span><label class="collapse" for="c-36895875">[-]</label><label class="expand" for="c-36895875">[2 more]</label></div><br/><div class="children"><div class="content">Make two of them.</div><br/><div id="36896542" class="c"><input type="checkbox" id="c-36896542" checked=""/><div class="controls bullet"><span class="by">masfuerte</span><span>|</span><a href="#36891020">root</a><span>|</span><a href="#36895875">parent</a><span>|</span><a href="#36891664">next</a><span>|</span><label class="collapse" for="c-36896542">[-]</label><label class="expand" for="c-36896542">[1 more]</label></div><br/><div class="children"><div class="content">Keeping some kind of Postgres cluster running for over a decade seems like a lot of work. tarsnap seems to require roughly no maintenance.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="36891664" class="c"><input type="checkbox" id="c-36891664" checked=""/><div class="controls bullet"><span class="by">foldr</span><span>|</span><a href="#36891020">parent</a><span>|</span><a href="#36892969">prev</a><span>|</span><a href="#36889238">next</a><span>|</span><label class="collapse" for="c-36891664">[-]</label><label class="expand" for="c-36891664">[20 more]</label></div><br/><div class="children"><div class="content">&gt;Far be it from me to tell anyone how to write software, but why build a database on top of S3 when you can just chuck the metadata into RDS with however much replication you want?<p>Cost and reliability?<p>* Using S3 as a simple database is generally going to be much cheaper than RDS.<p>* If you turn on point in time restore, then losing data stored in S3 is not a possibility worth worrying about on a practical level for most people. RDS replication is easy enough to use, but adds more cost and a little bit of extra infra complexity.</div><br/><div id="36891997" class="c"><input type="checkbox" id="c-36891997" checked=""/><div class="controls bullet"><span class="by">zetalyrae</span><span>|</span><a href="#36891020">root</a><span>|</span><a href="#36891664">parent</a><span>|</span><a href="#36889238">next</a><span>|</span><label class="collapse" for="c-36891997">[-]</label><label class="expand" for="c-36891997">[19 more]</label></div><br/><div class="children"><div class="content">&gt;Cost<p>It&#x27;s a bad trade. Thousands of hours of a high human capital computer scientist vs. a few tens of dollars a month for RDS.<p>&gt;Reliability<p>Empirically false: none of this would have happened if Tarsnap used Postgres instead of a home-spun database.</div><br/><div id="36892184" class="c"><input type="checkbox" id="c-36892184" checked=""/><div class="controls bullet"><span class="by">nonethewiser</span><span>|</span><a href="#36891020">root</a><span>|</span><a href="#36891997">parent</a><span>|</span><a href="#36889238">next</a><span>|</span><label class="collapse" for="c-36892184">[-]</label><label class="expand" for="c-36892184">[18 more]</label></div><br/><div class="children"><div class="content">&gt;&gt; Cost<p>&gt; It&#x27;s a bad trade.<p>Maybe. But that&#x27;s the reason. You never acknowledged that advantage in your question so it needed to be emphasized</div><br/><div id="36892258" class="c"><input type="checkbox" id="c-36892258" checked=""/><div class="controls bullet"><span class="by">zetalyrae</span><span>|</span><a href="#36891020">root</a><span>|</span><a href="#36892184">parent</a><span>|</span><a href="#36889238">next</a><span>|</span><label class="collapse" for="c-36892258">[-]</label><label class="expand" for="c-36892258">[17 more]</label></div><br/><div class="children"><div class="content">It never occurred to me that anyone would need it explained to them that RDS is cheaper than the time of any software engineer.<p>The opportunity cost of building your own database is 10,000x the cost of running RDS for a year.</div><br/><div id="36893500" class="c"><input type="checkbox" id="c-36893500" checked=""/><div class="controls bullet"><span class="by">foldr</span><span>|</span><a href="#36891020">root</a><span>|</span><a href="#36892258">parent</a><span>|</span><a href="#36889238">next</a><span>|</span><label class="collapse" for="c-36893500">[-]</label><label class="expand" for="c-36893500">[16 more]</label></div><br/><div class="children"><div class="content">That sort of logic doesn&#x27;t really apply here because:<p>* RDS costs obviously scale linearly with ongoing time and probably scale linearly with the total amount of data being backed up. So depending on the revenue of the business, these extra costs could easily end up outweighing the (notional) cost of the time saved, which is mostly a one-off expense.<p>* The cost of a software engineer&#x27;s time is notional in the context of a one-person business. The author of Tarsnap isn&#x27;t going to be able to employ fewer than zero additional software engineers to maintain Tarsnap because of the time saved by using RDS.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="36900509" class="c"><input type="checkbox" id="c-36900509" checked=""/><div class="controls bullet"><span class="by">akashshah87</span><span>|</span><a href="#36890327">prev</a><span>|</span><label class="collapse" for="c-36900509">[-]</label><label class="expand" for="c-36900509">[1 more]</label></div><br/><div class="children"><div class="content">Unfortunately, looks like <a href="https:&#x2F;&#x2F;www.tarsnap.com&#x2F;infrastructure.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.tarsnap.com&#x2F;infrastructure.html</a> will have to be updated.<p>&gt;&gt; So far such an outage has never occurred; but over time Tarsnap will become more tolerant of failures in order to minimize the probability that such an outage occurs in the future.</div><br/></div></div></div></div></div></div></div></body></html>