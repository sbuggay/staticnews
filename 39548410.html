<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1709283672982" as="style"/><link rel="stylesheet" href="styles.css?v=1709283672982"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://jamesg.blog/2024/02/29/linux-manual-pages/">Serving my blog posts as Linux manual pages</a> <span class="domain">(<a href="https://jamesg.blog">jamesg.blog</a>)</span></div><div class="subtext"><span>zerojames</span> | <span>130 comments</span></div><br/><div><div id="39553082" class="c"><input type="checkbox" id="c-39553082" checked=""/><div class="controls bullet"><span class="by">yegle</span><span>|</span><a href="#39554085">next</a><span>|</span><label class="collapse" for="c-39553082">[-]</label><label class="expand" for="c-39553082">[24 more]</label></div><br/><div class="children"><div class="content">It would be cool to provide a deb repo as a way of subscribing to your blog.<p>So `apt update` will pull in all blog posts, `man your-blog` will show the latest post with links to the index of all your other posts.</div><br/><div id="39554857" class="c"><input type="checkbox" id="c-39554857" checked=""/><div class="controls bullet"><span class="by">dcminter</span><span>|</span><a href="#39553082">parent</a><span>|</span><a href="#39558186">next</a><span>|</span><label class="collapse" for="c-39554857">[-]</label><label class="expand" for="c-39554857">[10 more]</label></div><br/><div class="children"><div class="content">On the one hand this idea is brilliant - on the other hand if it caught on, there are some obvious opportunities for malware intrinsic to the approach :&#x27;(<p>I think I&#x27;d be too chicken to subscribe.</div><br/><div id="39556517" class="c"><input type="checkbox" id="c-39556517" checked=""/><div class="controls bullet"><span class="by">codetrotter</span><span>|</span><a href="#39553082">root</a><span>|</span><a href="#39554857">parent</a><span>|</span><a href="#39557114">next</a><span>|</span><label class="collapse" for="c-39556517">[-]</label><label class="expand" for="c-39556517">[5 more]</label></div><br/><div class="children"><div class="content">Make the CI pipeline create a Docker image that contains Debian slim and the man pages installed.</div><br/><div id="39559382" class="c"><input type="checkbox" id="c-39559382" checked=""/><div class="controls bullet"><span class="by">usr1106</span><span>|</span><a href="#39553082">root</a><span>|</span><a href="#39556517">parent</a><span>|</span><a href="#39556630">next</a><span>|</span><label class="collapse" for="c-39559382">[-]</label><label class="expand" for="c-39559382">[1 more]</label></div><br/><div class="children"><div class="content">Docker is the example implementation of &quot;containers do not contain&quot;. At least I would use podman.</div><br/></div></div><div id="39556630" class="c"><input type="checkbox" id="c-39556630" checked=""/><div class="controls bullet"><span class="by">rezonant</span><span>|</span><a href="#39553082">root</a><span>|</span><a href="#39556517">parent</a><span>|</span><a href="#39559382">prev</a><span>|</span><a href="#39557114">next</a><span>|</span><label class="collapse" for="c-39556630">[-]</label><label class="expand" for="c-39556630">[3 more]</label></div><br/><div class="children"><div class="content">On the other hand, it&#x27;s Docker, so you know every blog will use their own base image.</div><br/><div id="39558651" class="c"><input type="checkbox" id="c-39558651" checked=""/><div class="controls bullet"><span class="by">astrea</span><span>|</span><a href="#39553082">root</a><span>|</span><a href="#39556630">parent</a><span>|</span><a href="#39557114">next</a><span>|</span><label class="collapse" for="c-39558651">[-]</label><label class="expand" for="c-39558651">[2 more]</label></div><br/><div class="children"><div class="content">Guys: Serve your blog via Docker itself. Docker image names are _already_ URLs. You could literally just have people do `docker pull myblog.com&#x2F;recipes:latest` or `myblog.com&#x2F;recipes:lasagna`.<p>Edit: and navigate like so: `docker image myblog.com&#x2F;recipes` to list all recipes. God I love APIs.</div><br/><div id="39558982" class="c"><input type="checkbox" id="c-39558982" checked=""/><div class="controls bullet"><span class="by">mrmattyboy</span><span>|</span><a href="#39553082">root</a><span>|</span><a href="#39558651">parent</a><span>|</span><a href="#39557114">next</a><span>|</span><label class="collapse" for="c-39558982">[-]</label><label class="expand" for="c-39558982">[1 more]</label></div><br/><div class="children"><div class="content">And add search logic to the tag, so you don&#x27;t need to know the name of the post, just the right word(s) to find it and let the &quot;I&#x27;m feeling lucky&quot; algorithm pick the right one :)</div><br/></div></div></div></div></div></div></div></div><div id="39557114" class="c"><input type="checkbox" id="c-39557114" checked=""/><div class="controls bullet"><span class="by">westurner</span><span>|</span><a href="#39553082">root</a><span>|</span><a href="#39554857">parent</a><span>|</span><a href="#39556517">prev</a><span>|</span><a href="#39558186">next</a><span>|</span><label class="collapse" for="c-39557114">[-]</label><label class="expand" for="c-39557114">[4 more]</label></div><br/><div class="children"><div class="content">How does HTTP(S) Same Origin policy work with local file:&#x2F;&#x2F;&#x2F; URLs?<p>TIL there&#x27;s no `ls -al &#x2F;usr&#x2F;share&#x2F;man&#x2F;** | man --html`; though it would be easy to build one with Python&#x27;s http.server, or bottlepy, or bash,.<p>Prompt: An http server ( with bash and &#x2F;dev&#x2F;tcp&#x2F; ) that serves HTML versions of local manpages with linkification of URLs and references to other manpages</div><br/><div id="39558540" class="c"><input type="checkbox" id="c-39558540" checked=""/><div class="controls bullet"><span class="by">awithrow</span><span>|</span><a href="#39553082">root</a><span>|</span><a href="#39557114">parent</a><span>|</span><a href="#39558186">next</a><span>|</span><label class="collapse" for="c-39558540">[-]</label><label class="expand" for="c-39558540">[3 more]</label></div><br/><div class="children"><div class="content">&gt; How does HTTP(S) Same Origin policy work with local file:&#x2F;&#x2F;&#x2F; URLs?<p>It doesn&#x27;t since file:&#x2F;&#x2F;&#x2F; is just a uri and not part of the http protocol</div><br/><div id="39559614" class="c"><input type="checkbox" id="c-39559614" checked=""/><div class="controls bullet"><span class="by">jwilk</span><span>|</span><a href="#39553082">root</a><span>|</span><a href="#39558540">parent</a><span>|</span><a href="#39559219">next</a><span>|</span><label class="collapse" for="c-39559614">[-]</label><label class="expand" for="c-39559614">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;Security&#x2F;Same-origin_policy#file_origins" rel="nofollow">https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;Security&#x2F;Same-o...</a></div><br/></div></div><div id="39559219" class="c"><input type="checkbox" id="c-39559219" checked=""/><div class="controls bullet"><span class="by">westurner</span><span>|</span><a href="#39553082">root</a><span>|</span><a href="#39558540">parent</a><span>|</span><a href="#39559614">prev</a><span>|</span><a href="#39558186">next</a><span>|</span><label class="collapse" for="c-39559219">[-]</label><label class="expand" for="c-39559219">[1 more]</label></div><br/><div class="children"><div class="content">If I open an HTML copy of a manpage that contains JS from a file:&#x2F;&#x2F;&#x2F; URL, can it read other local files and send them to another server with img URLs?<p>If so, Isn&#x27;t it thus probably better to run an HTTP server over a permissioned socket than to serve static HTML [manpages] from file URLs [in a [DEB] package]?</div><br/></div></div></div></div></div></div></div></div><div id="39558186" class="c"><input type="checkbox" id="c-39558186" checked=""/><div class="controls bullet"><span class="by">dredmorbius</span><span>|</span><a href="#39553082">parent</a><span>|</span><a href="#39554857">prev</a><span>|</span><a href="#39553097">next</a><span>|</span><label class="collapse" for="c-39558186">[-]</label><label class="expand" for="c-39558186">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s some precedent for this.  Debian used to provide access to the now-defunct <i>Linux Gazette</i>, and <i>still</i> offers numerous informational packages (package docs, manpages, info pages, RFCs, Linux HOWTOs, and more), all of which can be served locally through the dww package, &quot;Read all on-line documentation with a WWW browser&quot;:<p>&lt;<a href="https:&#x2F;&#x2F;packages.debian.org&#x2F;bookworm&#x2F;dwww" rel="nofollow">https:&#x2F;&#x2F;packages.debian.org&#x2F;bookworm&#x2F;dwww</a>&gt;<p>(Joerg Jaspert was the former maintainer of <i>Linux Gazette</i> packages: &lt;<a href="https:&#x2F;&#x2F;people.debian.org&#x2F;~joerg&#x2F;" rel="nofollow">https:&#x2F;&#x2F;people.debian.org&#x2F;~joerg&#x2F;</a>&gt; (2002).)<p>This remains to me one of the best examples of integrating information delivery and documentation on an operating system I&#x27;ve ever encountered.  Notably, it makes <i>both</i> manual <i>and</i> info documents more useful and usable than their traditional terminal-based interfaces.<p>There are Debian-associated blogs (Debian Planet), though I don&#x27;t believe that was ever packaged for Debian itself.<p>Frankly, RSS is probably a better option for blog subscription.</div><br/></div></div><div id="39553097" class="c"><input type="checkbox" id="c-39553097" checked=""/><div class="controls bullet"><span class="by">zerojames</span><span>|</span><a href="#39553082">parent</a><span>|</span><a href="#39558186">prev</a><span>|</span><a href="#39555396">next</a><span>|</span><label class="collapse" for="c-39553097">[-]</label><label class="expand" for="c-39553097">[7 more]</label></div><br/><div class="children"><div class="content">_adds to their TODO list :D_</div><br/><div id="39554001" class="c"><input type="checkbox" id="c-39554001" checked=""/><div class="controls bullet"><span class="by">tutfbhuf</span><span>|</span><a href="#39553082">root</a><span>|</span><a href="#39553097">parent</a><span>|</span><a href="#39555396">next</a><span>|</span><label class="collapse" for="c-39554001">[-]</label><label class="expand" for="c-39554001">[6 more]</label></div><br/><div class="children"><div class="content">Please also create an AUR package for Arch Linux.</div><br/><div id="39554113" class="c"><input type="checkbox" id="c-39554113" checked=""/><div class="controls bullet"><span class="by">basilgohar</span><span>|</span><a href="#39553082">root</a><span>|</span><a href="#39554001">parent</a><span>|</span><a href="#39555396">next</a><span>|</span><label class="collapse" for="c-39554113">[-]</label><label class="expand" for="c-39554113">[5 more]</label></div><br/><div class="children"><div class="content">Release as a Flatpak and make it distro agnostic!</div><br/><div id="39554123" class="c"><input type="checkbox" id="c-39554123" checked=""/><div class="controls bullet"><span class="by">gkbrk</span><span>|</span><a href="#39553082">root</a><span>|</span><a href="#39554113">parent</a><span>|</span><a href="#39555396">next</a><span>|</span><label class="collapse" for="c-39554123">[-]</label><label class="expand" for="c-39554123">[4 more]</label></div><br/><div class="children"><div class="content">Make it even better and release an AppImage!</div><br/><div id="39554204" class="c"><input type="checkbox" id="c-39554204" checked=""/><div class="controls bullet"><span class="by">edvinbesic</span><span>|</span><a href="#39553082">root</a><span>|</span><a href="#39554123">parent</a><span>|</span><a href="#39555396">next</a><span>|</span><label class="collapse" for="c-39554204">[-]</label><label class="expand" for="c-39554204">[3 more]</label></div><br/><div class="children"><div class="content">Even even better, put it on the web so it’s accessible from anywhere</div><br/><div id="39554530" class="c"><input type="checkbox" id="c-39554530" checked=""/><div class="controls bullet"><span class="by">abulman</span><span>|</span><a href="#39553082">root</a><span>|</span><a href="#39554204">parent</a><span>|</span><a href="#39555396">next</a><span>|</span><label class="collapse" for="c-39554530">[-]</label><label class="expand" for="c-39554530">[2 more]</label></div><br/><div class="children"><div class="content">wow, there. Lets not get crazy there. It&#x27;s plenty enough to support multiple package managers, but what you are considering is just too much!</div><br/><div id="39556154" class="c"><input type="checkbox" id="c-39556154" checked=""/><div class="controls bullet"><span class="by">hk1337</span><span>|</span><a href="#39553082">root</a><span>|</span><a href="#39554530">parent</a><span>|</span><a href="#39555396">next</a><span>|</span><label class="collapse" for="c-39556154">[-]</label><label class="expand" for="c-39556154">[1 more]</label></div><br/><div class="children"><div class="content">Okay, just create an iOS application.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="39555396" class="c"><input type="checkbox" id="c-39555396" checked=""/><div class="controls bullet"><span class="by">zerojames</span><span>|</span><a href="#39553082">parent</a><span>|</span><a href="#39553097">prev</a><span>|</span><a href="#39554234">next</a><span>|</span><label class="collapse" for="c-39555396">[-]</label><label class="expand" for="c-39555396">[2 more]</label></div><br/><div class="children"><div class="content">This is now in progress.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;capjamesg&#x2F;jamesg.blog.deb">https:&#x2F;&#x2F;github.com&#x2F;capjamesg&#x2F;jamesg.blog.deb</a> has all you need to build a man-page-only deb file using:<p>git clone <a href="https:&#x2F;&#x2F;github.com&#x2F;capjamesg&#x2F;jamesg.blog.deb">https:&#x2F;&#x2F;github.com&#x2F;capjamesg&#x2F;jamesg.blog.deb</a>
cd jamesg.blog.deb
dpkg-deb --build --root-owner-group jamesg.blog
sudo dpkg -i jamesg.blog.deb<p>You should see:<p>...
Processing triggers for man-db (2.9.1-1) ...<p>Which indicates the man page for `man jamesg.blog` is available. There is just a placeholder in there for now. I will perhaps finish this tomorrow!<p>NB: This may become a blog post soon :D</div><br/></div></div><div id="39554234" class="c"><input type="checkbox" id="c-39554234" checked=""/><div class="controls bullet"><span class="by">out_of_memory</span><span>|</span><a href="#39553082">parent</a><span>|</span><a href="#39555396">prev</a><span>|</span><a href="#39555780">next</a><span>|</span><label class="collapse" for="c-39554234">[-]</label><label class="expand" for="c-39554234">[1 more]</label></div><br/><div class="children"><div class="content">first thing came to my mind when i read the blog. it would be a very cool thing. i hope this becomes a thing.</div><br/></div></div><div id="39555780" class="c"><input type="checkbox" id="c-39555780" checked=""/><div class="controls bullet"><span class="by">potta_coffee</span><span>|</span><a href="#39553082">parent</a><span>|</span><a href="#39554234">prev</a><span>|</span><a href="#39554085">next</a><span>|</span><label class="collapse" for="c-39555780">[-]</label><label class="expand" for="c-39555780">[2 more]</label></div><br/><div class="children"><div class="content">Release your blog as an Electron application please.</div><br/><div id="39559416" class="c"><input type="checkbox" id="c-39559416" checked=""/><div class="controls bullet"><span class="by">usr1106</span><span>|</span><a href="#39553082">root</a><span>|</span><a href="#39555780">parent</a><span>|</span><a href="#39554085">next</a><span>|</span><label class="collapse" for="c-39559416">[-]</label><label class="expand" for="c-39559416">[1 more]</label></div><br/><div class="children"><div class="content">How would that fit on a RK07 disk?</div><br/></div></div></div></div></div></div><div id="39554085" class="c"><input type="checkbox" id="c-39554085" checked=""/><div class="controls bullet"><span class="by">Gormo</span><span>|</span><a href="#39553082">prev</a><span>|</span><a href="#39552852">next</a><span>|</span><label class="collapse" for="c-39554085">[-]</label><label class="expand" for="c-39554085">[12 more]</label></div><br/><div class="children"><div class="content">There&#x27;s no need to fork or use an intermediate file; you can just pipe straight into `man`:<p>`curl -sL -H &quot;Accept: text&#x2F;roff&quot; <a href="https:&#x2F;&#x2F;jamesg.blog&#x2F;2024&#x2F;02&#x2F;28&#x2F;programming-projects&#x2F;" rel="nofollow">https:&#x2F;&#x2F;jamesg.blog&#x2F;2024&#x2F;02&#x2F;28&#x2F;programming-projects&#x2F;</a> | man -l -`</div><br/><div id="39556047" class="c"><input type="checkbox" id="c-39556047" checked=""/><div class="controls bullet"><span class="by">godelski</span><span>|</span><a href="#39554085">parent</a><span>|</span><a href="#39554195">next</a><span>|</span><label class="collapse" for="c-39556047">[-]</label><label class="expand" for="c-39556047">[7 more]</label></div><br/><div class="children"><div class="content">Please don&#x27;t... Actually yrro posted something similar 2hrs before you and now we have the whole {curl,wget} pipe into command discussion again...<p><pre><code>  Friends don&#x27;t let friends pipe streams into commands
</code></pre>
<a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39554044">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39554044</a></div><br/><div id="39556658" class="c"><input type="checkbox" id="c-39556658" checked=""/><div class="controls bullet"><span class="by">rezonant</span><span>|</span><a href="#39554085">root</a><span>|</span><a href="#39556047">parent</a><span>|</span><a href="#39554195">next</a><span>|</span><label class="collapse" for="c-39556658">[-]</label><label class="expand" for="c-39556658">[6 more]</label></div><br/><div class="children"><div class="content">The top reply to that comment rightfully points out that this applies to your shell specifically. This isn&#x27;t a concern for formats that don&#x27;t have executable code (and I assume roff doesn&#x27;t, right?)<p>You might say, yes, but it&#x27;s still a good idea to review the file before you open it. OK sure, but that isn&#x27;t going to work for binary files anyway, so &quot;Friends don&#x27;t let friends pipe streams into commands&quot; should not be the general rule. &quot;Friends don&#x27;t let friends pipe streams into shells&quot; is certainly a good enough general rule.</div><br/><div id="39557344" class="c"><input type="checkbox" id="c-39557344" checked=""/><div class="controls bullet"><span class="by">scorpicam</span><span>|</span><a href="#39554085">root</a><span>|</span><a href="#39556658">parent</a><span>|</span><a href="#39557740">next</a><span>|</span><label class="collapse" for="c-39557344">[-]</label><label class="expand" for="c-39557344">[3 more]</label></div><br/><div class="children"><div class="content">You execute arbitrary commands with troff.  I used this feature a lot for getting output from code samples, but it&#x27;s definitely a security issue if you don&#x27;t trust the source.  Or, if you think shelling out is too boring, the troff macro language is actually turing complete and is a disturbingly usable for scripting.</div><br/><div id="39559876" class="c"><input type="checkbox" id="c-39559876" checked=""/><div class="controls bullet"><span class="by">jwilk</span><span>|</span><a href="#39554085">root</a><span>|</span><a href="#39557344">parent</a><span>|</span><a href="#39557355">next</a><span>|</span><label class="collapse" for="c-39559876">[-]</label><label class="expand" for="c-39559876">[1 more]</label></div><br/><div class="children"><div class="content">&gt; You execute arbitrary commands with troff.<p>This should be disabled by default since groff v1.17 (released in 2001):<p><a href="https:&#x2F;&#x2F;git.savannah.gnu.org&#x2F;cgit&#x2F;groff.git&#x2F;commit&#x2F;?id=7b3f578e9296c528" rel="nofollow">https:&#x2F;&#x2F;git.savannah.gnu.org&#x2F;cgit&#x2F;groff.git&#x2F;commit&#x2F;?id=7b3f5...</a></div><br/></div></div><div id="39557355" class="c"><input type="checkbox" id="c-39557355" checked=""/><div class="controls bullet"><span class="by">rezonant</span><span>|</span><a href="#39554085">root</a><span>|</span><a href="#39557344">parent</a><span>|</span><a href="#39559876">prev</a><span>|</span><a href="#39557740">next</a><span>|</span><label class="collapse" for="c-39557355">[-]</label><label class="expand" for="c-39557355">[1 more]</label></div><br/><div class="children"><div class="content">Oof, I kind of suspected this might be the case.</div><br/></div></div></div></div><div id="39557740" class="c"><input type="checkbox" id="c-39557740" checked=""/><div class="controls bullet"><span class="by">godelski</span><span>|</span><a href="#39554085">root</a><span>|</span><a href="#39556658">parent</a><span>|</span><a href="#39557344">prev</a><span>|</span><a href="#39554195">next</a><span>|</span><label class="collapse" for="c-39557740">[-]</label><label class="expand" for="c-39557740">[2 more]</label></div><br/><div class="children"><div class="content">1. Regardless, it is bad practice. It isn&#x27;t a good idea to teach people to pipe downloaded content into any command. Regardless of how naive and safe the command seems. You may not know. Especially considering how you aren&#x27;t guaranteed to run the full contents and may even run partial lines. Just don&#x27;t get in the habit of streaming anything into a command. Because you&#x27;ll be more tempted to stream into a different one which might have issues. Running two commands (or &amp;&amp;) just isn&#x27;t a big deal. Low cost for high reward.<p>2. The person replying to me mentioned ffmpeg and well... see the reply to them. Parsers may not seem like a big deal, but see this about `cat`[0] or this about `less`[1] (a quick search shows a lot of pipe and pager type of vulnerabilities, including privilege escalation). Programs that look simple and a non-risk are probably actually prime targets for hackers because it can lull someone into a false sense of security.<p>3. You can detect bash piping server side. There&#x27;s been a bunch of HN and reddit posts, several have been shared already so I won&#x27;t repeat.<p>I&#x27;m sticking to:<p><pre><code>  Friends don&#x27;t let friends pipe streams into commands
</code></pre>
It&#x27;s just safer. Risk is pretty low, but does using `&amp;&amp;` or a `;` instead really create a lot more work? How about<p><pre><code>  curl -sL -H &quot;Accept: text&#x2F;roff&quot; https:&#x2F;&#x2F;jamesg.blog&#x2F;2024&#x2F;02&#x2F;28&#x2F;programming-projects&#x2F; &gt; post.page &amp;&amp; man .&#x2F;post.page &amp;&amp; rm post.page
</code></pre>
This at least guarantees you don&#x27;t get a truncated execution.You&#x27;ll delete the file after you close man. This at least guarantees you don&#x27;t get a truncated execution. Better if we send to &#x2F;tmp&#x2F;post.page and not delete, in case something is fuzzy. Both of these also prevent server side detection and possible tomfoolery. &#x2F;tmp will be cleared on reboot anyways and it&#x27;s better to have the file in case something DOES happen.<p><pre><code>  curl -sL -H &quot;Accept: text&#x2F;roff&quot; https:&#x2F;&#x2F;jamesg.blog&#x2F;2024&#x2F;02&#x2F;28&#x2F;programming-projects&#x2F; &gt; &#x2F;tmp&#x2F;post.page &amp;&amp; man &#x2F;tmp&#x2F;post.page
</code></pre>
[0] <a href="https:&#x2F;&#x2F;security.stackexchange.com&#x2F;questions&#x2F;56307&#x2F;can-cat-ing-a-file-be-a-potential-security-risk" rel="nofollow">https:&#x2F;&#x2F;security.stackexchange.com&#x2F;questions&#x2F;56307&#x2F;can-cat-i...</a><p>[1] <a href="https:&#x2F;&#x2F;ubuntu.com&#x2F;security&#x2F;notices&#x2F;USN-6664-1" rel="nofollow">https:&#x2F;&#x2F;ubuntu.com&#x2F;security&#x2F;notices&#x2F;USN-6664-1</a><p>Edit:<p>groff vulns: <a href="https:&#x2F;&#x2F;www.cvedetails.com&#x2F;vulnerability-list&#x2F;vendor_id-72&#x2F;product_id-1066&#x2F;GNU-Groff.html?page=1&amp;order=3&amp;trc=10&amp;sha=6e4cc7f500802f814752fc1a27a3314fdc0dd07b" rel="nofollow">https:&#x2F;&#x2F;www.cvedetails.com&#x2F;vulnerability-list&#x2F;vendor_id-72&#x2F;p...</a></div><br/></div></div></div></div></div></div><div id="39554195" class="c"><input type="checkbox" id="c-39554195" checked=""/><div class="controls bullet"><span class="by">hereonout2</span><span>|</span><a href="#39554085">parent</a><span>|</span><a href="#39556047">prev</a><span>|</span><a href="#39552852">next</a><span>|</span><label class="collapse" for="c-39554195">[-]</label><label class="expand" for="c-39554195">[4 more]</label></div><br/><div class="children"><div class="content">Should have read the manual.</div><br/><div id="39554870" class="c"><input type="checkbox" id="c-39554870" checked=""/><div class="controls bullet"><span class="by">0xEF</span><span>|</span><a href="#39554085">root</a><span>|</span><a href="#39554195">parent</a><span>|</span><a href="#39552852">next</a><span>|</span><label class="collapse" for="c-39554870">[-]</label><label class="expand" for="c-39554870">[3 more]</label></div><br/><div class="children"><div class="content">rtfm.lol I guess</div><br/><div id="39555320" class="c"><input type="checkbox" id="c-39555320" checked=""/><div class="controls bullet"><span class="by">zerojames</span><span>|</span><a href="#39554085">root</a><span>|</span><a href="#39554870">parent</a><span>|</span><a href="#39556182">next</a><span>|</span><label class="collapse" for="c-39555320">[-]</label><label class="expand" for="c-39555320">[1 more]</label></div><br/><div class="children"><div class="content">See <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39552852">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39552852</a> for more discussion.</div><br/></div></div><div id="39556182" class="c"><input type="checkbox" id="c-39556182" checked=""/><div class="controls bullet"><span class="by">hk1337</span><span>|</span><a href="#39554085">root</a><span>|</span><a href="#39554870">parent</a><span>|</span><a href="#39555320">prev</a><span>|</span><a href="#39552852">next</a><span>|</span><label class="collapse" for="c-39556182">[-]</label><label class="expand" for="c-39556182">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;rtfm.lol" rel="nofollow">https:&#x2F;&#x2F;rtfm.lol</a><p>already taken.</div><br/></div></div></div></div></div></div></div></div><div id="39552852" class="c"><input type="checkbox" id="c-39552852" checked=""/><div class="controls bullet"><span class="by">yrro</span><span>|</span><a href="#39554085">prev</a><span>|</span><a href="#39553143">next</a><span>|</span><label class="collapse" for="c-39552852">[-]</label><label class="expand" for="c-39552852">[45 more]</label></div><br/><div class="children"><div class="content">FYI, &#x27;curl -sL -H &quot;Accept: text&#x2F;roff&quot; <a href="https:&#x2F;&#x2F;jamesg.blog&#x2F;2024&#x2F;02&#x2F;28&#x2F;programming-projects&#x2F;" rel="nofollow">https:&#x2F;&#x2F;jamesg.blog&#x2F;2024&#x2F;02&#x2F;28&#x2F;programming-projects&#x2F;</a> | man -l &#x2F;dev&#x2F;stdin&#x27; works for me - no need to safe the roff file locally.</div><br/><div id="39554044" class="c"><input type="checkbox" id="c-39554044" checked=""/><div class="controls bullet"><span class="by">godelski</span><span>|</span><a href="#39552852">parent</a><span>|</span><a href="#39553111">next</a><span>|</span><label class="collapse" for="c-39554044">[-]</label><label class="expand" for="c-39554044">[30 more]</label></div><br/><div class="children"><div class="content">I&#x27;m pretty sure the OP is intentionally not doing this because piping commands&#x2F;things-from-the-internet into &quot;bash&quot; (or anything else) is generally considered bad practice.<p>For me, I&#x27;m all for this. Anyone that is aware of the security implications is extremely likely aware of how to make the conversion like you&#x27;ve provided. In that case, no reason to tell people, because they already know. But it&#x27;s not a great thing to tell noobies to do because they will get burned. So don&#x27;t tell them. As they advance they&#x27;ll naturally learn about this feature. And hopefully they have learned the implications by the time they learn how to do this.<p>(not me): <a href="https:&#x2F;&#x2F;www.seancassidy.me&#x2F;dont-pipe-to-your-shell.html" rel="nofollow">https:&#x2F;&#x2F;www.seancassidy.me&#x2F;dont-pipe-to-your-shell.html</a></div><br/><div id="39554714" class="c"><input type="checkbox" id="c-39554714" checked=""/><div class="controls bullet"><span class="by">hk__2</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39554044">parent</a><span>|</span><a href="#39554545">next</a><span>|</span><label class="collapse" for="c-39554714">[-]</label><label class="expand" for="c-39554714">[4 more]</label></div><br/><div class="children"><div class="content">&gt; I&#x27;m pretty sure the OP is intentionally not doing this because piping commands&#x2F;things-from-the-internet into &quot;bash&quot; (or anything else) is generally considered bad practice.<p>It’s generally considered bad practice only for bash and similar commands that execute their input. It’s not a bad practice at all for commands that just display or transform their input, like `man`, `less`, `ffmpeg`, etc.</div><br/><div id="39554895" class="c"><input type="checkbox" id="c-39554895" checked=""/><div class="controls bullet"><span class="by">mananaysiempre</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39554714">parent</a><span>|</span><a href="#39555992">next</a><span>|</span><label class="collapse" for="c-39554895">[-]</label><label class="expand" for="c-39554895">[1 more]</label></div><br/><div class="children"><div class="content">Man on Linux runs groff, which (like the original nroff&#x2F;troff) is a fully general macro processor in addition to being a typesetting system. I wouldn’t bet on it not being able to launch subprocesses, or especially on it having no overflows and such on untrusted input. I’m not even sure about OpenBSD’s much more limited mandoc.<p>(Also, I don’t know about ffmpeg as it is somewhat more rare to have it be public-facing, but there have definitely been exploits against ImageMagick, usually targeted at websites using it to process user input.)</div><br/></div></div><div id="39555992" class="c"><input type="checkbox" id="c-39555992" checked=""/><div class="controls bullet"><span class="by">codelobe</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39554714">parent</a><span>|</span><a href="#39554895">prev</a><span>|</span><a href="#39554545">next</a><span>|</span><label class="collapse" for="c-39555992">[-]</label><label class="expand" for="c-39555992">[2 more]</label></div><br/><div class="children"><div class="content">[insert confused trollface]<p>&gt; ffmpeg
There is certainly a few hundered exploitable vectors in that program alone... to say nothing of the rest.<p>When in doubt, spin up a VM to run the random untrusted thing -- And then go read its mailing list&#x2F;issue tracker for known VM escaping exploits.  I have a machine setup to test malware, so I just hit my &quot;airgap&quot; switch to isolate the system from my network once the questionable code is in place and ready to run (potentially amok).  Study-up about ARP-poison attacks, and remember ARP does not transit to upstream routers&#x2F;switches (Y &quot;combinate&quot; your network for fun and profit).<p>Before you assume non malicious simple text output, consider &quot;ANSI&quot; escape code complexity as an intrusion vector for whatever terminal you run.  I&#x27;ve got &quot;0-days&quot; for this going back to MSDOS: ANSI Bomb =&gt; arbitrary CMD entry.  You don&#x27;t have to take my word for it, your terminal of choice is most certainly  vulnerable to some ANSI&#x2F;escape code related exploit, look it up.</div><br/><div id="39556668" class="c"><input type="checkbox" id="c-39556668" checked=""/><div class="controls bullet"><span class="by">rezonant</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39555992">parent</a><span>|</span><a href="#39554545">next</a><span>|</span><label class="collapse" for="c-39556668">[-]</label><label class="expand" for="c-39556668">[1 more]</label></div><br/><div class="children"><div class="content">This is why I spin up a VM whenever I want to look at an image. The risk is too great. Even text files, after all we never know if there&#x27;s a zero day in the UTF-8 decoder. Better safe than sorry.<p>Wait a minute I just realized there could be a zero day in the VM hypervisor too. I guess I&#x27;ll just have to buy a fresh Raspberry Pi for each file I want to open.<p>&#x2F;s</div><br/></div></div></div></div></div></div><div id="39554545" class="c"><input type="checkbox" id="c-39554545" checked=""/><div class="controls bullet"><span class="by">_joel</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39554044">parent</a><span>|</span><a href="#39554714">prev</a><span>|</span><a href="#39555660">next</a><span>|</span><label class="collapse" for="c-39554545">[-]</label><label class="expand" for="c-39554545">[9 more]</label></div><br/><div class="children"><div class="content">There&#x27;s not much difference doing a pipe or using and intermediary file and &quot;excecuting&quot; that straight away. There&#x27;s no manual step in the documentation there to read the output before it&#x27;s run.</div><br/><div id="39555716" class="c"><input type="checkbox" id="c-39555716" checked=""/><div class="controls bullet"><span class="by">jmb99</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39554545">parent</a><span>|</span><a href="#39555529">next</a><span>|</span><label class="collapse" for="c-39555716">[-]</label><label class="expand" for="c-39555716">[3 more]</label></div><br/><div class="children"><div class="content">There definitely is a difference. See [1] (or [2] since the original site has misconfigured TLS). Long story short, using some fairly trivial heuristics, a malicious server could change its response when it detects its output being piped to a shell rather than saved to a file. Thus, a security-minded person downloading the file (who could inspect it) would be given a clean copy, but someone less security-minded piping it straight to bash would be given the malicious copy. The security-minded person wouldn&#x27;t be able to warn people not to pipe the script to a shell, since it appears safe.<p>[1] <a href="https:&#x2F;&#x2F;www.idontplaydarts.com&#x2F;2016&#x2F;04&#x2F;detecting-curl-pipe-bash-server-side&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.idontplaydarts.com&#x2F;2016&#x2F;04&#x2F;detecting-curl-pipe-b...</a><p>[2] <a href="https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20240228190305&#x2F;https:&#x2F;&#x2F;www.idontplaydarts.com&#x2F;2016&#x2F;04&#x2F;detecting-curl-pipe-bash-server-side&#x2F;" rel="nofollow">https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20240228190305&#x2F;https:&#x2F;&#x2F;www.idont...</a></div><br/><div id="39556714" class="c"><input type="checkbox" id="c-39556714" checked=""/><div class="controls bullet"><span class="by">rezonant</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39555716">parent</a><span>|</span><a href="#39556626">next</a><span>|</span><label class="collapse" for="c-39556714">[-]</label><label class="expand" for="c-39556714">[1 more]</label></div><br/><div class="children"><div class="content">This is <i>extremely specifically</i> is about detecting that Bash is pulling on the stream, by using it&#x27;s line by line interpretation to do a timing attack. It&#x27;s not clear there&#x27;s a timing difference between pushing the stream to disk versus pushing the stream to man, since it seems fairly likely that man would read the entire file into memory before operating on it (at least modern man)</div><br/></div></div><div id="39556626" class="c"><input type="checkbox" id="c-39556626" checked=""/><div class="controls bullet"><span class="by">_joel</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39555716">parent</a><span>|</span><a href="#39556714">prev</a><span>|</span><a href="#39555529">next</a><span>|</span><label class="collapse" for="c-39556626">[-]</label><label class="expand" for="c-39556626">[1 more]</label></div><br/><div class="children"><div class="content">This is piping to man, not bash.<p>Interesting vector if you&#x27;re worried about people piping into man from curl, but there you go.</div><br/></div></div></div></div><div id="39555529" class="c"><input type="checkbox" id="c-39555529" checked=""/><div class="controls bullet"><span class="by">godelski</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39554545">parent</a><span>|</span><a href="#39555716">prev</a><span>|</span><a href="#39555660">next</a><span>|</span><label class="collapse" for="c-39555529">[-]</label><label class="expand" for="c-39555529">[5 more]</label></div><br/><div class="children"><div class="content">This is not accurate. If the download gets interrupted bash will execute the partial line. That means `rm -r &#x2F;tmp&#x2F;foo.ext` or `rm -r ${HOME}&#x2F;.tmp_config` can execute as `rm -r &#x2F;`.<p>This can be mitigated by wrapping the script, but clearly no one is looking at the code so this isn&#x27;t really verified anyways. And it&#x27;s not like we see that all the time.<p>Edit:<p>But my main point is about habits. There&#x27;s the concern mananaysiempre brings up[0], but either way, it is best to be in good habits.<p>[0] <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39554895">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39554895</a></div><br/><div id="39556551" class="c"><input type="checkbox" id="c-39556551" checked=""/><div class="controls bullet"><span class="by">_joel</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39555529">parent</a><span>|</span><a href="#39558452">next</a><span>|</span><label class="collapse" for="c-39556551">[-]</label><label class="expand" for="c-39556551">[2 more]</label></div><br/><div class="children"><div class="content">From the post<p>curl -sL -H &quot;Accept: text&#x2F;roff&quot; <a href="https:&#x2F;&#x2F;jamesg.blog&#x2F;2024&#x2F;02&#x2F;28&#x2F;programming-projects&#x2F;" rel="nofollow">https:&#x2F;&#x2F;jamesg.blog&#x2F;2024&#x2F;02&#x2F;28&#x2F;programming-projects&#x2F;</a> &gt; post.page &amp;&amp; man .&#x2F;post.page<p>If curl&#x27;s process is interupted, it&#x27;ll generate a non-0 exit code and the man command won&#x27;t be exectued. That&#x27;s how double ampersands work in shell.</div><br/><div id="39557785" class="c"><input type="checkbox" id="c-39557785" checked=""/><div class="controls bullet"><span class="by">godelski</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39556551">parent</a><span>|</span><a href="#39558452">next</a><span>|</span><label class="collapse" for="c-39557785">[-]</label><label class="expand" for="c-39557785">[1 more]</label></div><br/><div class="children"><div class="content">I think you&#x27;ve missed the context of my comment. We&#x27;re talking about `curl | man` not `curl &amp;&amp; man`. You&#x27;re right, `&amp;&amp;` doesn&#x27;t have that risk. But `|` sure does.</div><br/></div></div></div></div><div id="39558452" class="c"><input type="checkbox" id="c-39558452" checked=""/><div class="controls bullet"><span class="by">fragmede</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39555529">parent</a><span>|</span><a href="#39556551">prev</a><span>|</span><a href="#39555660">next</a><span>|</span><label class="collapse" for="c-39558452">[-]</label><label class="expand" for="c-39558452">[2 more]</label></div><br/><div class="children"><div class="content">thankfully
    rm -r &#x2F;
doesn&#x27;t work on modern systems, though that doesn&#x27;t invalidate your point.</div><br/><div id="39559205" class="c"><input type="checkbox" id="c-39559205" checked=""/><div class="controls bullet"><span class="by">godelski</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39558452">parent</a><span>|</span><a href="#39555660">next</a><span>|</span><label class="collapse" for="c-39559205">[-]</label><label class="expand" for="c-39559205">[1 more]</label></div><br/><div class="children"><div class="content">On what system are you talking about? I mean it won&#x27;t kill everything because sudo but everything you have permissions to are still in danger</div><br/></div></div></div></div></div></div></div></div><div id="39555660" class="c"><input type="checkbox" id="c-39555660" checked=""/><div class="controls bullet"><span class="by">godelski</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39554044">parent</a><span>|</span><a href="#39554545">prev</a><span>|</span><a href="#39554833">next</a><span>|</span><label class="collapse" for="c-39555660">[-]</label><label class="expand" for="c-39555660">[4 more]</label></div><br/><div class="children"><div class="content">Can&#x27;t edit my comment so I&#x27;ll write as a reply<p><pre><code>  This is to all the people saying no difference between downloading and running right away
</code></pre>
If the download gets interrupted bash will execute the partial line. That means `rm -r &#x2F;tmp&#x2F;foo.ext` or `rm -r ${HOME}&#x2F;.tmp_config` can execute as `rm -r &#x2F;`. This can be mitigated by wrapping the script. Best way to do this is wrap the whole script into a function and then execute at the last line[0]. Oh, and you can detect `curl|bash` server side[1]<p>[0] <a href="https:&#x2F;&#x2F;archive.is&#x2F;20160603044800&#x2F;https:&#x2F;&#x2F;sandstorm.io&#x2F;news&#x2F;2015-09-24-is-curl-bash-insecure-pgp-verified-install" rel="nofollow">https:&#x2F;&#x2F;archive.is&#x2F;20160603044800&#x2F;https:&#x2F;&#x2F;sandstorm.io&#x2F;news&#x2F;...</a><p>[1] <a href="https:&#x2F;&#x2F;archive.is&#x2F;20230325190353&#x2F;https:&#x2F;&#x2F;www.idontplaydarts.com&#x2F;2016&#x2F;04&#x2F;detecting-curl-pipe-bash-server-side&#x2F;" rel="nofollow">https:&#x2F;&#x2F;archive.is&#x2F;20230325190353&#x2F;https:&#x2F;&#x2F;www.idontplaydarts...</a><p>Edit: as an example, rust does the warpping. But they still place this stupid shit on in their install instructions. <i>Bad Rust! Bad!</i><p><a href="https:&#x2F;&#x2F;www.rust-lang.org&#x2F;tools&#x2F;install" rel="nofollow">https:&#x2F;&#x2F;www.rust-lang.org&#x2F;tools&#x2F;install</a></div><br/><div id="39558123" class="c"><input type="checkbox" id="c-39558123" checked=""/><div class="controls bullet"><span class="by">Arnavion</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39555660">parent</a><span>|</span><a href="#39556746">next</a><span>|</span><label class="collapse" for="c-39558123">[-]</label><label class="expand" for="c-39558123">[2 more]</label></div><br/><div class="children"><div class="content">&gt;Best way to do this is wrap the whole script into a function and then execute at the last line[0].<p>It&#x27;s not the best way. If your function is named `lsp_init` and your last line is `lsp_init`, a partial line can result in the execution of `ls`.<p>AFAIK the best way is to just wrap your script in `()`.</div><br/><div id="39558162" class="c"><input type="checkbox" id="c-39558162" checked=""/><div class="controls bullet"><span class="by">godelski</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39558123">parent</a><span>|</span><a href="#39556746">next</a><span>|</span><label class="collapse" for="c-39558162">[-]</label><label class="expand" for="c-39558162">[1 more]</label></div><br/><div class="children"><div class="content">You&#x27;re right! That&#x27;s a good thing to point out. Elsewhere I suggested Rust change their install to this though. Solves pretty much all the probems<p><pre><code>  curl --proto &#x27;=https&#x27; --tlsv1.2 -sSf https:&#x2F;&#x2F;sh.rustup.rs &gt; &#x2F;tmp&#x2F;rust_install.sh &amp;&amp; sh &#x2F;tmp&#x2F;rust_install.sh
</code></pre>
(obviously doesn&#x27;t solve the problem of inspection, but I think we all know that&#x27;s not going to happen anyways)</div><br/></div></div></div></div><div id="39556746" class="c"><input type="checkbox" id="c-39556746" checked=""/><div class="controls bullet"><span class="by">rezonant</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39555660">parent</a><span>|</span><a href="#39558123">prev</a><span>|</span><a href="#39554833">next</a><span>|</span><label class="collapse" for="c-39556746">[-]</label><label class="expand" for="c-39556746">[1 more]</label></div><br/><div class="children"><div class="content">I agree that it&#x27;s a risk to pipe to sh but that&#x27;s not what we&#x27;re doing here, and I&#x27;d hope that most of the people aren&#x27;t saying there&#x27;s no difference between piping to man and piping to sh.</div><br/></div></div></div></div><div id="39554833" class="c"><input type="checkbox" id="c-39554833" checked=""/><div class="controls bullet"><span class="by">jimmaswell</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39554044">parent</a><span>|</span><a href="#39555660">prev</a><span>|</span><a href="#39554210">next</a><span>|</span><label class="collapse" for="c-39554833">[-]</label><label class="expand" for="c-39554833">[5 more]</label></div><br/><div class="children"><div class="content">Has there been a single recorded case of malware getting around this way?</div><br/><div id="39556009" class="c"><input type="checkbox" id="c-39556009" checked=""/><div class="controls bullet"><span class="by">godelski</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39554833">parent</a><span>|</span><a href="#39554210">next</a><span>|</span><label class="collapse" for="c-39556009">[-]</label><label class="expand" for="c-39556009">[4 more]</label></div><br/><div class="children"><div class="content">I&#x27;m sorry, your argument is... what exactly? That we shouldn&#x27;t take simple or even trivial preventative measures that also reduce other potential problems because we... haven&#x27;t seen anybody abuse such a thing before? Really?<p>What a terrible argument. Not it&#x27;s trivial to resolve. Why not just fix things that we know are problems or can lead to serious problems instead of waiting for it to become a problem where it&#x27;ll then be FAR more work to clean it up?<p>Seriously, you&#x27;re a human, not a bug. You have the ability to solve things before they become problems. Use it.<p>While I&#x27;m not sure of a specific example, I feel quite confident in saying that this has been done before.</div><br/><div id="39558748" class="c"><input type="checkbox" id="c-39558748" checked=""/><div class="controls bullet"><span class="by">jimmaswell</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39556009">parent</a><span>|</span><a href="#39556758">next</a><span>|</span><label class="collapse" for="c-39558748">[-]</label><label class="expand" for="c-39558748">[1 more]</label></div><br/><div class="children"><div class="content">If you&#x27;re willing to run an executable installer from a website then piping into sh is no better.</div><br/></div></div><div id="39556758" class="c"><input type="checkbox" id="c-39556758" checked=""/><div class="controls bullet"><span class="by">rezonant</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39556009">parent</a><span>|</span><a href="#39558748">prev</a><span>|</span><a href="#39554210">next</a><span>|</span><label class="collapse" for="c-39556758">[-]</label><label class="expand" for="c-39556758">[2 more]</label></div><br/><div class="children"><div class="content">There was no argument here, only a question. And it&#x27;s a fair question to ask for the purposes of discussion.<p>You&#x27;re right, piping to sh is definitely a risk, and we should do better as a community, and not make users normalized to piping to sh.</div><br/><div id="39557854" class="c"><input type="checkbox" id="c-39557854" checked=""/><div class="controls bullet"><span class="by">godelski</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39556758">parent</a><span>|</span><a href="#39554210">next</a><span>|</span><label class="collapse" for="c-39557854">[-]</label><label class="expand" for="c-39557854">[1 more]</label></div><br/><div class="children"><div class="content">It appeared as a rhetorical question used to rebut the claim. Maybe I misinterpreted it. Fair. But that is a possible interpretation.<p>But as you can see elsewhere, we shouldn&#x27;t pipe streams into anything. It&#x27;s just not hard to avoid this. A few extra characters and you&#x27;re good to go. Let&#x27;s take rust for example. Users are copy pasting anyways<p>They give<p><pre><code>  curl --proto &#x27;=https&#x27; --tlsv1.2 -sSf https:&#x2F;&#x2F;sh.rustup.rs | sh
</code></pre>
But why not<p><pre><code>  curl --proto &#x27;=https&#x27; --tlsv1.2 -sSf https:&#x2F;&#x2F;sh.rustup.rs &gt; &#x2F;tmp&#x2F;rust_install.sh &amp;&amp; sh &#x2F;tmp&#x2F;rust_install.sh
</code></pre>
For user experience, it is till a one liner, but it is infinitely better. Still has some risks, but a lot less. (at least rust does wrap the install so you don&#x27;t run the risk of partial line execution) And it gives the user a way to verify that the file was correct if they provide a checksum.<p>There&#x27;s just no good reason to not do this. We especially shouldn&#x27;t be teaching noobies to pipe streams into any command. Let&#x27;s be real, most people don&#x27;t know linux well, even if they use linux.</div><br/></div></div></div></div></div></div></div></div><div id="39554210" class="c"><input type="checkbox" id="c-39554210" checked=""/><div class="controls bullet"><span class="by">globular-toast</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39554044">parent</a><span>|</span><a href="#39554833">prev</a><span>|</span><a href="#39553111">next</a><span>|</span><label class="collapse" for="c-39554210">[-]</label><label class="expand" for="c-39554210">[7 more]</label></div><br/><div class="children"><div class="content">Piping to your shell and piping to `man` are not the same thing.<p>The really dangerous thing is copy&#x2F;pasting from a browser to your terminal. Always do Ctrl-X Ctrl-E to open an editor, paste it in there, then inspect it before saving&#x2F;closing the editor to run the command.</div><br/><div id="39554811" class="c"><input type="checkbox" id="c-39554811" checked=""/><div class="controls bullet"><span class="by">vladxyz</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39554210">parent</a><span>|</span><a href="#39554475">next</a><span>|</span><label class="collapse" for="c-39554811">[-]</label><label class="expand" for="c-39554811">[4 more]</label></div><br/><div class="children"><div class="content">Aren&#x27;t they? Are you sure piping to &#x27;man&#x27; can&#x27;t result in arbitrary code execution?<p>The two things you need to be able to say you trust are your CA store, and the source of your curl -&gt; shell.</div><br/><div id="39556275" class="c"><input type="checkbox" id="c-39556275" checked=""/><div class="controls bullet"><span class="by">johannes1234321</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39554811">parent</a><span>|</span><a href="#39555048">next</a><span>|</span><label class="collapse" for="c-39556275">[-]</label><label class="expand" for="c-39556275">[1 more]</label></div><br/><div class="children"><div class="content">Even if it were:<p>There is no practical difference. &quot;Nobody&quot; will inspect the man page using a different viewer first. So if I download to disk and then view via man or directly via man is no difference.<p>A shell script one might inspect first using some viewer. While only few probably do.</div><br/></div></div><div id="39555048" class="c"><input type="checkbox" id="c-39555048" checked=""/><div class="controls bullet"><span class="by">globular-toast</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39554811">parent</a><span>|</span><a href="#39556275">prev</a><span>|</span><a href="#39554475">next</a><span>|</span><label class="collapse" for="c-39555048">[-]</label><label class="expand" for="c-39555048">[2 more]</label></div><br/><div class="children"><div class="content">No, they&#x27;re not the same thing! It&#x27;s not piping to your shell! The shell&#x27;s single purpose is to execute code. Man is not supposed to do that and it would be considered a huge security issue if it could. In any case, how would you check the downloaded file? With a text editor? Are you sure that can&#x27;t result in arbitrary code execution?</div><br/><div id="39555676" class="c"><input type="checkbox" id="c-39555676" checked=""/><div class="controls bullet"><span class="by">AlecSchueler</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39555048">parent</a><span>|</span><a href="#39554475">next</a><span>|</span><label class="collapse" for="c-39555676">[-]</label><label class="expand" for="c-39555676">[1 more]</label></div><br/><div class="children"><div class="content">Man can run groff which can in turn run arbitrary subprocesses.</div><br/></div></div></div></div></div></div><div id="39554475" class="c"><input type="checkbox" id="c-39554475" checked=""/><div class="controls bullet"><span class="by">crtasm</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39554210">parent</a><span>|</span><a href="#39554811">prev</a><span>|</span><a href="#39553111">next</a><span>|</span><label class="collapse" for="c-39554475">[-]</label><label class="expand" for="c-39554475">[2 more]</label></div><br/><div class="children"><div class="content">Never knew that shortcut, useful!</div><br/><div id="39555591" class="c"><input type="checkbox" id="c-39555591" checked=""/><div class="controls bullet"><span class="by">godelski</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39554475">parent</a><span>|</span><a href="#39553111">next</a><span>|</span><label class="collapse" for="c-39555591">[-]</label><label class="expand" for="c-39555591">[1 more]</label></div><br/><div class="children"><div class="content">I only recently learned of it myself despite being on nix for over a decade and reading many advanced bash shortcut blogs. IDK why it isn&#x27;t well known.<p>For zsh users see here: <a href="https:&#x2F;&#x2F;nuclearsquid.com&#x2F;writings&#x2F;edit-long-commands&#x2F;" rel="nofollow">https:&#x2F;&#x2F;nuclearsquid.com&#x2F;writings&#x2F;edit-long-commands&#x2F;</a><p>Note: this can be tricky depending on where it goes in your zshrc. If you use a plugin manager (like Sheldon) then this should be above that. I ended up with this and it works well on OSX and linux<p><pre><code>  autoload -U edit-command-line
  # Emacs style (&lt;C-x&gt;&lt;C-e&gt;)
  zle -N edit-command-line
  # make sure `set -o vi` is above this line
  bindkey &#x27;^xe&#x27; edit-command-line
  bindkey &#x27;^x^e&#x27; edit-command-line
  # (VIM) Use visual mode
  bindkey -M vicmd v edit-command-line</code></pre></div><br/></div></div></div></div></div></div></div></div><div id="39553111" class="c"><input type="checkbox" id="c-39553111" checked=""/><div class="controls bullet"><span class="by">zerojames</span><span>|</span><a href="#39552852">parent</a><span>|</span><a href="#39554044">prev</a><span>|</span><a href="#39553839">next</a><span>|</span><label class="collapse" for="c-39553111">[-]</label><label class="expand" for="c-39553111">[11 more]</label></div><br/><div class="children"><div class="content">Unfortunately, that command doesn&#x27;t work on macOS (`&#x2F;usr&#x2F;bin&#x2F;man: illegal option -- l`). I tried to get a one-liner with piping working on my Mac but I always ran into errors. The -l flag doesn&#x27;t exist in the macOS man implementation (I consulted the man page; meta!).</div><br/><div id="39553223" class="c"><input type="checkbox" id="c-39553223" checked=""/><div class="controls bullet"><span class="by">jolmg</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39553111">parent</a><span>|</span><a href="#39553230">next</a><span>|</span><label class="collapse" for="c-39553223">[-]</label><label class="expand" for="c-39553223">[3 more]</label></div><br/><div class="children"><div class="content">The `-l` can be skipped (probably because there are `&#x2F;`s in man&#x27;s argument):<p><pre><code>  curl -sL -H &quot;Accept: text&#x2F;roff&quot; https:&#x2F;&#x2F;jamesg.blog&#x2F;2024&#x2F;02&#x2F;28&#x2F;programming-projects&#x2F; | man &#x2F;dev&#x2F;stdin</code></pre></div><br/><div id="39553645" class="c"><input type="checkbox" id="c-39553645" checked=""/><div class="controls bullet"><span class="by">divbzero</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39553223">parent</a><span>|</span><a href="#39553451">next</a><span>|</span><label class="collapse" for="c-39553645">[-]</label><label class="expand" for="c-39553645">[1 more]</label></div><br/><div class="children"><div class="content">This still doesn’t work for me on macOS, perhaps a difference in how <i>&#x2F;dev&#x2F;stdin</i> is implemented?<p>Fortunately, macOS has ZSH as the default shell so the following does work:<p><pre><code>  man =(curl -sL -H &quot;Accept: text&#x2F;roff&quot; https:&#x2F;&#x2F;jamesg.blog&#x2F;2024&#x2F;02&#x2F;28&#x2F;programming-projects&#x2F;)</code></pre></div><br/></div></div><div id="39553451" class="c"><input type="checkbox" id="c-39553451" checked=""/><div class="controls bullet"><span class="by">BossingAround</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39553223">parent</a><span>|</span><a href="#39553645">prev</a><span>|</span><a href="#39553230">next</a><span>|</span><label class="collapse" for="c-39553451">[-]</label><label class="expand" for="c-39553451">[1 more]</label></div><br/><div class="children"><div class="content">(which still doesn&#x27;t work on mac)</div><br/></div></div></div></div><div id="39553230" class="c"><input type="checkbox" id="c-39553230" checked=""/><div class="controls bullet"><span class="by">penguinjanitor</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39553111">parent</a><span>|</span><a href="#39553223">prev</a><span>|</span><a href="#39553839">next</a><span>|</span><label class="collapse" for="c-39553230">[-]</label><label class="expand" for="c-39553230">[7 more]</label></div><br/><div class="children"><div class="content">Maybe &#x27;man &lt;(curl -sL -H &quot;Accept: text&#x2F;roff&quot; <a href="https:&#x2F;&#x2F;jamesg.blog&#x2F;2024&#x2F;02&#x2F;28&#x2F;programming-projects&#x2F;" rel="nofollow">https:&#x2F;&#x2F;jamesg.blog&#x2F;2024&#x2F;02&#x2F;28&#x2F;programming-projects&#x2F;</a>)&#x27; works then?</div><br/><div id="39553667" class="c"><input type="checkbox" id="c-39553667" checked=""/><div class="controls bullet"><span class="by">divbzero</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39553230">parent</a><span>|</span><a href="#39553450">next</a><span>|</span><label class="collapse" for="c-39553667">[-]</label><label class="expand" for="c-39553667">[5 more]</label></div><br/><div class="children"><div class="content">This doesn’t work because it’s equivalent to piping <i>stdout</i> from <i>curl</i> into <i>stdin</i> for <i>man</i>.</div><br/><div id="39553899" class="c"><input type="checkbox" id="c-39553899" checked=""/><div class="controls bullet"><span class="by">penguinjanitor</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39553667">parent</a><span>|</span><a href="#39554645">next</a><span>|</span><label class="collapse" for="c-39553899">[-]</label><label class="expand" for="c-39553899">[3 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not, that would be `man &lt;&lt;&lt; &quot;$(curl ...)&quot; `. `man &lt;(curl ...)` is a slightly different version of the process substitution[1] from your comment - `man =(curl ...)`.<p>[1] <a href="https:&#x2F;&#x2F;zsh.sourceforge.io&#x2F;Doc&#x2F;Release&#x2F;Expansion.html#Process-Substitution" rel="nofollow">https:&#x2F;&#x2F;zsh.sourceforge.io&#x2F;Doc&#x2F;Release&#x2F;Expansion.html#Proces...</a></div><br/><div id="39554054" class="c"><input type="checkbox" id="c-39554054" checked=""/><div class="controls bullet"><span class="by">divbzero</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39553899">parent</a><span>|</span><a href="#39554645">next</a><span>|</span><label class="collapse" for="c-39554054">[-]</label><label class="expand" for="c-39554054">[2 more]</label></div><br/><div class="children"><div class="content">You’re right, it isn’t quite the same as piping.<p><i>man &lt;(curl ...)</i> ends up working on Linux but for whatever reason still yields an error on macOS:<p><pre><code>  No manual entry for &#x2F;dev&#x2F;fd&#x2F;11</code></pre></div><br/><div id="39556860" class="c"><input type="checkbox" id="c-39556860" checked=""/><div class="controls bullet"><span class="by">jasomill</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39554054">parent</a><span>|</span><a href="#39554645">next</a><span>|</span><label class="collapse" for="c-39556860">[-]</label><label class="expand" for="c-39556860">[1 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>  curl -sL -H &quot;Accept: text&#x2F;roff&quot; https:&#x2F;&#x2F;jamesg.blog&#x2F;2024&#x2F;02&#x2F;28&#x2F;programming-projects&#x2F; | mandoc -a
</code></pre>
works on macOS (and should also work on (Free|Net|Open)BSD, which ship similar man toolchains).</div><br/></div></div></div></div></div></div><div id="39554645" class="c"><input type="checkbox" id="c-39554645" checked=""/><div class="controls bullet"><span class="by">globular-toast</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39553667">parent</a><span>|</span><a href="#39553899">prev</a><span>|</span><a href="#39553450">next</a><span>|</span><label class="collapse" for="c-39554645">[-]</label><label class="expand" for="c-39554645">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s actually process substitution: <a href="https:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;bash&#x2F;manual&#x2F;html_node&#x2F;Process-Substitution.html" rel="nofollow">https:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;bash&#x2F;manual&#x2F;html_node&#x2F;Process-S...</a><p>It&#x27;s essentially running the process in another shell and sending its output to a tempfile. The name of that file is then substituted in the original command. So, in theory, equivalent to `inner &gt; &#x2F;tmp&#x2F;file; outer &#x2F;tmp&#x2F;file`. This works with programs that don&#x27;t read from stdin, or need two or more inputs, for example.</div><br/></div></div></div></div><div id="39553450" class="c"><input type="checkbox" id="c-39553450" checked=""/><div class="controls bullet"><span class="by">BossingAround</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39553230">parent</a><span>|</span><a href="#39553667">prev</a><span>|</span><a href="#39553839">next</a><span>|</span><label class="collapse" for="c-39553450">[-]</label><label class="expand" for="c-39553450">[1 more]</label></div><br/><div class="children"><div class="content">Nope</div><br/></div></div></div></div></div></div><div id="39553839" class="c"><input type="checkbox" id="c-39553839" checked=""/><div class="controls bullet"><span class="by">salviati</span><span>|</span><a href="#39552852">parent</a><span>|</span><a href="#39553111">prev</a><span>|</span><a href="#39553143">next</a><span>|</span><label class="collapse" for="c-39553839">[-]</label><label class="expand" for="c-39553839">[3 more]</label></div><br/><div class="children"><div class="content">You can save a few chars with a process sostitution instead of a pipe if you&#x27;re using bash:<p><pre><code>    man -l &lt;(curl -sL -H &quot;Accept: text&#x2F;roff&quot; https:&#x2F;&#x2F;jamesg.blog&#x2F;2024&#x2F;02&#x2F;28&#x2F;programming-projects&#x2F;)</code></pre></div><br/><div id="39554728" class="c"><input type="checkbox" id="c-39554728" checked=""/><div class="controls bullet"><span class="by">hk__2</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39553839">parent</a><span>|</span><a href="#39553869">next</a><span>|</span><label class="collapse" for="c-39554728">[-]</label><label class="expand" for="c-39554728">[1 more]</label></div><br/><div class="children"><div class="content">If you’re into that you can save four more chars by using `-sLH Accept:text&#x2F;roff`</div><br/></div></div><div id="39553869" class="c"><input type="checkbox" id="c-39553869" checked=""/><div class="controls bullet"><span class="by">teaearlgraycold</span><span>|</span><a href="#39552852">root</a><span>|</span><a href="#39553839">parent</a><span>|</span><a href="#39554728">prev</a><span>|</span><a href="#39553143">next</a><span>|</span><label class="collapse" for="c-39553869">[-]</label><label class="expand" for="c-39553869">[1 more]</label></div><br/><div class="children"><div class="content">And the world rejoiced as the bytes were saved.</div><br/></div></div></div></div></div></div><div id="39553143" class="c"><input type="checkbox" id="c-39553143" checked=""/><div class="controls bullet"><span class="by">busfahrer</span><span>|</span><a href="#39552852">prev</a><span>|</span><a href="#39553580">next</a><span>|</span><label class="collapse" for="c-39553143">[-]</label><label class="expand" for="c-39553143">[6 more]</label></div><br/><div class="children"><div class="content">Speaking of URLs that do fancy stuff on the terminal, I once stumbled upon this one from textfiles.com, it&#x27;s essentially a short animated movie on the terminal using VT100 terminal codes, all served from a URI. On modern systems you can use rate-limiting to watch it:<p>curl --limit-rate 1000 <a href="http:&#x2F;&#x2F;textfiles.com&#x2F;sf&#x2F;STARTREK&#x2F;trek.vt" rel="nofollow">http:&#x2F;&#x2F;textfiles.com&#x2F;sf&#x2F;STARTREK&#x2F;trek.vt</a> &amp;&amp; reset<p>(the reset is there because it might mess up your terminal)<p>Other terminal-powered URIs:<p>curl cheat.sh&#x2F;tar (gets examples on how to use the program after the &#x2F;)<p>curl wttr.in&#x2F;berlin  (gets weather info with terminal formatting)</div><br/><div id="39559297" class="c"><input type="checkbox" id="c-39559297" checked=""/><div class="controls bullet"><span class="by">dancek</span><span>|</span><a href="#39553143">parent</a><span>|</span><a href="#39554680">next</a><span>|</span><label class="collapse" for="c-39559297">[-]</label><label class="expand" for="c-39559297">[1 more]</label></div><br/><div class="children"><div class="content">Years ago I made an ANSI art viewer with modem speed emulation. It has an outdated mirror of <a href="https:&#x2F;&#x2F;16colo.rs&#x2F;" rel="nofollow">https:&#x2F;&#x2F;16colo.rs&#x2F;</a> so most ANSI art that&#x27;s ever been published is viewable. See e.g.<p>curl ansi.hrtk.in&#x2F;ungenannt_1453.ans</div><br/></div></div><div id="39554680" class="c"><input type="checkbox" id="c-39554680" checked=""/><div class="controls bullet"><span class="by">hk__2</span><span>|</span><a href="#39553143">parent</a><span>|</span><a href="#39559297">prev</a><span>|</span><a href="#39558331">next</a><span>|</span><label class="collapse" for="c-39554680">[-]</label><label class="expand" for="c-39554680">[1 more]</label></div><br/><div class="children"><div class="content">If you want to do your own ASCII video via telnet, I did it in Go a few years back: <a href="https:&#x2F;&#x2F;github.com&#x2F;bfontaine&#x2F;RickASCIIRoll">https:&#x2F;&#x2F;github.com&#x2F;bfontaine&#x2F;RickASCIIRoll</a><p>It’s actually quite simple; the hardest part is to generate the frames but that can be done with ffmpeg+img2txt.py: <a href="https:&#x2F;&#x2F;github.com&#x2F;bfontaine&#x2F;RickASCIIRoll&#x2F;tree&#x2F;master&#x2F;moviemaker">https:&#x2F;&#x2F;github.com&#x2F;bfontaine&#x2F;RickASCIIRoll&#x2F;tree&#x2F;master&#x2F;movie...</a>.</div><br/></div></div><div id="39558331" class="c"><input type="checkbox" id="c-39558331" checked=""/><div class="controls bullet"><span class="by">ryukoposting</span><span>|</span><a href="#39553143">parent</a><span>|</span><a href="#39554680">prev</a><span>|</span><a href="#39555523">next</a><span>|</span><label class="collapse" for="c-39558331">[-]</label><label class="expand" for="c-39558331">[1 more]</label></div><br/><div class="children"><div class="content">Wow, this is really cool. It also completely borked my terminal! What fun.</div><br/></div></div><div id="39555523" class="c"><input type="checkbox" id="c-39555523" checked=""/><div class="controls bullet"><span class="by">kolme</span><span>|</span><a href="#39553143">parent</a><span>|</span><a href="#39558331">prev</a><span>|</span><a href="#39555328">next</a><span>|</span><label class="collapse" for="c-39555523">[-]</label><label class="expand" for="c-39555523">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s also star wars over telnet:<p><a href="https:&#x2F;&#x2F;itsfoss.com&#x2F;star-wars-linux&#x2F;" rel="nofollow">https:&#x2F;&#x2F;itsfoss.com&#x2F;star-wars-linux&#x2F;</a></div><br/></div></div><div id="39555328" class="c"><input type="checkbox" id="c-39555328" checked=""/><div class="controls bullet"><span class="by">anthk</span><span>|</span><a href="#39553143">parent</a><span>|</span><a href="#39555523">prev</a><span>|</span><a href="#39553580">next</a><span>|</span><label class="collapse" for="c-39555328">[-]</label><label class="expand" for="c-39555328">[1 more]</label></div><br/><div class="children"><div class="content">Use tritty to fake a 1200&#x2F;9600 BPS baud rate.</div><br/></div></div></div></div><div id="39553580" class="c"><input type="checkbox" id="c-39553580" checked=""/><div class="controls bullet"><span class="by">divbzero</span><span>|</span><a href="#39553143">prev</a><span>|</span><a href="#39553997">next</a><span>|</span><label class="collapse" for="c-39553580">[-]</label><label class="expand" for="c-39553580">[2 more]</label></div><br/><div class="children"><div class="content">Now all we need is a Markdown to roff converter… which apparently already exists.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;postmodern&#x2F;kramdown-man">https:&#x2F;&#x2F;github.com&#x2F;postmodern&#x2F;kramdown-man</a><p><a href="https:&#x2F;&#x2F;rtomayko.github.io&#x2F;ronn&#x2F;ronn.1.html" rel="nofollow">https:&#x2F;&#x2F;rtomayko.github.io&#x2F;ronn&#x2F;ronn.1.html</a><p><a href="https:&#x2F;&#x2F;kristaps.bsd.lv&#x2F;lowdown&#x2F;" rel="nofollow">https:&#x2F;&#x2F;kristaps.bsd.lv&#x2F;lowdown&#x2F;</a></div><br/><div id="39553669" class="c"><input type="checkbox" id="c-39553669" checked=""/><div class="controls bullet"><span class="by">ajvpot</span><span>|</span><a href="#39553580">parent</a><span>|</span><a href="#39553997">next</a><span>|</span><label class="collapse" for="c-39553669">[-]</label><label class="expand" for="c-39553669">[1 more]</label></div><br/><div class="children"><div class="content">I love pandoc[0] for tasks like this. It supports most markup formats I&#x27;ve needed.<p>[0]: <a href="https:&#x2F;&#x2F;pandoc.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;pandoc.org&#x2F;</a></div><br/></div></div></div></div><div id="39553997" class="c"><input type="checkbox" id="c-39553997" checked=""/><div class="controls bullet"><span class="by">medstrom</span><span>|</span><a href="#39553580">prev</a><span>|</span><a href="#39555429">next</a><span>|</span><label class="collapse" for="c-39553997">[-]</label><label class="expand" for="c-39553997">[3 more]</label></div><br/><div class="children"><div class="content">There is an Emacs package that installs Abelson &amp; Sussman&#x27;s SICP (Structure and Interpretation of Computer Programs) into the Info directory.<p>Simply type M-x package-install sicp RET<p>That gave me the idea that one could install a whole bookshelf of blog archives through some modified feed reader.  Reading Info in Emacs, you even get bookmarks.</div><br/><div id="39554075" class="c"><input type="checkbox" id="c-39554075" checked=""/><div class="controls bullet"><span class="by">felideon</span><span>|</span><a href="#39553997">parent</a><span>|</span><a href="#39555429">next</a><span>|</span><label class="collapse" for="c-39554075">[-]</label><label class="expand" for="c-39554075">[2 more]</label></div><br/><div class="children"><div class="content">FYI, SICP is from Abelson and Sussman.</div><br/><div id="39554095" class="c"><input type="checkbox" id="c-39554095" checked=""/><div class="controls bullet"><span class="by">medstrom</span><span>|</span><a href="#39553997">root</a><span>|</span><a href="#39554075">parent</a><span>|</span><a href="#39555429">next</a><span>|</span><label class="collapse" for="c-39554095">[-]</label><label class="expand" for="c-39554095">[1 more]</label></div><br/><div class="children"><div class="content">My bad, thanks.</div><br/></div></div></div></div></div></div><div id="39555429" class="c"><input type="checkbox" id="c-39555429" checked=""/><div class="controls bullet"><span class="by">darkwater</span><span>|</span><a href="#39553997">prev</a><span>|</span><a href="#39552887">next</a><span>|</span><label class="collapse" for="c-39555429">[-]</label><label class="expand" for="c-39555429">[4 more]</label></div><br/><div class="children"><div class="content">Maybe I can search the interwebs to answer this question but I prefer to ask the HN crowd. Back in highschool in remember someone (on an HP-UX) showing me that you could jump to any underlined word (referring to a section) by pressing some key combination, but for the life of me I cannot remember which.
I already checked man(1) and man(7), and could not find it either. Maybe this is just a fake memory?</div><br/><div id="39555602" class="c"><input type="checkbox" id="c-39555602" checked=""/><div class="controls bullet"><span class="by">epcoa</span><span>|</span><a href="#39555429">parent</a><span>|</span><a href="#39552887">next</a><span>|</span><label class="collapse" for="c-39555602">[-]</label><label class="expand" for="c-39555602">[3 more]</label></div><br/><div class="children"><div class="content">I’m not familiar with any custom man viewer functionality but maybe you&#x27;re thinking of the CDE help viewer, dthelpview which would display man pages.</div><br/><div id="39555806" class="c"><input type="checkbox" id="c-39555806" checked=""/><div class="controls bullet"><span class="by">darkwater</span><span>|</span><a href="#39555429">root</a><span>|</span><a href="#39555602">parent</a><span>|</span><a href="#39552887">next</a><span>|</span><label class="collapse" for="c-39555806">[-]</label><label class="expand" for="c-39555806">[2 more]</label></div><br/><div class="children"><div class="content">No, it was in a dumb text terminal. But maybe I just made it up, and I&#x27;m confusing it with classic &quot;hjkl&quot; navigation.</div><br/><div id="39559492" class="c"><input type="checkbox" id="c-39559492" checked=""/><div class="controls bullet"><span class="by">enriquto</span><span>|</span><a href="#39555429">root</a><span>|</span><a href="#39555806">parent</a><span>|</span><a href="#39552887">next</a><span>|</span><label class="collapse" for="c-39559492">[-]</label><label class="expand" for="c-39559492">[1 more]</label></div><br/><div class="children"><div class="content">you can, from inside vim.  You press &quot;K&quot; over a  word and it opens the manpage.  If you have configured vim as your manpage viewer, you can thus navigate all manpages.</div><br/></div></div></div></div></div></div></div></div><div id="39552887" class="c"><input type="checkbox" id="c-39552887" checked=""/><div class="controls bullet"><span class="by">masto</span><span>|</span><a href="#39555429">prev</a><span>|</span><a href="#39558515">next</a><span>|</span><label class="collapse" for="c-39552887">[-]</label><label class="expand" for="c-39552887">[6 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t know why this particular thing set off my pedanticism. Someone is slightly wrong on the Internet! Maybe because it started right off being needlessly Linux-centric. Or that I thought it would be one thing but it turned out to be a brief demo of content negotiation in NGINX.<p>In any case, a few pointless things that I seem compelled to say:<p>* It&#x27;s not returning roff, as such. Those things like `.TH` are not part of roff, they are part of the macro package for writing man pages.
* I was disappointed that there was no markdown-to-roff conversion, which seemed like it was going to be the interesting part of this post. At least use one of the existing ones.
* On a similar note, this means that the text isn&#x27;t really formatted correctly. roff is meant for one sentence per line of input, to distinguish between `.` to end a sentence vs. other uses.
* Also also wik, this means that any line starting with a `.` will be interpreted as a command, potentially wreaking havoc.<p>Or maybe I&#x27;m just a grumpy old man.</div><br/><div id="39553086" class="c"><input type="checkbox" id="c-39553086" checked=""/><div class="controls bullet"><span class="by">zerojames</span><span>|</span><a href="#39552887">parent</a><span>|</span><a href="#39553156">next</a><span>|</span><label class="collapse" for="c-39553086">[-]</label><label class="expand" for="c-39553086">[2 more]</label></div><br/><div class="children"><div class="content">I appreciate you sharing this! I wasn&#x27;t aware of the exact ontology of how roff vs. man relate, and I went through several iterations of this post trying to get this right. There being other tools -- groff, nroff, etc. -- added to my confusion. A blog post unto itself is &quot;here is what roff&#x2F;man page&#x2F;nroff&#x2F;other variants are, here&#x27;s how to use them.&quot; I would have appreciated a succinct description; I&#x27;m sure others would, too.<p>As for markdown to roff, I thought about it as a v2. As I started to think about implementing a parser, someone shared <a href="https:&#x2F;&#x2F;github.com&#x2F;sunaku&#x2F;md2man">https:&#x2F;&#x2F;github.com&#x2F;sunaku&#x2F;md2man</a> with me, which appears to solve the problem.<p>I&#x27;d need to figure out how to integrate this into my (Python) site that is built on GitHub Pages; a bit of tinkering would be required :D</div><br/></div></div><div id="39553156" class="c"><input type="checkbox" id="c-39553156" checked=""/><div class="controls bullet"><span class="by">jorams</span><span>|</span><a href="#39552887">parent</a><span>|</span><a href="#39553086">prev</a><span>|</span><a href="#39558515">next</a><span>|</span><label class="collapse" for="c-39553156">[-]</label><label class="expand" for="c-39553156">[3 more]</label></div><br/><div class="children"><div class="content">&gt; * I was disappointed that there was no markdown-to-roff conversion<p>I found this rather surprising too. Pandoc can trivially convert markdown to man-page roff. Insert that into the given template and it looks like more like an actual man page.</div><br/><div id="39553192" class="c"><input type="checkbox" id="c-39553192" checked=""/><div class="controls bullet"><span class="by">zerojames</span><span>|</span><a href="#39552887">root</a><span>|</span><a href="#39553156">parent</a><span>|</span><a href="#39558515">next</a><span>|</span><label class="collapse" for="c-39553192">[-]</label><label class="expand" for="c-39553192">[2 more]</label></div><br/><div class="children"><div class="content">Good suggestion!<p>Context: All man pages are generated on the fly on GitHub Pages. My site generates ~2500 pages, for which 826 are eligible for a man page. I didn&#x27;t want to introduce another parser since I just got my site build times down :D<p>I can counter increased build times with caching, but it gets a bit icky since some blog pages are evergreen (i.e. my blogroll). [insert cache invalidation complaint here] But there&#x27;s certainly a way!</div><br/><div id="39555414" class="c"><input type="checkbox" id="c-39555414" checked=""/><div class="controls bullet"><span class="by">jorams</span><span>|</span><a href="#39552887">root</a><span>|</span><a href="#39553192">parent</a><span>|</span><a href="#39558515">next</a><span>|</span><label class="collapse" for="c-39555414">[-]</label><label class="expand" for="c-39555414">[1 more]</label></div><br/><div class="children"><div class="content">I feel that, build times can be a pain. I&#x27;m calling out to pandoc to build a static site and I&#x27;ve had to parallelize it to get build times down, and that&#x27;s with far fewer pages.</div><br/></div></div></div></div></div></div></div></div><div id="39558515" class="c"><input type="checkbox" id="c-39558515" checked=""/><div class="controls bullet"><span class="by">sureglymop</span><span>|</span><a href="#39552887">prev</a><span>|</span><a href="#39559215">next</a><span>|</span><label class="collapse" for="c-39558515">[-]</label><label class="expand" for="c-39558515">[1 more]</label></div><br/><div class="children"><div class="content">I did a somewhat similar thing on my portfolio page. The server recognizes curl and wget and then serves the page as plaintext.
If a PDF is requested, it sends my CV. My idea is that if a recruiter overcomes that first hurdle of getting to the CV, then I may as well hear them out.</div><br/></div></div><div id="39559215" class="c"><input type="checkbox" id="c-39559215" checked=""/><div class="controls bullet"><span class="by">notorandit</span><span>|</span><a href="#39558515">prev</a><span>|</span><a href="#39556363">next</a><span>|</span><label class="collapse" for="c-39559215">[-]</label><label class="expand" for="c-39559215">[1 more]</label></div><br/><div class="children"><div class="content">Unix man pages. Man pages were here  since long before Linux existed!</div><br/></div></div><div id="39556363" class="c"><input type="checkbox" id="c-39556363" checked=""/><div class="controls bullet"><span class="by">urbandw311er</span><span>|</span><a href="#39559215">prev</a><span>|</span><a href="#39558295">next</a><span>|</span><label class="collapse" for="c-39556363">[-]</label><label class="expand" for="c-39556363">[1 more]</label></div><br/><div class="children"><div class="content">Little real world application, super fun challenge. This is why I come here.</div><br/></div></div><div id="39552632" class="c"><input type="checkbox" id="c-39552632" checked=""/><div class="controls bullet"><span class="by">nulbyte</span><span>|</span><a href="#39558295">prev</a><span>|</span><a href="#39552770">next</a><span>|</span><label class="collapse" for="c-39552632">[-]</label><label class="expand" for="c-39552632">[2 more]</label></div><br/><div class="children"><div class="content">I never thought of making a blog post a man page. That&#x27;s pretty awesome, actually. I&#x27;d be interested to see the code for the underlying conversion, but maybe I&#x27;ll just try my hand at it myself this weekend.<p>Btw, in Bash, you can use process substitution to avoid littering your folder with files, if you don&#x27;t want to save them:<p>$ man &lt;(curl ...)</div><br/><div id="39553198" class="c"><input type="checkbox" id="c-39553198" checked=""/><div class="controls bullet"><span class="by">rahimnathwani</span><span>|</span><a href="#39552632">parent</a><span>|</span><a href="#39552770">next</a><span>|</span><label class="collapse" for="c-39553198">[-]</label><label class="expand" for="c-39553198">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I&#x27;d be interested to see the code for the underlying conversion<p>The post includes the template he used. You can adapt it to any templating engine or put some placeholders in and use sed or whatever.</div><br/></div></div></div></div><div id="39552770" class="c"><input type="checkbox" id="c-39552770" checked=""/><div class="controls bullet"><span class="by">worble</span><span>|</span><a href="#39552632">prev</a><span>|</span><a href="#39553674">next</a><span>|</span><label class="collapse" for="c-39552770">[-]</label><label class="expand" for="c-39552770">[2 more]</label></div><br/><div class="children"><div class="content">Cool idea. I&#x27;m starting on the timer until we get &quot;serving my blog posts as playable DOOM wads&quot;.</div><br/><div id="39552821" class="c"><input type="checkbox" id="c-39552821" checked=""/><div class="controls bullet"><span class="by">vonjuice</span><span>|</span><a href="#39552770">parent</a><span>|</span><a href="#39553674">next</a><span>|</span><label class="collapse" for="c-39552821">[-]</label><label class="expand" for="c-39552821">[1 more]</label></div><br/><div class="children"><div class="content">Add it to the list of the handful of actually cool things that AI could facilitate.</div><br/></div></div></div></div><div id="39553674" class="c"><input type="checkbox" id="c-39553674" checked=""/><div class="controls bullet"><span class="by">dpassens</span><span>|</span><a href="#39552770">prev</a><span>|</span><a href="#39558227">next</a><span>|</span><label class="collapse" for="c-39553674">[-]</label><label class="expand" for="c-39553674">[1 more]</label></div><br/><div class="children"><div class="content">The correct media type would be text&#x2F;troff, as per RFC 4263 (<a href="https:&#x2F;&#x2F;www.rfc-editor.org&#x2F;rfc&#x2F;rfc4263.html" rel="nofollow">https:&#x2F;&#x2F;www.rfc-editor.org&#x2F;rfc&#x2F;rfc4263.html</a>).</div><br/></div></div><div id="39558227" class="c"><input type="checkbox" id="c-39558227" checked=""/><div class="controls bullet"><span class="by">akritid</span><span>|</span><a href="#39553674">prev</a><span>|</span><a href="#39555352">next</a><span>|</span><label class="collapse" for="c-39558227">[-]</label><label class="expand" for="c-39558227">[1 more]</label></div><br/><div class="children"><div class="content">With some plumbing, it should be possible to follow links: match the URL with regex using the terminal and launch the link target in a new window.</div><br/></div></div><div id="39555352" class="c"><input type="checkbox" id="c-39555352" checked=""/><div class="controls bullet"><span class="by">harryvederci</span><span>|</span><a href="#39558227">prev</a><span>|</span><a href="#39553910">next</a><span>|</span><label class="collapse" for="c-39555352">[-]</label><label class="expand" for="c-39555352">[1 more]</label></div><br/><div class="children"><div class="content">I feel like this is too accessible.<p>Anyone doing this but with Vim help files?</div><br/></div></div><div id="39553910" class="c"><input type="checkbox" id="c-39553910" checked=""/><div class="controls bullet"><span class="by">jedberg</span><span>|</span><a href="#39555352">prev</a><span>|</span><a href="#39553316">next</a><span>|</span><label class="collapse" for="c-39553910">[-]</label><label class="expand" for="c-39553910">[1 more]</label></div><br/><div class="children"><div class="content">Ironically it breaks when you request <i>this</i> page as a man page. :)</div><br/></div></div><div id="39553316" class="c"><input type="checkbox" id="c-39553316" checked=""/><div class="controls bullet"><span class="by">rahimnathwani</span><span>|</span><a href="#39553910">prev</a><span>|</span><a href="#39554546">next</a><span>|</span><label class="collapse" for="c-39553316">[-]</label><label class="expand" for="c-39553316">[1 more]</label></div><br/><div class="children"><div class="content">If you like this you might like mdless, which does exactly what the name suggests.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;ttscoff&#x2F;mdless">https:&#x2F;&#x2F;github.com&#x2F;ttscoff&#x2F;mdless</a></div><br/></div></div><div id="39554546" class="c"><input type="checkbox" id="c-39554546" checked=""/><div class="controls bullet"><span class="by">adriangrigore</span><span>|</span><a href="#39553316">prev</a><span>|</span><a href="#39553205">next</a><span>|</span><label class="collapse" for="c-39554546">[-]</label><label class="expand" for="c-39554546">[2 more]</label></div><br/><div class="children"><div class="content">I prefer my own UNIX web dev solution <a href="https:&#x2F;&#x2F;mkws.sh" rel="nofollow">https:&#x2F;&#x2F;mkws.sh</a>! Man pages ar too much imo.</div><br/><div id="39554620" class="c"><input type="checkbox" id="c-39554620" checked=""/><div class="controls bullet"><span class="by">hk__2</span><span>|</span><a href="#39554546">parent</a><span>|</span><a href="#39553205">next</a><span>|</span><label class="collapse" for="c-39554620">[-]</label><label class="expand" for="c-39554620">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I prefer my own UNIX web dev solution <a href="https:&#x2F;&#x2F;mkws.sh" rel="nofollow">https:&#x2F;&#x2F;mkws.sh</a>! Man pages ar too much imo.<p>Those are orthogonal subjects; you could generate your own static page with your generator AND also serve them as manpages. The linked article does not suggest to server manpages to everyone, just to user agents that request them.</div><br/></div></div></div></div><div id="39553205" class="c"><input type="checkbox" id="c-39553205" checked=""/><div class="controls bullet"><span class="by">gglitch</span><span>|</span><a href="#39554546">prev</a><span>|</span><a href="#39550615">next</a><span>|</span><label class="collapse" for="c-39553205">[-]</label><label class="expand" for="c-39553205">[1 more]</label></div><br/><div class="children"><div class="content">Fun project :) Next step: Texinfo, which will output to info, html, and pdf, among others, and which includes links and indexes.</div><br/></div></div><div id="39550615" class="c"><input type="checkbox" id="c-39550615" checked=""/><div class="controls bullet"><span class="by">heartag</span><span>|</span><a href="#39553205">prev</a><span>|</span><a href="#39553219">next</a><span>|</span><label class="collapse" for="c-39550615">[-]</label><label class="expand" for="c-39550615">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s a fun idea, and well executed.</div><br/></div></div><div id="39553219" class="c"><input type="checkbox" id="c-39553219" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#39550615">prev</a><span>|</span><a href="#39553629">next</a><span>|</span><label class="collapse" for="c-39553219">[-]</label><label class="expand" for="c-39553219">[1 more]</label></div><br/><div class="children"><div class="content">Cool experiment, as means to serve UNIX man pages.</div><br/></div></div><div id="39556017" class="c"><input type="checkbox" id="c-39556017" checked=""/><div class="controls bullet"><span class="by">_xerces_</span><span>|</span><a href="#39553629">prev</a><span>|</span><a href="#39555273">next</a><span>|</span><label class="collapse" for="c-39556017">[-]</label><label class="expand" for="c-39556017">[1 more]</label></div><br/><div class="children"><div class="content">For the lazy or short of time, does with worth with tldr pages :)
<a href="https:&#x2F;&#x2F;tldr.sh&#x2F;" rel="nofollow">https:&#x2F;&#x2F;tldr.sh&#x2F;</a></div><br/></div></div><div id="39555273" class="c"><input type="checkbox" id="c-39555273" checked=""/><div class="controls bullet"><span class="by">anthk</span><span>|</span><a href="#39556017">prev</a><span>|</span><a href="#39552246">next</a><span>|</span><label class="collapse" for="c-39555273">[-]</label><label class="expand" for="c-39555273">[1 more]</label></div><br/><div class="children"><div class="content">WIth mandoc and maybe groff you can typeset pages to man pages, HTML, PS and PDF files.</div><br/></div></div><div id="39552246" class="c"><input type="checkbox" id="c-39552246" checked=""/><div class="controls bullet"><span class="by">Annatar</span><span>|</span><a href="#39555273">prev</a><span>|</span><a href="#39553825">next</a><span>|</span><label class="collapse" for="c-39552246">[-]</label><label class="expand" for="c-39552246">[2 more]</label></div><br/><div class="children"><div class="content">One could pipe that output directly to nroff or groff:<p><pre><code>  | soelim | tbl | eqn | nroff -man - | $PAGER

  | soelim | tbl | eqn | nroff -man -Tpost - | &#x2F;usr&#x2F;lib&#x2F;postscript&#x2F;bin&#x2F;dpost | ps2pdf - &gt; ~&#x2F;Desktop&#x2F;blog.PDF

  | soelim | tbl | eqn | groff -Tps -man - | ps2pdf - &gt; ~&#x2F;Desktop&#x2F;blog.PDF</code></pre></div><br/><div id="39555338" class="c"><input type="checkbox" id="c-39555338" checked=""/><div class="controls bullet"><span class="by">anthk</span><span>|</span><a href="#39552246">parent</a><span>|</span><a href="#39553825">next</a><span>|</span><label class="collapse" for="c-39555338">[-]</label><label class="expand" for="c-39555338">[1 more]</label></div><br/><div class="children"><div class="content">with groff you don&#x27;t need soelim | tbl...<p>just run<p><pre><code>       | groff -Tpdf -step -k &gt; ~&#x2F;Desktop&#x2F;blog.pdf</code></pre></div><br/></div></div></div></div><div id="39553245" class="c"><input type="checkbox" id="c-39553245" checked=""/><div class="controls bullet"><span class="by">throwaway81523</span><span>|</span><a href="#39552811">prev</a><span>|</span><label class="collapse" for="c-39553245">[-]</label><label class="expand" for="c-39553245">[1 more]</label></div><br/><div class="children"><div class="content">That doesn&#x27;t look like man pages.  Was it supposed to be an example?   (EDIT: oh nm, I see, I have to view the image.  Nice.  But the web view should also look like that.)<p>I noticed the &quot;written by human, not AI&quot; logo, a little too cute but the sentiment is good.  I had been thinking of putting something like &quot;this page created by natural stupidity&quot; in mine.</div><br/></div></div></div></div></div></div></div></body></html>