<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1688893260983" as="style"/><link rel="stylesheet" href="styles.css?v=1688893260983"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.morling.dev/blog/the-code-review-pyramid/">The Code Review Pyramid (2022)</a> <span class="domain">(<a href="https://www.morling.dev">www.morling.dev</a>)</span></div><div class="subtext"><span>rainhacker</span> | <span>68 comments</span></div><br/><div><div id="36652231" class="c"><input type="checkbox" id="c-36652231" checked=""/><div class="controls bullet"><span class="by">iovrthoughtthis</span><span>|</span><a href="#36652675">next</a><span>|</span><label class="collapse" for="c-36652231">[-]</label><label class="expand" for="c-36652231">[1 more]</label></div><br/><div class="children"><div class="content">I find this too concrete to be useful. I have a more principals &#x2F; tradeoffs approach to code review:<p>Areas:<p><pre><code>  - Readability - how understandable the code is
  - Maintainability - how the code enables the project to evolve
  - Risk - security, regulatory and other vulnerabilities
  - Correctness - whether the code does what you intended
  - Robustness - how well the code handles unintended circumstances
  - Performance - how resource efficient the code is
</code></pre>
All of the above areas need to be considered within the context of the project and individual team members.<p>## Readability<p>Code is readable if it meets your expectations and surprises you only when there&#x27;s something you don&#x27;t yet know about the technology. We expect code to look like the code around it. To follow most, if not all of the technologies idioms. To use clear and informative names. To explain why deviance exists. To be as abstract as the concepts being abstracted are crystallised.<p>## Maintainability<p>Maintainability is the code&#x27;s relationship with the wider team and time. You should be able to learn all you need to know to change, test and deploy code. You should be confident that any changes you make will not cause unintended changes elsewhere in the code. To make a change, you should have to touch as little code as the concepts being changed are crystallised. You should be able to debug an issue as easily as, the system the issue is in, is old. You should be able to track down and alter the changes that introduce a bug quickly. You should be able to learn why a change exists.<p>## Risk<p>Code is low risk if it accounts for, and where possible, mitigates the various risks to a project.<p>## Correctness<p>Correct code does as you expect and surprises you only when there something about the system you didn&#x27;t yet understand. Validating correct code is as automated as the validations are frequent. Correct code is only as complicated as the concepts it models. Correct code is only as abstract as the concepts it models are crystallised.<p>## Robustness<p>Robust code handles unexpected circumstances safely, quickly and predictably. Validating robust code is as automated as the validations are frequent and as comprehensive as the failures are risky.<p>## Performance<p>Performant code is as resource efficient as the resources are expensive, but also as efficient as the development costs are cheap.</div><br/></div></div><div id="36652675" class="c"><input type="checkbox" id="c-36652675" checked=""/><div class="controls bullet"><span class="by">nlnn</span><span>|</span><a href="#36652231">prev</a><span>|</span><a href="#36650247">next</a><span>|</span><label class="collapse" for="c-36652675">[-]</label><label class="expand" for="c-36652675">[1 more]</label></div><br/><div class="children"><div class="content">One goal that I think often gets missed out of code review guides is education.<p>To me, code review is not just there to produce better software, but also better developers.<p>It&#x27;s a great place to talk about tradeoffs, alternative approaches, reasoning behind changes, etc.<p>Maybe less useful in huge projects with many contractors you&#x27;re never going to work with again, but I&#x27;ve seen the mentoring aspect have great benefits in small teams.</div><br/></div></div><div id="36650247" class="c"><input type="checkbox" id="c-36650247" checked=""/><div class="controls bullet"><span class="by">Pannoniae</span><span>|</span><a href="#36652675">prev</a><span>|</span><a href="#36652746">next</a><span>|</span><label class="collapse" for="c-36650247">[-]</label><label class="expand" for="c-36650247">[16 more]</label></div><br/><div class="children"><div class="content">From what I&#x27;ve seen so far, people <i>love</i> debating code style.<p>The main problem is that those programmers mostly care about superficial syntax and don&#x27;t actually care about code readability or design. They just go for the lowest hanging fruit and criticise variable naming or whitespace because it is easy; they don&#x27;t talk about the object graph or the event lifecycle of the program, because that&#x27;s hard.<p>A very common thing I see nowadays is a forced adoption of gofmt&#x2F;black&#x2F;whatever, hoping it would solve the obsession with the formatting. However, this just locks in a (often substandard) coding style and removes <i>any</i> kind of personality from the code. This is good if you are a manager trying to treat your employees as fungible units of work, but is bad for actually maintaining a codebase. Also, it doesn&#x27;t stop obsession with style, it just forces a specific style on everyone which most of the time, everyone slightly hates.<p>This is a really good article which summarises the problem way better than me. <a href="https:&#x2F;&#x2F;luminousmen.com&#x2F;post&#x2F;my-unpopular-opinion-about-black-code-formatter" rel="nofollow noreferrer">https:&#x2F;&#x2F;luminousmen.com&#x2F;post&#x2F;my-unpopular-opinion-about-blac...</a></div><br/><div id="36652863" class="c"><input type="checkbox" id="c-36652863" checked=""/><div class="controls bullet"><span class="by">benrutter</span><span>|</span><a href="#36650247">parent</a><span>|</span><a href="#36650380">next</a><span>|</span><label class="collapse" for="c-36652863">[-]</label><label class="expand" for="c-36652863">[1 more]</label></div><br/><div class="children"><div class="content">I definitely agree that Black (which I love) is pretty overrated in the number of problems people think it will solve for them. But I just don&#x27;t get this view<p>&gt; removes <i>any</i> kind of personality from the code<p>What kind of personality comes from things like pefering &quot; over &#x27;; having tabs over spaces; having n spaces between class methods?<p>For me, those things are essentially meaningless but nice to have consistency on. Code personality, and a large part of readability comes from things like:
- variable &#x2F; class names
- functional vs oop problem solving
- type use
- custom data structures or not etc<p>None of those have are locked down or touched by a lint tool like Black. Use it or don&#x27;t, but you&#x27;ll have plenty of personality in your code either way.</div><br/></div></div><div id="36650380" class="c"><input type="checkbox" id="c-36650380" checked=""/><div class="controls bullet"><span class="by">tharkun__</span><span>|</span><a href="#36650247">parent</a><span>|</span><a href="#36652863">prev</a><span>|</span><a href="#36650360">next</a><span>|</span><label class="collapse" for="c-36650380">[-]</label><label class="expand" for="c-36650380">[6 more]</label></div><br/><div class="children"><div class="content">I found your comment insightful until the &quot;(often substandard)&quot; part. This betrays the rest of your comment. You start out saying how arguing specific indentation style is superficial but then betray this with that comment. If it truly is superficial then it does not matter what you lock in as long as you lock it in.<p>As with many things it&#x27;s not actually a technical problem. It&#x27;s a social problem. And it can work. Where I am right now for example we do have formatting locked in and enforced by linters. And it&#x27;s not an issue there&#x27;s no debate about it in regular PRs at all. The code formatter adjusts it and that&#x27;s that. If you want to change it, create a PR that changes the rules and put a cross section of developers on said PR to discuss it. Happens from time to time but not often and works well.</div><br/><div id="36650459" class="c"><input type="checkbox" id="c-36650459" checked=""/><div class="controls bullet"><span class="by">Pannoniae</span><span>|</span><a href="#36650247">root</a><span>|</span><a href="#36650380">parent</a><span>|</span><a href="#36651055">next</a><span>|</span><label class="collapse" for="c-36650459">[-]</label><label class="expand" for="c-36650459">[4 more]</label></div><br/><div class="children"><div class="content">I say &quot;often substandard&quot;.... because, honestly, it just is. For example, breaking long logging lines into multiple lines decreases readability, but the formatter doesn&#x27;t care because it only sees the max. line length and that&#x27;s it.
Same with breaking long function definitions: it doesn&#x27;t consider what makes sense or what is readable, it just messes the code up. Similarly, some projects differentiate between single and double quotes (e.g. single quotes for data, double quotes for userstrings), and this just drives a tank over it.<p>Or completely disallow tabs, even when it&#x27;s necessary for accessibility, like with screen readers (not even PEP8 enforces spaces, but black decides to without a configuration option)<p>Same with whitespace: it refuses you to add more than 1 (or 2, can&#x27;t remember) empty lines inside a function, even when it would be more readable to space it out.<p>I heavily disagree with the assumption that consistency is better than readability. I believe that people can be civilised and not change each other&#x27;s code just for the sake of formatting nitpicks, only when they actually edit the code.</div><br/><div id="36650540" class="c"><input type="checkbox" id="c-36650540" checked=""/><div class="controls bullet"><span class="by">tayo42</span><span>|</span><a href="#36650247">root</a><span>|</span><a href="#36650459">parent</a><span>|</span><a href="#36651055">next</a><span>|</span><label class="collapse" for="c-36650540">[-]</label><label class="expand" for="c-36650540">[3 more]</label></div><br/><div class="children"><div class="content">Black not being configurable and getting popular is lame.<p>Every project should be able to argue once about style, what is important then just apply that going foward with a configurable style checker.</div><br/><div id="36651390" class="c"><input type="checkbox" id="c-36651390" checked=""/><div class="controls bullet"><span class="by">sixstringtheory</span><span>|</span><a href="#36650247">root</a><span>|</span><a href="#36650540">parent</a><span>|</span><a href="#36651055">next</a><span>|</span><label class="collapse" for="c-36651390">[-]</label><label class="expand" for="c-36651390">[2 more]</label></div><br/><div class="children"><div class="content">If it’s configurable, then it’s never settled. People will find reasons to want to change it, or someone new will come in that used a better config at their last job.</div><br/><div id="36652291" class="c"><input type="checkbox" id="c-36652291" checked=""/><div class="controls bullet"><span class="by">pyrale</span><span>|</span><a href="#36650247">root</a><span>|</span><a href="#36651390">parent</a><span>|</span><a href="#36651055">next</a><span>|</span><label class="collapse" for="c-36652291">[-]</label><label class="expand" for="c-36652291">[1 more]</label></div><br/><div class="children"><div class="content">&gt;  People will find reasons to want to change it, or someone new will come in that used a better config at their last job.<p>This is fine. Discussing code style once in a while is not a problem. What&#x27;s a problem is discussing it at every PR.<p>Having to endure through asinine style errors that no one in your team chose or even agrees with is worse than spending a couple hours every 6 months discussing a rule or two.</div><br/></div></div></div></div></div></div></div></div><div id="36651055" class="c"><input type="checkbox" id="c-36651055" checked=""/><div class="controls bullet"><span class="by">georgemcbay</span><span>|</span><a href="#36650247">root</a><span>|</span><a href="#36650380">parent</a><span>|</span><a href="#36650459">prev</a><span>|</span><a href="#36650360">next</a><span>|</span><label class="collapse" for="c-36651055">[-]</label><label class="expand" for="c-36651055">[1 more]</label></div><br/><div class="children"><div class="content">The lack of debate over line-to-line code style (because it is enforced by a standard formatter) is one of the reasons I still enjoy using Go, and that&#x27;s despite the fact that it doesn&#x27;t use what was my preferred C-era brace style.<p>Just absolutely eliminating it as something to worry or argue about is something a lot more languages could benefit from, IMO.<p>And yes, while other languages have third-party formatting and linting tools that can enforce an agreed-upon standard, in the real world that just never works out as well (once a codebase grows beyond a couple of contributors) as having it be truly standardized in the language itself.</div><br/></div></div></div></div><div id="36650360" class="c"><input type="checkbox" id="c-36650360" checked=""/><div class="controls bullet"><span class="by">eyelidlessness</span><span>|</span><a href="#36650247">parent</a><span>|</span><a href="#36650380">prev</a><span>|</span><a href="#36651982">next</a><span>|</span><label class="collapse" for="c-36650360">[-]</label><label class="expand" for="c-36650360">[4 more]</label></div><br/><div class="children"><div class="content">&gt; From what I&#x27;ve seen so far, people love debating code style.<p>In my experience with people who seemed to confirm this, the opposite turned out to be true. I spent an inordinate amount of time configuring linting and formatting to suit their tastes, to minimize any formatting subjectivity in code review. Their reviews got a lot more substantive and valuable pretty much immediately because their formatting concerns were evidently close enough to solved that they could pay attention to what the code actually did.<p>I’ve had similar success adopting formatting that <i>no one likes</i> just because it’s opinionated and no one gets to dispute it because they couldn’t if they wanted to without diverting resources to a new tool. Now we’re all unhappy with the formatting and still happy to be reviewing actual substance.<p>When the bad formatting gets in the way, it’s trivial to ask the question “is this just a whitespace change?” and everyone groans for a second, agrees that it is, and gets on with life.<p>And when there’s any remaining style considerations (oh you like, or don’t like, reduce?) that’s a much smaller space of style concerns to negotiate and settle.</div><br/><div id="36650472" class="c"><input type="checkbox" id="c-36650472" checked=""/><div class="controls bullet"><span class="by">Pannoniae</span><span>|</span><a href="#36650247">root</a><span>|</span><a href="#36650360">parent</a><span>|</span><a href="#36651982">next</a><span>|</span><label class="collapse" for="c-36650472">[-]</label><label class="expand" for="c-36650472">[3 more]</label></div><br/><div class="children"><div class="content">I think this is just accommodating anti-social behaviour, IMO. I think the correct choice of action is simply rooting the problem out by penalising comments about style on code review, so they focus on the substance of the code instead. Yes, this will require a period of uncomfortability while everyone gets used to each other&#x27;s varied code styles, but it promotes a much more healthier atmosphere than the &quot;suck it up&quot; approach of unifying all code. That doesn&#x27;t solve the problem, that just masks it by putting the code through a shredder so style gets lost.</div><br/><div id="36650939" class="c"><input type="checkbox" id="c-36650939" checked=""/><div class="controls bullet"><span class="by">eyelidlessness</span><span>|</span><a href="#36650247">root</a><span>|</span><a href="#36650472">parent</a><span>|</span><a href="#36650731">next</a><span>|</span><label class="collapse" for="c-36650939">[-]</label><label class="expand" for="c-36650939">[1 more]</label></div><br/><div class="children"><div class="content">I have a ton of code style preferences that I’m thrilled to put on the back burner to accomplish really much more important things with my team. I can express my individuality and let my whitespace and brace freak flag fly on personal projects, and <i>I can even have more energy to get those adopted into core work if I want to</i>, because my daily work isn’t burdened by formatting preference taking away from much more important concerns like whether the thing actually works, has acceptable performance and usability and accessibility characteristics, and can be maintained on a continuous basis.<p>It’s not that anyone else has felt stifled by this either. Everyone <i>everyone</i> contributing has welcomed the automated formatting dictator. We’ve all felt the benefit of not focusing review on stuff that doesn’t impact users.<p>If you really want to express yourself in code formatting, go wild on your own time and enjoy the free time you have for it by not putting it in the middle of otherwise meaningful work.</div><br/></div></div><div id="36650731" class="c"><input type="checkbox" id="c-36650731" checked=""/><div class="controls bullet"><span class="by">bluGill</span><span>|</span><a href="#36650247">root</a><span>|</span><a href="#36650472">parent</a><span>|</span><a href="#36650939">prev</a><span>|</span><a href="#36651982">next</a><span>|</span><label class="collapse" for="c-36650731">[-]</label><label class="expand" for="c-36650731">[1 more]</label></div><br/><div class="children"><div class="content">A consistent style is useful. It doesn&#x27;t matter much what it is, but consistency means you can jump into unfamiliar code and not get misled by a different style that makes some block not appear how it actually functions.</div><br/></div></div></div></div></div></div><div id="36651982" class="c"><input type="checkbox" id="c-36651982" checked=""/><div class="controls bullet"><span class="by">__loam</span><span>|</span><a href="#36650247">parent</a><span>|</span><a href="#36650360">prev</a><span>|</span><a href="#36652562">next</a><span>|</span><label class="collapse" for="c-36651982">[-]</label><label class="expand" for="c-36651982">[1 more]</label></div><br/><div class="children"><div class="content">Code should not have personality. If you&#x27;re working in a massive code base and people can tell you wrote code, that&#x27;s probably an indictment on your code more than whatever style the company has chosen to use. Homogeneous code bases are the goal.</div><br/></div></div><div id="36652562" class="c"><input type="checkbox" id="c-36652562" checked=""/><div class="controls bullet"><span class="by">KronisLV</span><span>|</span><a href="#36650247">parent</a><span>|</span><a href="#36651982">prev</a><span>|</span><a href="#36651202">next</a><span>|</span><label class="collapse" for="c-36652562">[-]</label><label class="expand" for="c-36652562">[1 more]</label></div><br/><div class="children"><div class="content">&gt; However, this just locks in a (often substandard) coding style and removes any kind of personality from the code. This is good if you are a manager trying to treat your employees as fungible units of work, but is bad for actually maintaining a codebase.<p>Is it bad, though? Having most of the code in the codebase look and read consistently feels like a good thing, even if that&#x27;s not the style that you&#x27;d personally prefer. Especially if the formatter does its thing whenever you save a file.</div><br/></div></div><div id="36651202" class="c"><input type="checkbox" id="c-36651202" checked=""/><div class="controls bullet"><span class="by">BurningFrog</span><span>|</span><a href="#36650247">parent</a><span>|</span><a href="#36652562">prev</a><span>|</span><a href="#36650444">next</a><span>|</span><label class="collapse" for="c-36651202">[-]</label><label class="expand" for="c-36651202">[1 more]</label></div><br/><div class="children"><div class="content">Unfortunately, variable naming is one of the most important parts of writing software.</div><br/></div></div><div id="36650444" class="c"><input type="checkbox" id="c-36650444" checked=""/><div class="controls bullet"><span class="by">jvans</span><span>|</span><a href="#36650247">parent</a><span>|</span><a href="#36651202">prev</a><span>|</span><a href="#36652746">next</a><span>|</span><label class="collapse" for="c-36650444">[-]</label><label class="expand" for="c-36650444">[1 more]</label></div><br/><div class="children"><div class="content">it&#x27;s a classic bike shedding exercise: <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Law_of_triviality" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Law_of_triviality</a></div><br/></div></div></div></div><div id="36652746" class="c"><input type="checkbox" id="c-36652746" checked=""/><div class="controls bullet"><span class="by">ozim</span><span>|</span><a href="#36650247">prev</a><span>|</span><a href="#36651434">next</a><span>|</span><label class="collapse" for="c-36652746">[-]</label><label class="expand" for="c-36652746">[2 more]</label></div><br/><div class="children"><div class="content">Code style and “are tests passing” should not even be there.<p>Code style should be automated same as running tests when someone creates PR.</div><br/><div id="36652872" class="c"><input type="checkbox" id="c-36652872" checked=""/><div class="controls bullet"><span class="by">hakre</span><span>|</span><a href="#36652746">parent</a><span>|</span><a href="#36651434">next</a><span>|</span><label class="collapse" for="c-36652872">[-]</label><label class="expand" for="c-36652872">[1 more]</label></div><br/><div class="children"><div class="content">Your relatively short comment caught my interest and I&#x27;d like to learn more about your thoughts.<p>As, IMHO it depends (as so often). Code review is commonly the place that puts the current style under test (hence automated otherwise you don&#x27;t have the results during review) and under review.<p>E.g. Code review finds out if a code-style is missing, incomplete or even outright wrong.<p>If that approach is taken, passing tests and code-style must be in there, otherwise it is not useful to argue about violations. From my understanding I would therefore see those results be available during review.<p>It may also be that there is code-style for automated test-code, and that code part of the review. Without taken this into context of the code-review, I miss a bit the boundary of your comment.<p>Could you elaborate a bit where you draw the line and why? E.g. I can imagine there is a benefit to keep a distinct context for code-reviews so that they are still practically feasible and those parts that need further adoption are put into a different phase, like steps before (preparation of the current increment) or after (preparation of next increments) the code-review itself.</div><br/></div></div></div></div><div id="36651434" class="c"><input type="checkbox" id="c-36651434" checked=""/><div class="controls bullet"><span class="by">barbariangrunge</span><span>|</span><a href="#36652746">prev</a><span>|</span><a href="#36650106">next</a><span>|</span><label class="collapse" for="c-36651434">[-]</label><label class="expand" for="c-36651434">[2 more]</label></div><br/><div class="children"><div class="content">Is this just a way of saying, “stop wasting all your review time on the style guide and look at the system design”?<p>Although, the style guide should just be followed and fixed before you get to code review phase. That’s just a matter of professionalism</div><br/><div id="36651761" class="c"><input type="checkbox" id="c-36651761" checked=""/><div class="controls bullet"><span class="by">int0x2e</span><span>|</span><a href="#36651434">parent</a><span>|</span><a href="#36650106">next</a><span>|</span><label class="collapse" for="c-36651761">[-]</label><label class="expand" for="c-36651761">[1 more]</label></div><br/><div class="children"><div class="content">At a former team, we went from spending quite a bit of time on code style comments and disagreements to spending no time at all on it, with the simple act of making the code linter a breaking step in our CI build, and deciding no review will start until the build is green.<p>We had to adjust our linter settings here and there - but it was still super efficient for everyone&#x27;s time compared to what we had before...<p>I can&#x27;t recommend this more.</div><br/></div></div></div></div><div id="36650106" class="c"><input type="checkbox" id="c-36650106" checked=""/><div class="controls bullet"><span class="by">alexjurkiewicz</span><span>|</span><a href="#36651434">prev</a><span>|</span><a href="#36650920">next</a><span>|</span><label class="collapse" for="c-36650106">[-]</label><label class="expand" for="c-36650106">[2 more]</label></div><br/><div class="children"><div class="content">If you are reviewing implementation semantics after someone has already coded a feature, I&#x27;d say it&#x27;s too late. You might catch issues, but the loss of goodwill and wasted productivity will make everyone hate code review.<p>I think this pyramid is accurate but better framed as a &quot;review pyramid&quot;. Catch semantic issues in an earlier phase (informal discussion or rfc-style proposal document).</div><br/><div id="36652022" class="c"><input type="checkbox" id="c-36652022" checked=""/><div class="controls bullet"><span class="by">dbish</span><span>|</span><a href="#36650106">parent</a><span>|</span><a href="#36650920">next</a><span>|</span><label class="collapse" for="c-36652022">[-]</label><label class="expand" for="c-36652022">[1 more]</label></div><br/><div class="children"><div class="content">That really depends on the size of the feature, but imho we should be reducing the need for meetings&#x2F;reviews, not adding more. Forcing design reviews just slows people down. Jeffy B&#x27;s &quot;communication is terrible&quot; are words to live by if you want fast moving engineers.</div><br/></div></div></div></div><div id="36650920" class="c"><input type="checkbox" id="c-36650920" checked=""/><div class="controls bullet"><span class="by">dang</span><span>|</span><a href="#36650106">prev</a><span>|</span><a href="#36651976">next</a><span>|</span><label class="collapse" for="c-36650920">[-]</label><label class="expand" for="c-36650920">[1 more]</label></div><br/><div class="children"><div class="content">Discussed at the time:<p><i>The Code Review Pyramid</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=30757206">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=30757206</a> - March 2022 (110 comments)<p><i>The Code Review Pyramid</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=30674159">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=30674159</a> - March 2022 (4 comments)</div><br/></div></div><div id="36651976" class="c"><input type="checkbox" id="c-36651976" checked=""/><div class="controls bullet"><span class="by">jimmaswell</span><span>|</span><a href="#36650920">prev</a><span>|</span><a href="#36652498">next</a><span>|</span><label class="collapse" for="c-36651976">[-]</label><label class="expand" for="c-36651976">[1 more]</label></div><br/><div class="children"><div class="content">In code review I absolutely hate armhair architects and backseat programmers who nitpick and theorize over every little architectural decision you made, every variable name, every loop, every comment (even complaining something is &#x2F;too well commented&#x2F;). They weren&#x27;t the one to dive into the problem and consider it and fix it but they think their knee jerk reactions are always more valid than the remote possibility you know what you&#x27;re doing as the person in the trenches. I&#x27;m going to paste a monologue I gave recently:<p>sometimes as people who care about our craft, we need to step back and keep the big picture in mind. the goal is to make a functioning website, or video game, or text editor. the user couldn&#x27;t care less about your code formatting, composition vs inheritance decisions, or commit messages. these are useful tools to the extent that they make it easier for yourself or others in the future to provide more value to the user.<p>at my job, people (mostly external contractors) might make pull requests with formatting annoyances, pointless null checks, getters and setters that have no reason to exist, useless comments, &quot;== true&quot;, things of that nature. I&#x27;d ask these to be fixed and sometimes they would be, but other times someone else would just come in and approve the PR themselves. 
I realized one day that not a single one of those ugly PR&#x27;s that made it through have ever come back to bite us in any way. everyone&#x27;s time was better spent continuing to work on providing value to the user instead.<p>I hold myself to a higher standard, but when reading others&#x27; code, I&#x27;ve found it really means nothing to me where they put the brackets or what naming convention they use, or even if they change these up randomly. I care that it does the thing, has no glaring red flags, looks appropriately performant for the problem at hand, and won&#x27;t be a maintenance nightmare (will spending 30 minutes changing something right now save at least 1 hour dealing with it later? will those code even be around by the time we get to that point, or replaced by something else? in many cases probably not, of course consider how foundational or isolated the code is.) in all my experience, any bikeshedding over aesthetics has proven to be a total waste of time.<p>if we&#x27;re making a thing that lets the people designing a website make a thing for the visitors, I care that the experience is good for the designer and the visitor, it does what it should, etc. and it&#x27;s <i>reasonably</i> maintainable, but I&#x27;m not going to drag someone into the bikeshed and beat them with the tire pump of subjective aesthetics until they rename their variables to my whimsies.</div><br/></div></div><div id="36652498" class="c"><input type="checkbox" id="c-36652498" checked=""/><div class="controls bullet"><span class="by">rotifer</span><span>|</span><a href="#36651976">prev</a><span>|</span><a href="#36649842">next</a><span>|</span><label class="collapse" for="c-36652498">[-]</label><label class="expand" for="c-36652498">[1 more]</label></div><br/><div class="children"><div class="content">I write and review medical software.  When I&#x27;m reviewing code the most important question is, &quot;Is it correct?&quot;  If it&#x27;s not, then the review simply isn&#x27;t approved (obviously).<p>Anything that makes it harder to determine correctness is a strike against the code.  This can include anything from high level organization, to comments, to the naming of variables, to the use of whitespace.  For example, with respect to variable names, if you&#x27;re implementing something that has to conform to the DICOM standard, then you should <i>consider</i> following their nomenclature, even if it may not be what you&#x27;d normally use in other contexts.<p>Aside from correctness issues, I&#x27;ll make anything from &quot;strong recommendations&quot; to &quot;mild suggestions&quot;.  (In theory, any of these could cause me not to approve a change, but the closer we get to &quot;mild suggestion&quot; the less likely that is.)  Examples might include:<p>- You&#x27;re trying to do something with X.  I&#x27;m a domain expert in X and while your code is technically correct it&#x27;s not idiomatic.  I suggest doing it this other way instead.<p>- You added a public function to a library, but it will fail if the String argument isn&#x27;t a valid Photometric Interpretation.  Yes, I see that you only call it with valid values, but since it&#x27;s public anybody can now call it, and they may not be so diligent.  How about making it an Enum?<p>- You have a loop that, superficially, looks like it&#x27;s calculating Bar, but upon closer examination it&#x27;s (correctly) calculating Bar&#x27;.  How about adding a comment stating this, so that no one is tempted to (incorrectly) &quot;fix&quot; it?<p>- You&#x27;ve implemented a function that does Y.  All our code links with the Foo library, which happens to have a function that does Y.  How about using that instead?<p>- Your log message makes sense if you&#x27;re reading the surrounding code, but someone from support seeing it in the log file won&#x27;t know what to make of it.  How about including this contextual information in it?<p>- In the loop that you added, your indentation is inconsistent with the rest of the function.  How about making it the same?<p>- Why do you have four blanks lines in the middle of your function?<p>In my own code I&#x27;m pretty anal about formatting, comments, log messages, use of whitespace, etc.  I&#x27;m definitely less harsh when reviewing other people&#x27;s code, but I have to admit that when I see sloppy formatting, grammatical errors or gratuitous use of whitespace, I&#x27;m on the alert for sloppiness in other areas, such as design and implementation.</div><br/></div></div><div id="36649842" class="c"><input type="checkbox" id="c-36649842" checked=""/><div class="controls bullet"><span class="by">RangerScience</span><span>|</span><a href="#36652498">prev</a><span>|</span><a href="#36649676">next</a><span>|</span><label class="collapse" for="c-36649842">[-]</label><label class="expand" for="c-36649842">[3 more]</label></div><br/><div class="children"><div class="content">Ehhhhh yeah kinda? Yes, you should spend most of your time on &quot;API Semantics&quot; (what does it look like using this code?), and you should spend a lot less time on &quot;how are the tests?&quot;<p><i>but</i>, for example,<p>Writing good tests massively contributes to good implementation details and API semantics; and test code is <i>also</i> code that needs to be reviewed under more-or-less the same criteria as the rest.<p>Also - documentation (or, legibility, if you&#x27;re onboard with self-documenting code) can be more important than either implementation details, and even API semantics, as it can define whether the entire work is useable or maintainable.<p>I might say instead:<p>- What will it be like <i>reviewing</i> this code? (style, test coverage, etc - do I have to worry about spotting typos, and other stupid stuff?)<p>- What will be like <i>debugging</i> this code? (patterns, logging, etc - which might handled by a framework)<p>- What will it be like <i>altering</i> this code? (documentation&#x2F;legibility, implementation details, etc - when the business needs change or grow)<p>- What will it be like <i>using</i> this code? (API semantics, API docs - when I go to build something on top of this)<p>And then yeah; the top <i>should be</i> entirely automated, and you should (generally) spend most of your time on the bottom.</div><br/><div id="36649860" class="c"><input type="checkbox" id="c-36649860" checked=""/><div class="controls bullet"><span class="by">TeMPOraL</span><span>|</span><a href="#36649842">parent</a><span>|</span><a href="#36649676">next</a><span>|</span><label class="collapse" for="c-36649860">[-]</label><label class="expand" for="c-36649860">[2 more]</label></div><br/><div class="children"><div class="content">My own &quot;but&quot; is shorter: the idea is fine, except code review <i>also</i> &quot;should&quot;, per the prevailing wisdom, happen on small, focused changes. But that deep in the woods, style and testing is pretty much <i>all</i> you can talk about. There isn&#x27;t much use in starting a discussion about API semantics on a commit that implements a stub of one of its endpoints or sth.</div><br/><div id="36650137" class="c"><input type="checkbox" id="c-36650137" checked=""/><div class="controls bullet"><span class="by">zerodensity</span><span>|</span><a href="#36649842">root</a><span>|</span><a href="#36649860">parent</a><span>|</span><a href="#36649676">next</a><span>|</span><label class="collapse" for="c-36650137">[-]</label><label class="expand" for="c-36650137">[1 more]</label></div><br/><div class="children"><div class="content">I might hold an unpopular view here but I do not like reviewing small focused changes.<p>When a feature is implemented I preferably want the entire thing before me when reviewing. Otherwise I find it hard to keep track of everything that has happened.<p>Not to mention that the small focused changes might be reviewed by different people leaving only the implementer in full knowledge of everything that was done.<p>Peer&#x2F;Assembly programming help but if you do peer&#x2F;assembly programming reviews are mostly a waste of time (especially for assembly programming).</div><br/></div></div></div></div></div></div><div id="36649676" class="c"><input type="checkbox" id="c-36649676" checked=""/><div class="controls bullet"><span class="by">blt</span><span>|</span><a href="#36649842">prev</a><span>|</span><a href="#36650501">next</a><span>|</span><label class="collapse" for="c-36649676">[-]</label><label class="expand" for="c-36649676">[1 more]</label></div><br/><div class="children"><div class="content">handwriting font replaced by sans-serif: <a href="https:&#x2F;&#x2F;svgur.com&#x2F;s&#x2F;v6n" rel="nofollow noreferrer">https:&#x2F;&#x2F;svgur.com&#x2F;s&#x2F;v6n</a></div><br/></div></div><div id="36650501" class="c"><input type="checkbox" id="c-36650501" checked=""/><div class="controls bullet"><span class="by">alphazard</span><span>|</span><a href="#36649676">prev</a><span>|</span><a href="#36650272">next</a><span>|</span><label class="collapse" for="c-36650501">[-]</label><label class="expand" for="c-36650501">[3 more]</label></div><br/><div class="children"><div class="content">Code review is just the last line of defense to make sure people don&#x27;t merge things that will create problems for everyone else.<p>Good engineers figure out the important stuff before anyone writes a line of code.  The APIs, the architecture, high-level component names.  It&#x27;s all been talked over.  When a good engineer reviews another good engineer&#x27;s pull request, they&#x27;re just checking that what is delivered is an implementation of what is expected.<p>Code review is a road block for people who don&#x27;t do the above.  It causes them to bump into someone who knows what&#x27;s up.<p>Everything else that gets argued about: local variable names, formatting, equivalent ways to express the same thing.  It&#x27;s not important. I don&#x27;t know if it&#x27;s actually confusion about what matters, or if it&#x27;s a desire to make people jump through hoops, or maybe boredom?</div><br/><div id="36651199" class="c"><input type="checkbox" id="c-36651199" checked=""/><div class="controls bullet"><span class="by">imiric</span><span>|</span><a href="#36650501">parent</a><span>|</span><a href="#36651165">next</a><span>|</span><label class="collapse" for="c-36651199">[-]</label><label class="expand" for="c-36651199">[1 more]</label></div><br/><div class="children"><div class="content">I mostly agree with you, but often, especially with greenfield projects and features, the implementation details are not clear until someone spends the time to dig into the codebase, and deliver a proof-of-concept. This can then drive the design discussion to get everyone on the same page. And even then, the design might need to be changed if it happens that some things weren&#x27;t taken into consideration, or new specs are communicated and priorities change.<p>It&#x27;s also worth not spending too much time on creating the perfect design upfront, since it might change during development. The whole waterfall vs. agile situation. An initial proposal document helps with avoiding lengthy discussions and friction during code reviews, but it also takes a lot of effort to produce, and even then, reviews can be difficult for many reasons.<p>&gt; I don&#x27;t know if it&#x27;s actually confusion about what matters, or if it&#x27;s a desire to make people jump through hoops, or maybe boredom?<p>My theory is that sometimes it&#x27;s a need to say _something_ to prove that you&#x27;ve read the code. Also, egos are often involved, and some reviewers have the need to demonstrate their superior intellect&#x2F;knowledge&#x2F;whatever by insisting on minutia. Software engineers are often proud and take code reviews as a chance to flaunt their intellect, while at the same time being defensive of their opinions, and argumentative to the point of arrogance. Few senior engineers are humble, and consider code reviews as a collaborative effort to deliver the best possible solution.</div><br/></div></div><div id="36651165" class="c"><input type="checkbox" id="c-36651165" checked=""/><div class="controls bullet"><span class="by">bee_rider</span><span>|</span><a href="#36650501">parent</a><span>|</span><a href="#36651199">prev</a><span>|</span><a href="#36650272">next</a><span>|</span><label class="collapse" for="c-36651165">[-]</label><label class="expand" for="c-36651165">[1 more]</label></div><br/><div class="children"><div class="content">Could be a sort of social signal that you paid attention to the review?</div><br/></div></div></div></div><div id="36650272" class="c"><input type="checkbox" id="c-36650272" checked=""/><div class="controls bullet"><span class="by">holaworld12</span><span>|</span><a href="#36650501">prev</a><span>|</span><a href="#36650721">next</a><span>|</span><label class="collapse" for="c-36650272">[-]</label><label class="expand" for="c-36650272">[3 more]</label></div><br/><div class="children"><div class="content">I recently received feedback from my manager to take time out to review teammate&#x27;s PR and design docs. For context, I&#x27;ve always been under-confident and scared to review and feel like I fail to add quality feedback to other people&#x27;s code and design. I&#x27;ll use this article as a guideline for my next PR review! 
Has anyone else been in the same situation as I? How did you overcome it?</div><br/><div id="36652793" class="c"><input type="checkbox" id="c-36652793" checked=""/><div class="controls bullet"><span class="by">recursivecaveat</span><span>|</span><a href="#36650272">parent</a><span>|</span><a href="#36650614">next</a><span>|</span><label class="collapse" for="c-36652793">[-]</label><label class="expand" for="c-36652793">[1 more]</label></div><br/><div class="children"><div class="content">One of the most valuable feedback comments you can leave on a review is &quot;hey I found this part confusing, can you add a comment?&quot;. I think sometimes people are afraid to admit something like that, but obviously if you&#x27;re confused by it now, in-context, it will not be easier to understand in 16 months. In general you don&#x27;t have to provide super clever bug catches, often a second set of eyes is all that&#x27;s needed. Its surprisingly easy to leave really stupid stuff in your diffs, because you gloss over them, thinking you remember exactly what&#x27;s in there. As long as you don&#x27;t make any comments about style, or make a ton of work for them, people are usually very receptive. People enjoy shipping things that are quality, so if you give them an excuse they don&#x27;t mind adding some comments or trying to merge 2 samey segments.</div><br/></div></div><div id="36650614" class="c"><input type="checkbox" id="c-36650614" checked=""/><div class="controls bullet"><span class="by">alphazard</span><span>|</span><a href="#36650272">parent</a><span>|</span><a href="#36652793">prev</a><span>|</span><a href="#36650721">next</a><span>|</span><label class="collapse" for="c-36650614">[-]</label><label class="expand" for="c-36650614">[1 more]</label></div><br/><div class="children"><div class="content">You may just have a keen level of self-awareness.  If you don&#x27;t have any suggestions, you can just say so.  As you gain experience this will likely change, and you will have more to offer.<p>Don&#x27;t be fooled by your peers that look for superficial things to comment on.  There are many people with the same amount of knowledge as you, but who are less self-aware and are adding noise the system, because they are scared of being perceived as incompetent.<p>Find someone who has given you meaningful feedback during code&#x2F;design review, and see what kind of comments they leave on other people&#x27;s work.  If you don&#x27;t understand one of their suggestions ask them about it.</div><br/></div></div></div></div><div id="36650721" class="c"><input type="checkbox" id="c-36650721" checked=""/><div class="controls bullet"><span class="by">dav</span><span>|</span><a href="#36650272">prev</a><span>|</span><a href="#36649832">next</a><span>|</span><label class="collapse" for="c-36650721">[-]</label><label class="expand" for="c-36650721">[1 more]</label></div><br/><div class="children"><div class="content">Wow. Great idea and overall goal, but I’m disappointed in some of the placement choices.<p>Tests very much in particular deserve more weight. Being DRY is nowhere on the same level as bike shedding code style.</div><br/></div></div><div id="36649832" class="c"><input type="checkbox" id="c-36649832" checked=""/><div class="controls bullet"><span class="by">mtreis86</span><span>|</span><a href="#36650721">prev</a><span>|</span><a href="#36649833">next</a><span>|</span><label class="collapse" for="c-36649832">[-]</label><label class="expand" for="c-36649832">[1 more]</label></div><br/><div class="children"><div class="content">Some quick chart review: don&#x27;t use acronyms, they add cognitive load and require the reader to take action just to read your work.</div><br/></div></div><div id="36649833" class="c"><input type="checkbox" id="c-36649833" checked=""/><div class="controls bullet"><span class="by">Bellend</span><span>|</span><a href="#36649832">prev</a><span>|</span><a href="#36651010">next</a><span>|</span><label class="collapse" for="c-36649833">[-]</label><label class="expand" for="c-36649833">[13 more]</label></div><br/><div class="children"><div class="content">When does code review kick in? Is it based on say a 10 person team or a 100 person team? Somewhere in-between?</div><br/><div id="36649848" class="c"><input type="checkbox" id="c-36649848" checked=""/><div class="controls bullet"><span class="by">sidlls</span><span>|</span><a href="#36649833">parent</a><span>|</span><a href="#36650037">next</a><span>|</span><label class="collapse" for="c-36649848">[-]</label><label class="expand" for="c-36649848">[9 more]</label></div><br/><div class="children"><div class="content">There’s no good reason for any team of 2 or more to not do code reviews.</div><br/><div id="36649877" class="c"><input type="checkbox" id="c-36649877" checked=""/><div class="controls bullet"><span class="by">peyton</span><span>|</span><a href="#36649833">root</a><span>|</span><a href="#36649848">parent</a><span>|</span><a href="#36650037">next</a><span>|</span><label class="collapse" for="c-36649877">[-]</label><label class="expand" for="c-36649877">[8 more]</label></div><br/><div class="children"><div class="content">I even do it solo. Why not proofread?</div><br/><div id="36649979" class="c"><input type="checkbox" id="c-36649979" checked=""/><div class="controls bullet"><span class="by">mathgeek</span><span>|</span><a href="#36649833">root</a><span>|</span><a href="#36649877">parent</a><span>|</span><a href="#36650165">next</a><span>|</span><label class="collapse" for="c-36649979">[-]</label><label class="expand" for="c-36649979">[4 more]</label></div><br/><div class="children"><div class="content">Code review generally requires a peer to do the reviewing, so most folks would likely say that doesn’t count. I was curious if it would, but the first couple pages of googled results confirm the peer aspect.</div><br/><div id="36650103" class="c"><input type="checkbox" id="c-36650103" checked=""/><div class="controls bullet"><span class="by">thfuran</span><span>|</span><a href="#36649833">root</a><span>|</span><a href="#36649979">parent</a><span>|</span><a href="#36650165">next</a><span>|</span><label class="collapse" for="c-36650103">[-]</label><label class="expand" for="c-36650103">[3 more]</label></div><br/><div class="children"><div class="content">That&#x27;s certainly better than reviewing your own code, but tossing your code into a merge request to run tests and then taking another look over it tomorrow if it&#x27;s all green is still better than just pushing straight to prod because there&#x27;s not another pair of eyes.</div><br/><div id="36650548" class="c"><input type="checkbox" id="c-36650548" checked=""/><div class="controls bullet"><span class="by">mathgeek</span><span>|</span><a href="#36649833">root</a><span>|</span><a href="#36650103">parent</a><span>|</span><a href="#36650165">next</a><span>|</span><label class="collapse" for="c-36650548">[-]</label><label class="expand" for="c-36650548">[2 more]</label></div><br/><div class="children"><div class="content">Naturally. That’s a different process from a code review though, which is what this thread is discussing.</div><br/><div id="36650687" class="c"><input type="checkbox" id="c-36650687" checked=""/><div class="controls bullet"><span class="by">thfuran</span><span>|</span><a href="#36649833">root</a><span>|</span><a href="#36650548">parent</a><span>|</span><a href="#36650165">next</a><span>|</span><label class="collapse" for="c-36650687">[-]</label><label class="expand" for="c-36650687">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s the same process as code review. It <i>is</i> code review.</div><br/></div></div></div></div></div></div></div></div><div id="36650165" class="c"><input type="checkbox" id="c-36650165" checked=""/><div class="controls bullet"><span class="by">Bellend</span><span>|</span><a href="#36649833">root</a><span>|</span><a href="#36649877">parent</a><span>|</span><a href="#36649979">prev</a><span>|</span><a href="#36650037">next</a><span>|</span><label class="collapse" for="c-36650165">[-]</label><label class="expand" for="c-36650165">[3 more]</label></div><br/><div class="children"><div class="content">That seems almost ridiculous? You commit code that you wrote and then Code Review your commit and then verify it? Doesn&#x27;t that happen as part of the original commit by common sense?</div><br/><div id="36651150" class="c"><input type="checkbox" id="c-36651150" checked=""/><div class="controls bullet"><span class="by">Klaster_1</span><span>|</span><a href="#36649833">root</a><span>|</span><a href="#36650165">parent</a><span>|</span><a href="#36650279">next</a><span>|</span><label class="collapse" for="c-36651150">[-]</label><label class="expand" for="c-36651150">[1 more]</label></div><br/><div class="children"><div class="content">In practice, reviewing your own code in a different context really makes a difference, at least for me. Not sure why, but I always notice things I wouldn&#x27;t before. The same effects holds true even for regular text - as much as I try, proofreading my writing in editor yields subpar results compared to reading a submitted message, I simply fail to notice even the most blatant mistakes. I wonder if this effect has a name.</div><br/></div></div><div id="36650279" class="c"><input type="checkbox" id="c-36650279" checked=""/><div class="controls bullet"><span class="by">recursive</span><span>|</span><a href="#36649833">root</a><span>|</span><a href="#36650165">parent</a><span>|</span><a href="#36651150">prev</a><span>|</span><a href="#36650037">next</a><span>|</span><label class="collapse" for="c-36650279">[-]</label><label class="expand" for="c-36650279">[1 more]</label></div><br/><div class="children"><div class="content">You might have never seen the diff all at once.</div><br/></div></div></div></div></div></div></div></div><div id="36650037" class="c"><input type="checkbox" id="c-36650037" checked=""/><div class="controls bullet"><span class="by">Thaxll</span><span>|</span><a href="#36649833">parent</a><span>|</span><a href="#36649848">prev</a><span>|</span><a href="#36651010">next</a><span>|</span><label class="collapse" for="c-36650037">[-]</label><label class="expand" for="c-36650037">[3 more]</label></div><br/><div class="children"><div class="content">You should never submit and merge code that was not reviewed, no matter the size of the team.</div><br/><div id="36650293" class="c"><input type="checkbox" id="c-36650293" checked=""/><div class="controls bullet"><span class="by">oxfordmale</span><span>|</span><a href="#36649833">root</a><span>|</span><a href="#36650037">parent</a><span>|</span><a href="#36650148">prev</a><span>|</span><a href="#36651010">next</a><span>|</span><label class="collapse" for="c-36650293">[-]</label><label class="expand" for="c-36650293">[1 more]</label></div><br/><div class="children"><div class="content">Why?<p>Does this apply to prototypes too?<p>If you are a team of two, and once of them is on holiday, do you wait until they come back?</div><br/></div></div></div></div></div></div><div id="36651010" class="c"><input type="checkbox" id="c-36651010" checked=""/><div class="controls bullet"><span class="by">benjbrooks</span><span>|</span><a href="#36649833">prev</a><span>|</span><a href="#36649862">next</a><span>|</span><label class="collapse" for="c-36651010">[-]</label><label class="expand" for="c-36651010">[1 more]</label></div><br/><div class="children"><div class="content">helpful context, just sent for discussion in our team slack</div><br/></div></div><div id="36649862" class="c"><input type="checkbox" id="c-36649862" checked=""/><div class="controls bullet"><span class="by">LadyCailin</span><span>|</span><a href="#36651010">prev</a><span>|</span><a href="#36650483">next</a><span>|</span><label class="collapse" for="c-36649862">[-]</label><label class="expand" for="c-36649862">[11 more]</label></div><br/><div class="children"><div class="content">Tests should mostly be integration, not unit. Unit tests tie you down to the specific implementation, which means changing the implementation becomes much more onerous. Integration tests have much more value, give you higher confidence that the code does what it claims, and is easier to code review. <a href="https:&#x2F;&#x2F;kentcdodds.com&#x2F;blog&#x2F;write-tests" rel="nofollow noreferrer">https:&#x2F;&#x2F;kentcdodds.com&#x2F;blog&#x2F;write-tests</a></div><br/><div id="36650107" class="c"><input type="checkbox" id="c-36650107" checked=""/><div class="controls bullet"><span class="by">imiric</span><span>|</span><a href="#36649862">parent</a><span>|</span><a href="#36650083">next</a><span>|</span><label class="collapse" for="c-36650107">[-]</label><label class="expand" for="c-36650107">[3 more]</label></div><br/><div class="children"><div class="content">Eh, I disagree. I find the traditional test pyramid a suitable model still.<p>Sure, unit tests require much more maintenance than higher level tests, but they give you confidence that the smallest parts of the codebase work as intended. They&#x27;re the ones that test all sorts of failure scenarios and edge cases, which is typically not the purpose of integration tests. They also should be inexpensive to run, simple to write, and require minimal setup.<p>Unit tests should also give you immediate feedback that something went wrong, by pinpointing the exact component that failed. In contrast, integration tests might happily pass, as they&#x27;re not granular enough to cover all code paths. Integration tests focus on, well, that the integration between components is working as expected.<p>So I still insist on having mostly unit tests, many integration tests, and some E2E tests. Doing it otherwise because it saves you maintenance efforts will haunt you in the long run.</div><br/><div id="36650775" class="c"><input type="checkbox" id="c-36650775" checked=""/><div class="controls bullet"><span class="by">bluGill</span><span>|</span><a href="#36649862">root</a><span>|</span><a href="#36650107">parent</a><span>|</span><a href="#36650083">next</a><span>|</span><label class="collapse" for="c-36650775">[-]</label><label class="expand" for="c-36650775">[2 more]</label></div><br/><div class="children"><div class="content">Most people don&#x27;t have a rather obvious interface on their units to tests. If you are implementing one of the CS3025 (your university probably used a different number scheme) algorithms, then the interface is obvious and worth a unit tests. Even if there is some doubt (rare), you will have so many users that is isn&#x27;t possible to change anymore anyway.<p>Most of us are writing glue code that isn&#x27;t as clear what the api should be. Unit tests just get in the way of refactoring when requirements change.</div><br/><div id="36650902" class="c"><input type="checkbox" id="c-36650902" checked=""/><div class="controls bullet"><span class="by">imiric</span><span>|</span><a href="#36649862">root</a><span>|</span><a href="#36650775">parent</a><span>|</span><a href="#36650083">next</a><span>|</span><label class="collapse" for="c-36650902">[-]</label><label class="expand" for="c-36650902">[1 more]</label></div><br/><div class="children"><div class="content">On the one hand, I agree that writing unit tests before the design has settled and the interfaces are stable can be frustrating. Many people find TDD a chore because of this.<p>But if you delay adding unit tests until after the interfaces are more or less stable, it gives you higher confidence to refactor the implementation, which is invaluable.<p>On the other hand, the benefit of TDD is that it helps with the actual API design. You immediately experience the API as a user, and this process drives the implementation, and ensures you end up with a friendly and testable API. If you add tests after the design, then you might have a more difficult time refactoring the implementation to make it testable, and the DX could suffer.<p>So I see both sides of the argument, but in either case, unit tests are very important, and I wouldn&#x27;t avoid them just because they&#x27;re a chore to maintain.</div><br/></div></div></div></div></div></div><div id="36650083" class="c"><input type="checkbox" id="c-36650083" checked=""/><div class="controls bullet"><span class="by">makeitdouble</span><span>|</span><a href="#36649862">parent</a><span>|</span><a href="#36650107">prev</a><span>|</span><a href="#36650195">next</a><span>|</span><label class="collapse" for="c-36650083">[-]</label><label class="expand" for="c-36650083">[1 more]</label></div><br/><div class="children"><div class="content">I had that mindset for a while, just to fall into enough issues that I had to balance it again.<p>Integration tests are important for features, unit tests stay important for code blocks. My realization was that a ton of what we wrote aren&#x27;t features, but blocks.<p>For instance, let&#x27;s imagine an API that build an invoice. Where do you put the VAT calculation test ? Do you jam your 100+ VAT test cases in the integrations tests, or do you unit test the VAT calculation in isolation and only cover the main cases in the integration ones ?<p>Same for name display, invoice number generation, Invoice items fetching etc. If you want a decent coverage and also document&#x2F;properly test the edge cases, unit test will easily be half or more of your whole test volume. And of course you&#x27;ll want to reuse there blocks, so make sure they&#x27;re rock solid, so pay even more attention to tests.</div><br/></div></div><div id="36650195" class="c"><input type="checkbox" id="c-36650195" checked=""/><div class="controls bullet"><span class="by">teddyh</span><span>|</span><a href="#36649862">parent</a><span>|</span><a href="#36650083">prev</a><span>|</span><a href="#36650751">next</a><span>|</span><label class="collapse" for="c-36650195">[-]</label><label class="expand" for="c-36650195">[1 more]</label></div><br/><div class="children"><div class="content">&gt; <i>Tests should mostly be integration, not unit.</i><p>Other people disagree: &lt;<a href="https:&#x2F;&#x2F;blog.thecodewhisperer.com&#x2F;series#beware-the-integrated-tests-scam-was-integrated-tests-are-a-scam" rel="nofollow noreferrer">https:&#x2F;&#x2F;blog.thecodewhisperer.com&#x2F;series#beware-the-integrat...</a>&gt;<p>In short (IIUC), integration tests do not give you any feedback on when your design needs to change, while unit tests do.</div><br/></div></div><div id="36650751" class="c"><input type="checkbox" id="c-36650751" checked=""/><div class="controls bullet"><span class="by">dav</span><span>|</span><a href="#36649862">parent</a><span>|</span><a href="#36650195">prev</a><span>|</span><a href="#36650249">next</a><span>|</span><label class="collapse" for="c-36650751">[-]</label><label class="expand" for="c-36650751">[1 more]</label></div><br/><div class="children"><div class="content">You should really do some research on this. Good luck on your journey.</div><br/></div></div><div id="36650249" class="c"><input type="checkbox" id="c-36650249" checked=""/><div class="controls bullet"><span class="by">Silhouette</span><span>|</span><a href="#36649862">parent</a><span>|</span><a href="#36650751">prev</a><span>|</span><a href="#36650483">next</a><span>|</span><label class="collapse" for="c-36650249">[-]</label><label class="expand" for="c-36650249">[4 more]</label></div><br/><div class="children"><div class="content"><i>Unit tests tie you down to the specific implementation, which means changing the implementation becomes much more onerous.</i><p>If you test unit interfaces and not implementation details then that problem goes away.</div><br/><div id="36650287" class="c"><input type="checkbox" id="c-36650287" checked=""/><div class="controls bullet"><span class="by">recursive</span><span>|</span><a href="#36649862">root</a><span>|</span><a href="#36650249">parent</a><span>|</span><a href="#36650483">next</a><span>|</span><label class="collapse" for="c-36650287">[-]</label><label class="expand" for="c-36650287">[3 more]</label></div><br/><div class="children"><div class="content">Unit tests tie you down to a specific problem decomposition.</div><br/><div id="36650431" class="c"><input type="checkbox" id="c-36650431" checked=""/><div class="controls bullet"><span class="by">Silhouette</span><span>|</span><a href="#36649862">root</a><span>|</span><a href="#36650287">parent</a><span>|</span><a href="#36650483">next</a><span>|</span><label class="collapse" for="c-36650431">[-]</label><label class="expand" for="c-36650431">[2 more]</label></div><br/><div class="children"><div class="content"><i>Units</i> give you a specific problem decomposition.<p>Unit tests just help to make sure that the units you have right now are doing their jobs. Obviously if you change what units you have or how responsibilities are allocated among them then you will need corresponding changes in the unit tests.</div><br/><div id="36650747" class="c"><input type="checkbox" id="c-36650747" checked=""/><div class="controls bullet"><span class="by">bluGill</span><span>|</span><a href="#36649862">root</a><span>|</span><a href="#36650431">parent</a><span>|</span><a href="#36650483">next</a><span>|</span><label class="collapse" for="c-36650747">[-]</label><label class="expand" for="c-36650747">[1 more]</label></div><br/><div class="children"><div class="content">Which is good only if you have the comprehensive integration tests as well.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="36650483" class="c"><input type="checkbox" id="c-36650483" checked=""/><div class="controls bullet"><span class="by">29athrowaway</span><span>|</span><a href="#36649862">prev</a><span>|</span><a href="#36650574">next</a><span>|</span><label class="collapse" for="c-36650483">[-]</label><label class="expand" for="c-36650483">[1 more]</label></div><br/><div class="children"><div class="content">Code style: Use an opinionated style and formatter like black, rustfmt, etc. Add it to continuous integration. Never discuss styling again.</div><br/></div></div><div id="36650574" class="c"><input type="checkbox" id="c-36650574" checked=""/><div class="controls bullet"><span class="by">nathants</span><span>|</span><a href="#36650483">prev</a><span>|</span><label class="collapse" for="c-36650574">[-]</label><label class="expand" for="c-36650574">[2 more]</label></div><br/><div class="children"><div class="content">reviewing code is obviously fine, we all do it constantly.<p>mandatory code review is a symptom of an adversarial environment involving bad faith actors.<p>there is no quick fix for organizational disfunction, and in that environment mandatory code review will have a negligible effect.</div><br/><div id="36650880" class="c"><input type="checkbox" id="c-36650880" checked=""/><div class="controls bullet"><span class="by">e28eta</span><span>|</span><a href="#36650574">parent</a><span>|</span><label class="collapse" for="c-36650880">[-]</label><label class="expand" for="c-36650880">[1 more]</label></div><br/><div class="children"><div class="content">&gt; mandatory code review is a symptom of an adversarial environment involving bad faith actors.<p>and is required (afaik) for PCI compliance</div><br/></div></div></div></div></div></div></div></div></div></body></html>