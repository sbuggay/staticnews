<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1702285263628" as="style"/><link rel="stylesheet" href="styles.css?v=1702285263628"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="http://t3x.org/t3x/0/book.html">Write your own retro compiler</a> <span class="domain">(<a href="http://t3x.org">t3x.org</a>)</span></div><div class="subtext"><span>nils-m-holm</span> | <span>50 comments</span></div><br/><div><div id="38591999" class="c"><input type="checkbox" id="c-38591999" checked=""/><div class="controls bullet"><span class="by">nils-m-holm</span><span>|</span><a href="#38592082">next</a><span>|</span><label class="collapse" for="c-38591999">[-]</label><label class="expand" for="c-38591999">[15 more]</label></div><br/><div class="children"><div class="content">Here it is, my latest compiler book! Basically an expanded version of &quot;Write Your Own Compiler&quot;, this time discussing code generation for CP&#x2F;M on the Z80 (instead of ELF on modern systems), which simplifies some things a lot.<p>How much complexity do you need to self-compile a compiler in 10 minutes on a 4MHz Z80 system? Take a look and find out! The code is free (but the book is not).</div><br/><div id="38593066" class="c"><input type="checkbox" id="c-38593066" checked=""/><div class="controls bullet"><span class="by">7thaccount</span><span>|</span><a href="#38591999">parent</a><span>|</span><a href="#38596813">next</a><span>|</span><label class="collapse" for="c-38593066">[-]</label><label class="expand" for="c-38593066">[13 more]</label></div><br/><div class="children"><div class="content">Always look forward to hearing about what you&#x27;re working on Nils! I hope your business of doing this is profitable as well!  One day I&#x27;m going to finally buy a copy of everything and work through it all. It seems like there is so little time though lol.<p>Edit: I&#x27;d also love to see you do a no-nonsense book on Forth and your take on it.</div><br/><div id="38593173" class="c"><input type="checkbox" id="c-38593173" checked=""/><div class="controls bullet"><span class="by">nils-m-holm</span><span>|</span><a href="#38591999">root</a><span>|</span><a href="#38593066">parent</a><span>|</span><a href="#38596813">next</a><span>|</span><label class="collapse" for="c-38593173">[-]</label><label class="expand" for="c-38593173">[12 more]</label></div><br/><div class="children"><div class="content">Thank you!<p>Books are my biggest source of income, but &quot;big&quot; is relative here: I am earning about $500 per month in revenues. This is mostly a problem visibility, I think. Most people stumble across my books by accident. Reviews, presence on the front page of HN, etc. usually increase revenues significantly for one month.<p>Regarding FORTH, lets see. The code is already there: <a href="http:&#x2F;&#x2F;t3x.org&#x2F;t3xforth&#x2F;" rel="nofollow noreferrer">http:&#x2F;&#x2F;t3x.org&#x2F;t3xforth&#x2F;</a></div><br/><div id="38595315" class="c"><input type="checkbox" id="c-38595315" checked=""/><div class="controls bullet"><span class="by">pamoroso</span><span>|</span><a href="#38591999">root</a><span>|</span><a href="#38593173">parent</a><span>|</span><a href="#38596907">next</a><span>|</span><label class="collapse" for="c-38595315">[-]</label><label class="expand" for="c-38595315">[4 more]</label></div><br/><div class="children"><div class="content">Nils, regarding visibility, have you considered setting up a Mastodon account? Yesterday I shared on Mastodon a link to your book and my post got 28 reshares, 42 likes, and half a dozen comments. And I&#x27;m not even the author of the book. In the Fediverse people do notice you, read what you write, and click your links. Which is mind blowing for those used to traditional social platforms.</div><br/><div id="38595660" class="c"><input type="checkbox" id="c-38595660" checked=""/><div class="controls bullet"><span class="by">nils-m-holm</span><span>|</span><a href="#38591999">root</a><span>|</span><a href="#38595315">parent</a><span>|</span><a href="#38596907">next</a><span>|</span><label class="collapse" for="c-38595660">[-]</label><label class="expand" for="c-38595660">[3 more]</label></div><br/><div class="children"><div class="content">Thank you, but I do not even know what Mastodon or the Fediverse are. :)  Could you point me to some resources that would get me started? Preferably to something for the social media-illiterate! Which software to use (on BSD), where to register (if that is a thing), etc. That would be cool!</div><br/><div id="38598613" class="c"><input type="checkbox" id="c-38598613" checked=""/><div class="controls bullet"><span class="by">pamoroso</span><span>|</span><a href="#38591999">root</a><span>|</span><a href="#38595660">parent</a><span>|</span><a href="#38597895">next</a><span>|</span><label class="collapse" for="c-38598613">[-]</label><label class="expand" for="c-38598613">[1 more]</label></div><br/><div class="children"><div class="content">Think of Mastodon as an open-source Twitter with multiple servers (&quot;instances&quot; in Mastodon-ese) instead of the only twitter.com The servers interoperate through a common protocol, thus allowing any user on any server to follow and engage with any other user on any other server. The protocol actually makes it possible to interoperate with platforms other than Mastodon that are part of a larger system called the Fediverse, but you can ignore it for now.<p>The only software you need to get started is a web browser to use a web client, which is typically the Mastodon server you create an account on. Picking a server is the only potentially confusing choice, so for retrocomputing enthusiasts I recommend creating an account at <a href="https:&#x2F;&#x2F;bitbang.social" rel="nofollow noreferrer">https:&#x2F;&#x2F;bitbang.social</a> or <a href="https:&#x2F;&#x2F;oldbytes.space" rel="nofollow noreferrer">https:&#x2F;&#x2F;oldbytes.space</a> Once you have an account on a server you can migrate to another one if needed.<p>For more on Mastodon see <a href="https:&#x2F;&#x2F;joinmastodon.org" rel="nofollow noreferrer">https:&#x2F;&#x2F;joinmastodon.org</a> For any other questions feel free to ask here or follow me on Mastodon at @amoroso@fosstodon.org and ask there.</div><br/></div></div><div id="38597895" class="c"><input type="checkbox" id="c-38597895" checked=""/><div class="controls bullet"><span class="by">7thaccount</span><span>|</span><a href="#38591999">root</a><span>|</span><a href="#38595660">parent</a><span>|</span><a href="#38598613">prev</a><span>|</span><a href="#38596907">next</a><span>|</span><label class="collapse" for="c-38597895">[-]</label><label class="expand" for="c-38597895">[1 more]</label></div><br/><div class="children"><div class="content">Fediverse refers to a collection of decentralized applications that use some kind of common protocol. Like instead of centralized Twitter, you could choose Mastodon and so on. My understanding is very basic though.<p>Long story short, I&#x27;d love to see you advertise some more. I&#x27;m not sure how you&#x27;d reach your typical audience though.</div><br/></div></div></div></div></div></div><div id="38596907" class="c"><input type="checkbox" id="c-38596907" checked=""/><div class="controls bullet"><span class="by">7thaccount</span><span>|</span><a href="#38591999">root</a><span>|</span><a href="#38593173">parent</a><span>|</span><a href="#38595315">prev</a><span>|</span><a href="#38593476">next</a><span>|</span><label class="collapse" for="c-38596907">[-]</label><label class="expand" for="c-38596907">[1 more]</label></div><br/><div class="children"><div class="content">Awesome Forth implementation! I&#x27;d love to read a high level book on the implementation too once you get around to it!</div><br/></div></div><div id="38593476" class="c"><input type="checkbox" id="c-38593476" checked=""/><div class="controls bullet"><span class="by">Archbtw97543</span><span>|</span><a href="#38591999">root</a><span>|</span><a href="#38593173">parent</a><span>|</span><a href="#38596907">prev</a><span>|</span><a href="#38593791">next</a><span>|</span><label class="collapse" for="c-38593476">[-]</label><label class="expand" for="c-38593476">[2 more]</label></div><br/><div class="children"><div class="content">Thanks for being so transparent</div><br/><div id="38593964" class="c"><input type="checkbox" id="c-38593964" checked=""/><div class="controls bullet"><span class="by">nils-m-holm</span><span>|</span><a href="#38591999">root</a><span>|</span><a href="#38593476">parent</a><span>|</span><a href="#38593791">next</a><span>|</span><label class="collapse" for="c-38593964">[-]</label><label class="expand" for="c-38593964">[1 more]</label></div><br/><div class="children"><div class="content">Sure, no problem :)</div><br/></div></div></div></div><div id="38593791" class="c"><input type="checkbox" id="c-38593791" checked=""/><div class="controls bullet"><span class="by">winter_blue</span><span>|</span><a href="#38591999">root</a><span>|</span><a href="#38593173">parent</a><span>|</span><a href="#38593476">prev</a><span>|</span><a href="#38596813">next</a><span>|</span><label class="collapse" for="c-38593791">[-]</label><label class="expand" for="c-38593791">[4 more]</label></div><br/><div class="children"><div class="content">$500 isn’t really enough to live on — do you have a job that you use to support yourself (or do you live in a low cost-of-living country)?</div><br/><div id="38593951" class="c"><input type="checkbox" id="c-38593951" checked=""/><div class="controls bullet"><span class="by">nils-m-holm</span><span>|</span><a href="#38591999">root</a><span>|</span><a href="#38593791">parent</a><span>|</span><a href="#38596813">next</a><span>|</span><label class="collapse" for="c-38593951">[-]</label><label class="expand" for="c-38593951">[3 more]</label></div><br/><div class="children"><div class="content">I have multiple sources of income, but book revenues are the biggest one. The area I live in is a rather expensive one, but I pay no rent, which helps. By the standard of our country I qualify as &quot;poor&quot;, but I do not mind much. A little bit of safety would be nice, but I do not need much to live comfortably.</div><br/><div id="38595098" class="c"><input type="checkbox" id="c-38595098" checked=""/><div class="controls bullet"><span class="by">tiberious726</span><span>|</span><a href="#38591999">root</a><span>|</span><a href="#38593951">parent</a><span>|</span><a href="#38596813">next</a><span>|</span><label class="collapse" for="c-38595098">[-]</label><label class="expand" for="c-38595098">[2 more]</label></div><br/><div class="children"><div class="content">This is great quality work---you&#x27;d crush it writing technical documentation or putting together technical internal corporate training programs.</div><br/><div id="38595687" class="c"><input type="checkbox" id="c-38595687" checked=""/><div class="controls bullet"><span class="by">nils-m-holm</span><span>|</span><a href="#38591999">root</a><span>|</span><a href="#38595098">parent</a><span>|</span><a href="#38596813">next</a><span>|</span><label class="collapse" for="c-38595687">[-]</label><label class="expand" for="c-38595687">[1 more]</label></div><br/><div class="children"><div class="content">I tried that some time ago, but do not seem to be compatible with all the business stuff. Thanks anyway! :)</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="38596813" class="c"><input type="checkbox" id="c-38596813" checked=""/><div class="controls bullet"><span class="by">N3Xxus_6</span><span>|</span><a href="#38591999">parent</a><span>|</span><a href="#38593066">prev</a><span>|</span><a href="#38592082">next</a><span>|</span><label class="collapse" for="c-38596813">[-]</label><label class="expand" for="c-38596813">[1 more]</label></div><br/><div class="children"><div class="content">Nils just wanted to say I love your work. I have your C compiler book and one of your lisp compiler ones as well. I’ve learned a lot and your work has helped me appreciate compilers a lot more, so thanks!</div><br/></div></div></div></div><div id="38592082" class="c"><input type="checkbox" id="c-38592082" checked=""/><div class="controls bullet"><span class="by">mati365</span><span>|</span><a href="#38591999">prev</a><span>|</span><a href="#38592389">next</a><span>|</span><label class="collapse" for="c-38592082">[-]</label><label class="expand" for="c-38592082">[3 more]</label></div><br/><div class="children"><div class="content">Recently I made C multipass compiler (and asembler) in typescript for such old x86 CPUs<p><a href="https:&#x2F;&#x2F;github.com&#x2F;Mati365&#x2F;ts-c-compiler">https:&#x2F;&#x2F;github.com&#x2F;Mati365&#x2F;ts-c-compiler</a></div><br/><div id="38592212" class="c"><input type="checkbox" id="c-38592212" checked=""/><div class="controls bullet"><span class="by">nils-m-holm</span><span>|</span><a href="#38592082">parent</a><span>|</span><a href="#38592389">next</a><span>|</span><label class="collapse" for="c-38592212">[-]</label><label class="expand" for="c-38592212">[2 more]</label></div><br/><div class="children"><div class="content">Cool!<p>The one in the book is for the Z80, which is a bit older and does not even have multiply or divide instructions. The compiler can also output code for the 8086, though. And the 386.</div><br/><div id="38595665" class="c"><input type="checkbox" id="c-38595665" checked=""/><div class="controls bullet"><span class="by">vanderZwan</span><span>|</span><a href="#38592082">root</a><span>|</span><a href="#38592212">parent</a><span>|</span><a href="#38592389">next</a><span>|</span><label class="collapse" for="c-38595665">[-]</label><label class="expand" for="c-38595665">[1 more]</label></div><br/><div class="children"><div class="content">Do you happen to have books that cover the latter two targets?<p>EDIT: should have taken a look on the rest of your website first. Clearly you do, hahaha<p><a href="http:&#x2F;&#x2F;t3x.org&#x2F;index.html" rel="nofollow noreferrer">http:&#x2F;&#x2F;t3x.org&#x2F;index.html</a></div><br/></div></div></div></div></div></div><div id="38592389" class="c"><input type="checkbox" id="c-38592389" checked=""/><div class="controls bullet"><span class="by">scrawl</span><span>|</span><a href="#38592082">prev</a><span>|</span><a href="#38597765">next</a><span>|</span><label class="collapse" for="c-38592389">[-]</label><label class="expand" for="c-38592389">[4 more]</label></div><br/><div class="children"><div class="content">I have a physical copy of Practical Compiler Construction 2nd Ed. and like it a lot. I recommend Nils&#x27; books to anyone who may be interested.</div><br/><div id="38592413" class="c"><input type="checkbox" id="c-38592413" checked=""/><div class="controls bullet"><span class="by">nils-m-holm</span><span>|</span><a href="#38592389">parent</a><span>|</span><a href="#38597765">next</a><span>|</span><label class="collapse" for="c-38592413">[-]</label><label class="expand" for="c-38592413">[3 more]</label></div><br/><div class="children"><div class="content">Thank you! The 2nd Ed. was quite an endeavor, I am glad you like it!</div><br/><div id="38593091" class="c"><input type="checkbox" id="c-38593091" checked=""/><div class="controls bullet"><span class="by">kqr2</span><span>|</span><a href="#38592389">root</a><span>|</span><a href="#38592413">parent</a><span>|</span><a href="#38597765">next</a><span>|</span><label class="collapse" for="c-38593091">[-]</label><label class="expand" for="c-38593091">[2 more]</label></div><br/><div class="children"><div class="content">You may need to update the thumbnail image on your index page.  It still shows the first edition:<p><a href="https:&#x2F;&#x2F;t3x.org&#x2F;index.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;t3x.org&#x2F;index.html</a></div><br/><div id="38593178" class="c"><input type="checkbox" id="c-38593178" checked=""/><div class="controls bullet"><span class="by">nils-m-holm</span><span>|</span><a href="#38592389">root</a><span>|</span><a href="#38593091">parent</a><span>|</span><a href="#38597765">next</a><span>|</span><label class="collapse" for="c-38593178">[-]</label><label class="expand" for="c-38593178">[1 more]</label></div><br/><div class="children"><div class="content">Oops, good catch. :) Thank you!</div><br/></div></div></div></div></div></div></div></div><div id="38597765" class="c"><input type="checkbox" id="c-38597765" checked=""/><div class="controls bullet"><span class="by">pests</span><span>|</span><a href="#38592389">prev</a><span>|</span><a href="#38593186">next</a><span>|</span><label class="collapse" for="c-38597765">[-]</label><label class="expand" for="c-38597765">[1 more]</label></div><br/><div class="children"><div class="content">A compiler tutorial that gets past the lexing and parsing stages? First of its kind.<p>I kid, but it is a common stopping point. Gonna pick this up.</div><br/></div></div><div id="38593186" class="c"><input type="checkbox" id="c-38593186" checked=""/><div class="controls bullet"><span class="by">amelius</span><span>|</span><a href="#38597765">prev</a><span>|</span><a href="#38597323">next</a><span>|</span><label class="collapse" for="c-38593186">[-]</label><label class="expand" for="c-38593186">[5 more]</label></div><br/><div class="children"><div class="content">This book looks fun. But I&#x27;m still waiting for a worthy successor of The Dragon Book, discussing optimizations for modern CPUs (and perhaps GPUs), and also discusses how to design&#x2F;write a modern VM with a fast concurrent GC (something that some might say is even harder than writing the compiler!)</div><br/><div id="38593282" class="c"><input type="checkbox" id="c-38593282" checked=""/><div class="controls bullet"><span class="by">tralarpa</span><span>|</span><a href="#38593186">parent</a><span>|</span><a href="#38593393">next</a><span>|</span><label class="collapse" for="c-38593282">[-]</label><label class="expand" for="c-38593282">[3 more]</label></div><br/><div class="children"><div class="content">I remember that I didn&#x27;t like the Dragon Book when I was a student. But I don&#x27;t remember anymore why :) (I think I found it poorly structured, and with too many details for some topics and not enough details for others).<p>If you already have some base knowledge, you might like this:<p><a href="https:&#x2F;&#x2F;www.cs.cmu.edu&#x2F;~janh&#x2F;courses&#x2F;411&#x2F;18&#x2F;schedule.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.cs.cmu.edu&#x2F;~janh&#x2F;courses&#x2F;411&#x2F;18&#x2F;schedule.html</a><p>I particularly liked how they introduced SSA form.<p>More advanced topics:<p><a href="https:&#x2F;&#x2F;www.cs.cmu.edu&#x2F;~15745&#x2F;handouts.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.cs.cmu.edu&#x2F;~15745&#x2F;handouts.html</a></div><br/><div id="38595780" class="c"><input type="checkbox" id="c-38595780" checked=""/><div class="controls bullet"><span class="by">kopecs</span><span>|</span><a href="#38593186">root</a><span>|</span><a href="#38593282">parent</a><span>|</span><a href="#38593658">next</a><span>|</span><label class="collapse" for="c-38595780">[-]</label><label class="expand" for="c-38595780">[1 more]</label></div><br/><div class="children"><div class="content">I also disliked the Dragon Book as a student. I found it to have too much of an emphasis on lexing&#x2F;parsing and not enough discussion for optimizations&#x2F;analysis for my liking. I liked Advanced Compiler Design and Implementation by Muchnick, although it does have some warts (ICAN; less discussion of SSA than I would&#x27;ve liked) and I think it is a bit dated now.<p>FYI: replacing the 18 with 23 in your link to 411 gets you a slightly updated version.</div><br/></div></div><div id="38593658" class="c"><input type="checkbox" id="c-38593658" checked=""/><div class="controls bullet"><span class="by">tomcam</span><span>|</span><a href="#38593186">root</a><span>|</span><a href="#38593282">parent</a><span>|</span><a href="#38595780">prev</a><span>|</span><a href="#38593393">next</a><span>|</span><label class="collapse" for="c-38593658">[-]</label><label class="expand" for="c-38593658">[1 more]</label></div><br/><div class="children"><div class="content">Fantastic resource, thank you.</div><br/></div></div></div></div><div id="38593393" class="c"><input type="checkbox" id="c-38593393" checked=""/><div class="controls bullet"><span class="by">freedomben</span><span>|</span><a href="#38593186">parent</a><span>|</span><a href="#38593282">prev</a><span>|</span><a href="#38597323">next</a><span>|</span><label class="collapse" for="c-38593393">[-]</label><label class="expand" for="c-38593393">[1 more]</label></div><br/><div class="children"><div class="content">Same, that&#x27;s been my hope too.  Stuff is getting so complex nowadays with modern microcode&#x2F;firmware and such, and there&#x27;s so many things that seem like &quot;magic&quot; to me.  Feeling like something is &quot;magic&quot; is my internal signal that somebody figured out some clever way to get around what I think is&#x2F;was the limitations, and I <i>love</i> discovering people&#x27;s clever hacks.  Recently been reading about Fake Bass (which is how small speakers seemingly violate the laws of physics by producing bigger bass than they are capable of) and how they accomplish this by (ab)using harmonics to trick the brain into hearing deeper notes than are actually tere.  Fascinating stuff!</div><br/></div></div></div></div><div id="38597323" class="c"><input type="checkbox" id="c-38597323" checked=""/><div class="controls bullet"><span class="by">jdwithit</span><span>|</span><a href="#38593186">prev</a><span>|</span><a href="#38592417">next</a><span>|</span><label class="collapse" for="c-38597323">[-]</label><label class="expand" for="c-38597323">[1 more]</label></div><br/><div class="children"><div class="content">Apart from the actual book content, I enjoy your appropriately retro and minimalist web design. It&#x27;s giving me a huge nostalgia hit. Fond memories of hand crafting my own sites with a 6 inch thick book titled something like &quot;HTML 3.2 UNLEASHED!!!!&quot; on my desk :)</div><br/></div></div><div id="38592417" class="c"><input type="checkbox" id="c-38592417" checked=""/><div class="controls bullet"><span class="by">AlexeyBrin</span><span>|</span><a href="#38597323">prev</a><span>|</span><a href="#38593949">next</a><span>|</span><label class="collapse" for="c-38592417">[-]</label><label class="expand" for="c-38592417">[5 more]</label></div><br/><div class="children"><div class="content">This looks really interesting, however a disadvantage is that the reader needs to know or learn a new programming language first T3X. I wonder if one could start from scratch on a CP&#x2F;M system: write and develop the compiler on a retro system that has no connection to the outside world except the keyboard and display.</div><br/><div id="38592633" class="c"><input type="checkbox" id="c-38592633" checked=""/><div class="controls bullet"><span class="by">nils-m-holm</span><span>|</span><a href="#38592417">parent</a><span>|</span><a href="#38593949">next</a><span>|</span><label class="collapse" for="c-38592633">[-]</label><label class="expand" for="c-38592633">[4 more]</label></div><br/><div class="children"><div class="content">&gt; however a disadvantage is that the reader needs to know or learn a new programming language first<p>This is a good point, and I have thought about it a lot before starting the book. What finally made my choose T3X is that its compiler is much smaller[1] than my smallest C-subset compiler and (IMHO) T3X is easier to learn or understand.<p>[1] SubC: 3815 lines, T3X&#x2F;0: 2330 lines.<p>Of course you could start on CP&#x2F;M without any outside tools, but then you would have to write your bootstrapping compiler in assembly language. Time-consuming, but certainly manageable. I doubt that it would be an interesting reading, though.</div><br/><div id="38594391" class="c"><input type="checkbox" id="c-38594391" checked=""/><div class="controls bullet"><span class="by">JonChesterfield</span><span>|</span><a href="#38592417">root</a><span>|</span><a href="#38592633">parent</a><span>|</span><a href="#38593949">next</a><span>|</span><label class="collapse" for="c-38594391">[-]</label><label class="expand" for="c-38594391">[3 more]</label></div><br/><div class="children"><div class="content">You&#x27;d have some enthusiastic readers for writing compilers in assembly. Especially if you went down the route of progressively more capable assemblers. But &quot;some&quot; might be fewer than five.</div><br/><div id="38598790" class="c"><input type="checkbox" id="c-38598790" checked=""/><div class="controls bullet"><span class="by">082349872349872</span><span>|</span><a href="#38592417">root</a><span>|</span><a href="#38594391">parent</a><span>|</span><a href="#38596777">next</a><span>|</span><label class="collapse" for="c-38598790">[-]</label><label class="expand" for="c-38598790">[1 more]</label></div><br/><div class="children"><div class="content">I would recommend 3 stages:<p><pre><code>   - write either a GPM-style macro expander (short, but lazy) in machine code
        or a META II-style transducer (longer, but eager) in assembly
   - use that to write a rudimentary bootstrap language (~B&#x2F;early C)
   - use that to implement T3X
</code></pre>
but of course Nils probably has a much better idea of the ideal bootstrap path?</div><br/></div></div><div id="38596777" class="c"><input type="checkbox" id="c-38596777" checked=""/><div class="controls bullet"><span class="by">ramilefu</span><span>|</span><a href="#38592417">root</a><span>|</span><a href="#38594391">parent</a><span>|</span><a href="#38598790">prev</a><span>|</span><a href="#38593949">next</a><span>|</span><label class="collapse" for="c-38596777">[-]</label><label class="expand" for="c-38596777">[1 more]</label></div><br/><div class="children"><div class="content">Make that six! I’m in!</div><br/></div></div></div></div></div></div></div></div><div id="38593949" class="c"><input type="checkbox" id="c-38593949" checked=""/><div class="controls bullet"><span class="by">Max-q</span><span>|</span><a href="#38592417">prev</a><span>|</span><a href="#38592475">next</a><span>|</span><label class="collapse" for="c-38593949">[-]</label><label class="expand" for="c-38593949">[3 more]</label></div><br/><div class="children"><div class="content">This comment is not ment to be negative, just some insight that might be valuable.<p>I read the free chapter. One thing I noticed right away was that I think some things can be hard for people with not so much knowledge about the topic: under each headline, it explains a concept from the ground up, no knowledge required. Like &quot;the syntax of a language is...&quot;. But just a few sentences in, advanced topics are touched, like assembly instructions, not explained. It feels a bit like &quot;the curse of knowledge&quot;, where it&#x27;s hard to know what the other party knows. But if the reader needs to learn what syntax means, they will probably not understand the next sentences.<p>So, I think more consistency could improve the product.<p>This is of course just my meaning and interpretation of the text, it might not be relevant. But maybe something to have in mind for your next masterpiece :)</div><br/><div id="38594295" class="c"><input type="checkbox" id="c-38594295" checked=""/><div class="controls bullet"><span class="by">nils-m-holm</span><span>|</span><a href="#38593949">parent</a><span>|</span><a href="#38594294">next</a><span>|</span><label class="collapse" for="c-38594295">[-]</label><label class="expand" for="c-38594295">[1 more]</label></div><br/><div class="children"><div class="content">&gt; under each headline, it explains a concept from the ground up, no knowledge required. Like &quot;the syntax of a language is...&quot;. But just a few sentences in, advanced topics are touched, like assembly instructions, not explained.<p>As the blurb of the book states: no prior knowledge in the field of compiler construction is required, but the reader should be familiar with at least one procedural language and one assembly language. So I thought it would be OK to assume that the reader knows about things like assembly instructions.<p>Then the appendix of the book has a short introduction to Z80 assembly (which still assumes that you know the basics of assembly language).<p>Every books starts <i>somewhere</i>. It would be hard to write a compiler construction book and assuming zero knowledge about computer programming.<p>I am not saying that the curse of knowledge is not a thing, though, so I will definitely keep this in mind!</div><br/></div></div></div></div><div id="38592475" class="c"><input type="checkbox" id="c-38592475" checked=""/><div class="controls bullet"><span class="by">eterps</span><span>|</span><a href="#38593949">prev</a><span>|</span><a href="#38591871">next</a><span>|</span><label class="collapse" for="c-38592475">[-]</label><label class="expand" for="c-38592475">[2 more]</label></div><br/><div class="children"><div class="content">It would also be interesting to have a book on writing your own CP&#x2F;M-like OS.</div><br/><div id="38593157" class="c"><input type="checkbox" id="c-38593157" checked=""/><div class="controls bullet"><span class="by">retrac</span><span>|</span><a href="#38592475">parent</a><span>|</span><a href="#38591871">next</a><span>|</span><label class="collapse" for="c-38593157">[-]</label><label class="expand" for="c-38593157">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s Andrew Tanenbaum&#x27;s 
<i>Operating Systems Design and Implementation</i>.<p>Now, yes, that shows you how to write a Unix-like microkernel OS; just skip everything except the file system chapter.  And don&#x27;t follow the advice about tree data structures.  Just use flat tables, and don&#x27;t bother to implement exact file sizes.   Presto: CP&#x2F;M.<p>(I prefer the 2nd edition.  The 3rd edition needlessly complicates IMO, mostly so the demo Minix code will work on a late 1990s PC instead of a 1980s PC.)</div><br/></div></div></div></div><div id="38591871" class="c"><input type="checkbox" id="c-38591871" checked=""/><div class="controls bullet"><span class="by">thinkmassive</span><span>|</span><a href="#38592475">prev</a><span>|</span><a href="#38593353">next</a><span>|</span><label class="collapse" for="c-38591871">[-]</label><label class="expand" for="c-38591871">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20231210141834&#x2F;http:&#x2F;&#x2F;t3x.org&#x2F;t3x&#x2F;0&#x2F;book.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20231210141834&#x2F;http:&#x2F;&#x2F;t3x.org&#x2F;t3...</a></div><br/></div></div><div id="38593353" class="c"><input type="checkbox" id="c-38593353" checked=""/><div class="controls bullet"><span class="by">freedomben</span><span>|</span><a href="#38591871">prev</a><span>|</span><label class="collapse" for="c-38593353">[-]</label><label class="expand" for="c-38593353">[9 more]</label></div><br/><div class="children"><div class="content">Why such a focus on retro computing?  As an oldie I think it&#x27;s cool (though a bit impractical learning the parts that aren&#x27;t applicable to modern stuff), but my son is interested in learning operating systems, compilers, etc, and I could never get him to use something so &quot;outdated.&quot;<p>To be clear, I&#x27;m not attempting to criticize with this question (my personal opinion is write about what interests you, even if nobody else will care), I&#x27;m assuming you choose older targets for a reason, and would like to undestand those reasons :-)<p>I.e. Do you believe the retro targets to be a lot simpler and easier to understand, so people can iterate&#x2F;build in layers?  Or do you just know the retro stuff better so it makes for a better book?</div><br/><div id="38593441" class="c"><input type="checkbox" id="c-38593441" checked=""/><div class="controls bullet"><span class="by">nils-m-holm</span><span>|</span><a href="#38593353">parent</a><span>|</span><a href="#38596788">next</a><span>|</span><label class="collapse" for="c-38593441">[-]</label><label class="expand" for="c-38593441">[5 more]</label></div><br/><div class="children"><div class="content">My personal perspective is that computing has become much more complicated than necessary in the past decades. Of course abstraction will always create complexity, and some of that can hardly be avoided, but in computing these days complexity is really off the charts.<p>So for this book I chose a platform that is easy to understand and does not make you wade through tons of abstractions that are only loosely related to compiler construction (e.g. ELF object file format).</div><br/><div id="38593896" class="c"><input type="checkbox" id="c-38593896" checked=""/><div class="controls bullet"><span class="by">082349872349872</span><span>|</span><a href="#38593353">root</a><span>|</span><a href="#38593441">parent</a><span>|</span><a href="#38596788">next</a><span>|</span><label class="collapse" for="c-38593896">[-]</label><label class="expand" for="c-38593896">[4 more]</label></div><br/><div class="children"><div class="content">Here&#x27;s one way to avoid going into detail on ELF: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=38592000">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=38592000</a><p>&quot;(nearly) constant&quot; means you can pick either (a) a constant blob, at the cost of a fixed image size, à la COM, or (b) patch up length (one or two places, iirc) if you&#x27;re feeling fancy.</div><br/><div id="38593981" class="c"><input type="checkbox" id="c-38593981" checked=""/><div class="controls bullet"><span class="by">nils-m-holm</span><span>|</span><a href="#38593353">root</a><span>|</span><a href="#38593896">parent</a><span>|</span><a href="#38596788">next</a><span>|</span><label class="collapse" for="c-38593981">[-]</label><label class="expand" for="c-38593981">[3 more]</label></div><br/><div class="children"><div class="content">In one of my other compiler books (<a href="http:&#x2F;&#x2F;t3x.org&#x2F;t3x&#x2F;book.html" rel="nofollow noreferrer">http:&#x2F;&#x2F;t3x.org&#x2F;t3x&#x2F;book.html</a>) I just use a template for the ELF header, but I still think it adds too much complexity. One reader complained about it.</div><br/><div id="38594763" class="c"><input type="checkbox" id="c-38594763" checked=""/><div class="controls bullet"><span class="by">082349872349872</span><span>|</span><a href="#38593353">root</a><span>|</span><a href="#38593981">parent</a><span>|</span><a href="#38596788">next</a><span>|</span><label class="collapse" for="c-38594763">[-]</label><label class="expand" for="c-38594763">[2 more]</label></div><br/><div class="children"><div class="content">found it: <i>elfheader()</i> in <a href="https:&#x2F;&#x2F;t3x.org&#x2F;t3x&#x2F;t.t.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;t3x.org&#x2F;t3x&#x2F;t.t.html</a><p>fwiw, I think you commented it very nicely; de gustibus!<p>Did you come up with <i>if</i> vs. <i>ie ... else ...</i> independently or inherit it from BCPL?</div><br/><div id="38594894" class="c"><input type="checkbox" id="c-38594894" checked=""/><div class="controls bullet"><span class="by">nils-m-holm</span><span>|</span><a href="#38593353">root</a><span>|</span><a href="#38594763">parent</a><span>|</span><a href="#38596788">next</a><span>|</span><label class="collapse" for="c-38594894">[-]</label><label class="expand" for="c-38594894">[1 more]</label></div><br/><div class="children"><div class="content">&gt; fwiw, I think you commented it very nicely;<p>Thanks, I thought so, too, but I can also understand that the comments are not very helpful, if you know nothing about linkers, paging, and object files.<p>I think I adopted IE&#x2F;ELSE from BCPL, but thought that IE is nicer than TEST, because it is itself short for If&#x2F;Else and because it looks almost like IF.<p>&gt; de gustibus!<p>Funny, I just started to brush up my Latin! :)</div><br/></div></div></div></div></div></div></div></div></div></div><div id="38596788" class="c"><input type="checkbox" id="c-38596788" checked=""/><div class="controls bullet"><span class="by">unoti</span><span>|</span><a href="#38593353">parent</a><span>|</span><a href="#38593441">prev</a><span>|</span><a href="#38593604">next</a><span>|</span><label class="collapse" for="c-38596788">[-]</label><label class="expand" for="c-38596788">[1 more]</label></div><br/><div class="children"><div class="content">For me the interest in retro computing is that the computer is so much simpler that it is indeed possible to understand.  The set of assembly instructions is small enough that a person can understand every opcode fairly easily, the amount of memory is limited, and the list of things that that your installed ROM can do is relatively accessible.  Contrast that to modern machines and operating systems, and no mere mortal can understand everything that is happening in the machine.<p>Another thing to love about retro computers is how transferrable the knowledge is to modern machines.  Once you know the essence of assembly language on a retro computer, you have a good basis for learning RISC-V or something else modern.<p>Depending on where your son is at, he might enjoy this video where I explain the essence of assembly language-- it&#x27;s the video I wished someone had shown to me when I was a kid and thought I wasn&#x27;t smart enough to learn it.<p><a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=ep7gcyrbutA" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=ep7gcyrbutA</a></div><br/></div></div><div id="38593604" class="c"><input type="checkbox" id="c-38593604" checked=""/><div class="controls bullet"><span class="by">Archbtw97543</span><span>|</span><a href="#38593353">parent</a><span>|</span><a href="#38596788">prev</a><span>|</span><a href="#38593381">next</a><span>|</span><label class="collapse" for="c-38593604">[-]</label><label class="expand" for="c-38593604">[1 more]</label></div><br/><div class="children"><div class="content">Newer compilers or other low level programs have become extremely complex. There a loads of features or optimizations which are not strictly necessary but still add a lot of complexity
 Attemptting to explain how modern compilers work would most likely result in lots of confusion.</div><br/></div></div></div></div></div></div></div></div></div></body></html>