<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1682672452493" as="style"/><link rel="stylesheet" href="styles.css?v=1682672452493"/><link rel="apple-touch-startup-image" href="https://png.pngtree.com/png-clipart/20210309/original/pngtree-a-squatting-tabby-cat-png-image_5803660.jpg"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://blog.datomic.com/2023/04/datomic-is-free.html">Datomic is Free</a> <span class="domain">(<a href="https://blog.datomic.com">blog.datomic.com</a>)</span></div><div class="subtext"><span>xmlblog</span> | <span>302 comments</span></div><br/><div><div id="35728143" class="c"><input type="checkbox" id="c-35728143" checked=""/><div class="controls bullet"><span class="by">augustl</span><span>|</span><a href="#35728964">next</a><span>|</span><label class="collapse" for="c-35728143">[-]</label><label class="expand" for="c-35728143">[49 more]</label></div><br/><div class="children"><div class="content">Datomic&#x27;s is perfect for probably 90% of small-ish backoffice systems that never has to be web scale (i.e. most of what I do at work).<p>Writing in a single thread removes a whole host of problems in understanding (and implementing) how data changes over time. (And a busy MVCC sql db spends 75% of its time doing coordination, not actual writes, so a single thread applying a queue of transactions in sequence can be faster than your gut feeling might tell you.)<p>Transactions as first-class entities of the system means you can easily add meta-data for every change in the system that explains who and why the change happened, so you&#x27;ll never again have to wonder &quot;hmm, why does that column have that value, and how did it happen&quot;. Once you get used to this, doing UPDATE in SQL feels pretty weird, as the default mode of operation of your _business data_ is to delete data, with no trace of who and why!<p>Having the value of the entire database at a point in time available to your business logic as a (lazy) immutable value you can run queries on opens up completely new ways of writing code, and lets your database follow &quot;functional core, imperative shell&quot;. Someone needs to have the working set of your database in memory, why shouldn&#x27;t it be your app server and business logic?<p>Looking forward to see what this does for the adoption of Datomic!</div><br/><div id="35728794" class="c"><input type="checkbox" id="c-35728794" checked=""/><div class="controls bullet"><span class="by">electroly</span><span>|</span><a href="#35728143">parent</a><span>|</span><a href="#35731013">next</a><span>|</span><label class="collapse" for="c-35728794">[-]</label><label class="expand" for="c-35728794">[24 more]</label></div><br/><div class="children"><div class="content">&gt; Someone needs to have the working set of your database in memory, why shouldn&#x27;t it be your app server and business logic?<p>This one confused me. The obvious reason why you don&#x27;t want the whole working set of your database in the app server&#x27;s memory is because you have lots of app servers, whereas you only have one database[1]. This suggests that you put the working set of the database <i>in the database</i>, so that you still only need the one copy, not in the app servers where you&#x27;d need N copies of it.<p>The rest of your post makes sense to me but the thing about keeping the database&#x27;s working set in your app server&#x27;s memory does not. That&#x27;s something we specifically work to avoid.<p>[1] Still talking about &quot;non-webscale&quot; office usage here, that&#x27;s the world I live in as well. One big central database server, lots of apps and app servers strewn about.</div><br/><div id="35729730" class="c"><input type="checkbox" id="c-35729730" checked=""/><div class="controls bullet"><span class="by">dimitar</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35728794">parent</a><span>|</span><a href="#35729171">next</a><span>|</span><label class="collapse" for="c-35729730">[-]</label><label class="expand" for="c-35729730">[15 more]</label></div><br/><div class="children"><div class="content">Consider this use case - in addition to your web app, you have a reporting service that makes heavy duty reports; if you run one at a bad time, bad things might happen like users not being able to log in or do any other important work, because the database is busy with the reports.<p>So in a traditional DB you might have a DBA set up a reporting database so the operational one is not affected. Using Datomic the reporting service gets a datomic peer that has a copy of the DB in database without any extra DBA work and without affecting any web services. This also works nicely with batch jobs or in any situation where you don&#x27;t want to have different services affect each others performance.<p>Its true that a lot more memory gets used, but it is relatively cheap - usually the biggest cost when hosting in the cloud being the vCPUs. But usually in Clojure&#x2F;Datomic web application you don&#x27;t need to put various cache services like Redis in front of your DB.<p>Thea assumption here is that the usual bottleneck for most information systems and business applications is reading and querying data.</div><br/><div id="35730559" class="c"><input type="checkbox" id="c-35730559" checked=""/><div class="controls bullet"><span class="by">electroly</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35729730">parent</a><span>|</span><a href="#35731379">next</a><span>|</span><label class="collapse" for="c-35730559">[-]</label><label class="expand" for="c-35730559">[7 more]</label></div><br/><div class="children"><div class="content">I appreciated this insight into other people&#x27;s use cases, thank you for that! This architecture brings RethinkDB to mind, which also had some ability to run your client as a cluster node that you alone get to query. (Although there it was more about receiving the live feed than about caching a local working set.)</div><br/><div id="35732662" class="c"><input type="checkbox" id="c-35732662" checked=""/><div class="controls bullet"><span class="by">svieira</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35730559">parent</a><span>|</span><a href="#35732412">next</a><span>|</span><label class="collapse" for="c-35732662">[-]</label><label class="expand" for="c-35732662">[1 more]</label></div><br/><div class="children"><div class="content">&gt; which also had some ability to run your client as a cluster node that you alone get to query<p>FoundationDB does this as well.</div><br/></div></div><div id="35732412" class="c"><input type="checkbox" id="c-35732412" checked=""/><div class="controls bullet"><span class="by">thewataccount</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35730559">parent</a><span>|</span><a href="#35732662">prev</a><span>|</span><a href="#35731379">next</a><span>|</span><label class="collapse" for="c-35732412">[-]</label><label class="expand" for="c-35732412">[5 more]</label></div><br/><div class="children"><div class="content">Is RethinkDB still around?<p>They actually have recent commits, and a release last year.</div><br/><div id="35732556" class="c"><input type="checkbox" id="c-35732556" checked=""/><div class="controls bullet"><span class="by">electroly</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35732412">parent</a><span>|</span><a href="#35731379">next</a><span>|</span><label class="collapse" for="c-35732556">[-]</label><label class="expand" for="c-35732556">[4 more]</label></div><br/><div class="children"><div class="content">The company is gone, but the open source project lives on. We still use it in production.</div><br/><div id="35732824" class="c"><input type="checkbox" id="c-35732824" checked=""/><div class="controls bullet"><span class="by">thewataccount</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35732556">parent</a><span>|</span><a href="#35731379">next</a><span>|</span><label class="collapse" for="c-35732824">[-]</label><label class="expand" for="c-35732824">[3 more]</label></div><br/><div class="children"><div class="content">How&#x27;s it been for production?<p>Would you recommend using it, or would it be better to go with a safer option?</div><br/><div id="35732993" class="c"><input type="checkbox" id="c-35732993" checked=""/><div class="controls bullet"><span class="by">electroly</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35732824">parent</a><span>|</span><a href="#35731379">next</a><span>|</span><label class="collapse" for="c-35732993">[-]</label><label class="expand" for="c-35732993">[2 more]</label></div><br/><div class="children"><div class="content">We&#x27;ve never had any issue with it on a typical three-node install in Kubernetes. It requires essentially no ongoing management. That said, it can&#x27;t be ignored that the company went under and now it&#x27;s in community maintenance mode. If you don&#x27;t have a specific good use for Rethink&#x27;s changefeed functionality, which sets it apart from the alternatives, I&#x27;m not sure I could recommend it for new development. We&#x27;ve chosen not to rip it out, but we&#x27;re not developing new things on it.</div><br/><div id="35733434" class="c"><input type="checkbox" id="c-35733434" checked=""/><div class="controls bullet"><span class="by">thewataccount</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35732993">parent</a><span>|</span><a href="#35731379">next</a><span>|</span><label class="collapse" for="c-35733434">[-]</label><label class="expand" for="c-35733434">[1 more]</label></div><br/><div class="children"><div class="content">Interesting thank you!<p>I remember back when it came out it was a big deal that it could easily scale master-master nodes and the object format was a big thing because of Mongo back then.<p>That was before k8&#x27;s wasn&#x27;t a thing back then, and most of the failover for other databases wasn&#x27;t a thing just yet. I&#x27;m too scared to use it because they have a community but they&#x27;re obviously nowhere as active as the Postgres and other communities.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="35733424" class="c"><input type="checkbox" id="c-35733424" checked=""/><div class="controls bullet"><span class="by">tyre</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35729730">parent</a><span>|</span><a href="#35731379">prev</a><span>|</span><a href="#35729171">next</a><span>|</span><label class="collapse" for="c-35733424">[-]</label><label class="expand" for="c-35733424">[6 more]</label></div><br/><div class="children"><div class="content">With AWS you can create a replica with a few clicks. Latency is measured in milliseconds for the three-nines observed usage.<p>I don’t think this is a huge challenge (anymore) for Postgres or whatever traditional database.</div><br/><div id="35735291" class="c"><input type="checkbox" id="c-35735291" checked=""/><div class="controls bullet"><span class="by">dimitar</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35733424">parent</a><span>|</span><a href="#35733469">next</a><span>|</span><label class="collapse" for="c-35735291">[-]</label><label class="expand" for="c-35735291">[1 more]</label></div><br/><div class="children"><div class="content">That is a read replica, datomic peers can do writes as well, which further expands the possible use cases.</div><br/></div></div><div id="35733469" class="c"><input type="checkbox" id="c-35733469" checked=""/><div class="controls bullet"><span class="by">augustl</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35733424">parent</a><span>|</span><a href="#35735291">prev</a><span>|</span><a href="#35729171">next</a><span>|</span><label class="collapse" for="c-35733469">[-]</label><label class="expand" for="c-35733469">[4 more]</label></div><br/><div class="children"><div class="content">A few milliseconds per query adds up if you&#x27;re doing one query per item in a list with 100s or 1000s of elements :)</div><br/><div id="35736572" class="c"><input type="checkbox" id="c-35736572" checked=""/><div class="controls bullet"><span class="by">tyre</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35733469">parent</a><span>|</span><a href="#35737210">next</a><span>|</span><label class="collapse" for="c-35736572">[-]</label><label class="expand" for="c-35736572">[1 more]</label></div><br/><div class="children"><div class="content">ah okay. in that case add in a couple hours to refactor those N+1 queries and you’re all good</div><br/></div></div><div id="35737210" class="c"><input type="checkbox" id="c-35737210" checked=""/><div class="controls bullet"><span class="by">bt1a</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35733469">parent</a><span>|</span><a href="#35736572">prev</a><span>|</span><a href="#35729171">next</a><span>|</span><label class="collapse" for="c-35737210">[-]</label><label class="expand" for="c-35737210">[2 more]</label></div><br/><div class="children"><div class="content">when do you ever have to do one query per array of items? genuinely curious</div><br/><div id="35737738" class="c"><input type="checkbox" id="c-35737738" checked=""/><div class="controls bullet"><span class="by">augustl</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35737210">parent</a><span>|</span><a href="#35729171">next</a><span>|</span><label class="collapse" for="c-35737738">[-]</label><label class="expand" for="c-35737738">[1 more]</label></div><br/><div class="children"><div class="content">I suppose I think of this the other way around. When the query engine is inside your app, the query engine doesn&#x27;t need to do loop-like things. So you can have a much simpler querying language and mix it with plain code, kind of similar to how you don&#x27;t need a templating language in React (and in Clojure when you use hiccup to represent HTML)<p>Additionally, this laziness means your business logic can dynamically choose which data to pull in based on results of queries, and you end up with running fewer queries as you&#x27;ll never need to pull in extra data in one huge query in case business logic needs it.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="35729171" class="c"><input type="checkbox" id="c-35729171" checked=""/><div class="controls bullet"><span class="by">augustl</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35728794">parent</a><span>|</span><a href="#35729730">prev</a><span>|</span><a href="#35728875">next</a><span>|</span><label class="collapse" for="c-35729171">[-]</label><label class="expand" for="c-35729171">[4 more]</label></div><br/><div class="children"><div class="content">It&#x27;s definitely a trade-off! If you have 10s or 100s of app servers that has the exact same working set in memory, it&#x27;s probably not worth it.<p>But if you have a handful of app servers, it&#x27;s much more reasonable. The relatively low scale back-office systems I tend to work with typically has 2, max 3. Also, spinning up an extra instance that does some data crunching does not affect the performance of the app servers, as they don&#x27;t have to coordinate.<p>There&#x27;s also the performance and practicality benefits you get from not having to do round-trips in order to query. You can now actually do 100 queries in a loop, instead of having to formulate everything as a single query.<p>And if you have many different apps that operates on the same DB, it becomes a benefit as well. The app server will only have the _actual_ working set it queries on in memory, not the sum of the working set across all of the app servers.<p>If this becomes a problem, you can always architecture your way around it as well, by having two beefy API app servers that your 10s or 100s of other app servers talks to.</div><br/><div id="35729584" class="c"><input type="checkbox" id="c-35729584" checked=""/><div class="controls bullet"><span class="by">electroly</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35729171">parent</a><span>|</span><a href="#35731471">next</a><span>|</span><label class="collapse" for="c-35729584">[-]</label><label class="expand" for="c-35729584">[2 more]</label></div><br/><div class="children"><div class="content">SQLite provides a similar benefit with tremendous results using its in-process database engine, although the benefit there is more muted by default because of the very small default cache size. We do have one app where we do this. There&#x27;s no database server, the app server uses SQLite to talk directly to S3 and the app server itself caches its working set in memory. I can definitely see the benefit of some situations, but for us it was a pretty unusual situation that we might not ever encounter again.<p>All that said... can&#x27;t Datomic also do traditional query execution on the server? I thought it had support for scale-out compute for that. AIUI, you have the option to run as either a full peer or just an RPC client on a case-by-case basis? I thought you wouldn&#x27;t need to resort to writing your own API intermediary, you could just connect to Datomic via RPC, right?</div><br/><div id="35731483" class="c"><input type="checkbox" id="c-35731483" checked=""/><div class="controls bullet"><span class="by">carry_bit</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35729584">parent</a><span>|</span><a href="#35731471">next</a><span>|</span><label class="collapse" for="c-35731483">[-]</label><label class="expand" for="c-35731483">[1 more]</label></div><br/><div class="children"><div class="content">AIUI, the full peer <i>is</i> Datomic; the RPC server is just a full peer that exposes the API over http and is mainly intended to be used with clients that don&#x27;t run on the JVM (and so can&#x27;t run Datomic itself in-process).</div><br/></div></div></div></div><div id="35731471" class="c"><input type="checkbox" id="c-35731471" checked=""/><div class="controls bullet"><span class="by">xmlblog</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35729171">parent</a><span>|</span><a href="#35729584">prev</a><span>|</span><a href="#35728875">next</a><span>|</span><label class="collapse" for="c-35731471">[-]</label><label class="expand" for="c-35731471">[1 more]</label></div><br/><div class="children"><div class="content">&gt; If you have 10s or 100s of app servers that has the exact same working set in memory, it&#x27;s probably not worth it.<p>The introduction of intelligent application-level partitioning [1] and routing schemes can help one balance cost and performance.<p>[1] <a href="https:&#x2F;&#x2F;blog.datomic.com&#x2F;2023&#x2F;04&#x2F;implicit-partitions.html" rel="nofollow">https:&#x2F;&#x2F;blog.datomic.com&#x2F;2023&#x2F;04&#x2F;implicit-partitions.html</a></div><br/></div></div></div></div><div id="35728875" class="c"><input type="checkbox" id="c-35728875" checked=""/><div class="controls bullet"><span class="by">NovemberWhiskey</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35728794">parent</a><span>|</span><a href="#35729171">prev</a><span>|</span><a href="#35731393">next</a><span>|</span><label class="collapse" for="c-35728875">[-]</label><label class="expand" for="c-35728875">[2 more]</label></div><br/><div class="children"><div class="content">I think the point is that treating your database as an arms-length, RPC component  that&#x27;s independent from your &quot;application&quot; isn&#x27;t necessarily the only pattern.</div><br/><div id="35729211" class="c"><input type="checkbox" id="c-35729211" checked=""/><div class="controls bullet"><span class="by">foobiekr</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35728875">parent</a><span>|</span><a href="#35731393">next</a><span>|</span><label class="collapse" for="c-35729211">[-]</label><label class="expand" for="c-35729211">[1 more]</label></div><br/><div class="children"><div class="content">Strong agree. there are vast, massive cost savings and performance advantages to be had if the model is that a shard of the dataset is in memory and the data persistence problem is the part that&#x27;s made external. The only reason we are where we are today is that doing that well is hard.</div><br/></div></div></div></div><div id="35731393" class="c"><input type="checkbox" id="c-35731393" checked=""/><div class="controls bullet"><span class="by">xmlblog</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35728794">parent</a><span>|</span><a href="#35728875">prev</a><span>|</span><a href="#35732718">next</a><span>|</span><label class="collapse" for="c-35731393">[-]</label><label class="expand" for="c-35731393">[1 more]</label></div><br/><div class="children"><div class="content">Having the working set present on app servers means they don&#x27;t put load on a precious centralized resource which becomes a bottleneck for reads. The peer model allows app servers to service reads directly, avoiding the cost of contention and an additional network hop, allowing for massive read scale.</div><br/></div></div><div id="35732718" class="c"><input type="checkbox" id="c-35732718" checked=""/><div class="controls bullet"><span class="by">bruiseralmighty</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35728794">parent</a><span>|</span><a href="#35731393">prev</a><span>|</span><a href="#35731013">next</a><span>|</span><label class="collapse" for="c-35732718">[-]</label><label class="expand" for="c-35732718">[1 more]</label></div><br/><div class="children"><div class="content">This is true, but the tradeoff is that now your central DB is a bottleneck that is difficult to scale.<p>Having the applications keep a cached version of the db means that when one of them runs a complex or resource intensive query, it&#x27;s not affecting everyone else.</div><br/></div></div></div></div><div id="35731013" class="c"><input type="checkbox" id="c-35731013" checked=""/><div class="controls bullet"><span class="by">epolanski</span><span>|</span><a href="#35728143">parent</a><span>|</span><a href="#35728794">prev</a><span>|</span><a href="#35729769">next</a><span>|</span><label class="collapse" for="c-35731013">[-]</label><label class="expand" for="c-35731013">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Datomic&#x27;s is perfect for probably 90% of small-ish backoffice systems that never has to be web scale (i.e. most of what I do at work).<p>So is any cloud-managed db offering and at that scale we talking very small costs anyway.<p>Why datomic instead?</div><br/><div id="35731093" class="c"><input type="checkbox" id="c-35731093" checked=""/><div class="controls bullet"><span class="by">augustl</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35731013">parent</a><span>|</span><a href="#35729769">next</a><span>|</span><label class="collapse" for="c-35731093">[-]</label><label class="expand" for="c-35731093">[1 more]</label></div><br/><div class="children"><div class="content">Because of the reasons I list :) Anything in particular that wasn&#x27;t clear&#x2F;relevant?</div><br/></div></div></div></div><div id="35729769" class="c"><input type="checkbox" id="c-35729769" checked=""/><div class="controls bullet"><span class="by">xpe</span><span>|</span><a href="#35728143">parent</a><span>|</span><a href="#35731013">prev</a><span>|</span><a href="#35729063">next</a><span>|</span><label class="collapse" for="c-35729769">[-]</label><label class="expand" for="c-35729769">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Datomic&#x27;s is perfect for probably 90% of small-ish backoffice systems that never has to be web scale (i.e. most of what I do at work).<p>I don’t think I agree with this as stated. It is too squishy and subjective to say “perfect”.<p>More broadly, the above is not and should not be a cognitive “anchor point” for reasonable use cases for Datomic. Making that kind of claim requires a lot more analysis and persuasion.</div><br/><div id="35730158" class="c"><input type="checkbox" id="c-35730158" checked=""/><div class="controls bullet"><span class="by">augustl</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35729769">parent</a><span>|</span><a href="#35729063">next</a><span>|</span><label class="collapse" for="c-35730158">[-]</label><label class="expand" for="c-35730158">[1 more]</label></div><br/><div class="children"><div class="content">I agree, I mostly phrased it that way for effect. My &quot;analysis&quot; is 100% subjective, opinionated and anecdotal :)</div><br/></div></div></div></div><div id="35729063" class="c"><input type="checkbox" id="c-35729063" checked=""/><div class="controls bullet"><span class="by">fulafel</span><span>|</span><a href="#35728143">parent</a><span>|</span><a href="#35729769">prev</a><span>|</span><a href="#35731746">next</a><span>|</span><label class="collapse" for="c-35729063">[-]</label><label class="expand" for="c-35729063">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Someone needs to have the working set of your database in memory, why shouldn&#x27;t it be your app server and business logic?<p>This is Ions in the Cloud version, or for on-prem version the in-process peer library.</div><br/></div></div><div id="35731746" class="c"><input type="checkbox" id="c-35731746" checked=""/><div class="controls bullet"><span class="by">brundolf</span><span>|</span><a href="#35728143">parent</a><span>|</span><a href="#35729063">prev</a><span>|</span><a href="#35733382">next</a><span>|</span><label class="collapse" for="c-35731746">[-]</label><label class="expand" for="c-35731746">[8 more]</label></div><br/><div class="children"><div class="content">Something I&#x27;ve been curious about: how well (or badly) would it scale to do something similar on a normal relational DB (say, Postgres)?<p>You could have one or more append-only tables that store events&#x2F;transactions&#x2F;whatever you want to call them, and then materialized-views (or whatever) which gather that history into a &quot;current state&quot; of &quot;entities&quot;, as needed<p>If eventual-consistency is acceptable, it seems like you could aggressively cache and&#x2F;or distribute reads. Maybe you could even do clever stuff like recomputing state only from the last event you had, instead of from scratch every time<p>How bad of an idea is this?</div><br/><div id="35731887" class="c"><input type="checkbox" id="c-35731887" checked=""/><div class="controls bullet"><span class="by">augustl</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35731746">parent</a><span>|</span><a href="#35735127">next</a><span>|</span><label class="collapse" for="c-35731887">[-]</label><label class="expand" for="c-35731887">[6 more]</label></div><br/><div class="children"><div class="content">Datomic already sort of does this :) You configure a storage backend (Datomic does not write to disk directly) which can be dynamodb, riak, or any JDBC database including postgres. You won&#x27;t get readable data in PG though, as Datomic stores opaque compressed chunks in a key&#x2F;value structure. The chunks are adressable via the small handful of built-in indexes that Datomic provides for querying, and the indexes are covering, i.e. data is duplicated for each index.</div><br/><div id="35732087" class="c"><input type="checkbox" id="c-35732087" checked=""/><div class="controls bullet"><span class="by">brundolf</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35731887">parent</a><span>|</span><a href="#35735127">next</a><span>|</span><label class="collapse" for="c-35732087">[-]</label><label class="expand" for="c-35732087">[5 more]</label></div><br/><div class="children"><div class="content">Interesting! I assumed Datomic was entirely custom<p>Now I&#x27;m even more curious if you could skip Datomic and just do something like this directly with a relational DB in production</div><br/><div id="35733901" class="c"><input type="checkbox" id="c-35733901" checked=""/><div class="controls bullet"><span class="by">JBiserkov</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35732087">parent</a><span>|</span><a href="#35733250">next</a><span>|</span><label class="collapse" for="c-35733901">[-]</label><label class="expand" for="c-35733901">[1 more]</label></div><br/><div class="children"><div class="content">But why?! The whole point of Datomic is that it implements this entire immutable framework for you, on top of mutable storage.<p>So YOU can focus on building your own specific business logic, instead of re-implementing the immutable DB wheel.</div><br/></div></div><div id="35733250" class="c"><input type="checkbox" id="c-35733250" checked=""/><div class="controls bullet"><span class="by">kamma4434</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35732087">parent</a><span>|</span><a href="#35733901">prev</a><span>|</span><a href="#35735127">next</a><span>|</span><label class="collapse" for="c-35733250">[-]</label><label class="expand" for="c-35733250">[3 more]</label></div><br/><div class="children"><div class="content">Yes, but you end up rewriting Datomic!</div><br/><div id="35738281" class="c"><input type="checkbox" id="c-35738281" checked=""/><div class="controls bullet"><span class="by">Moru</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35733250">parent</a><span>|</span><a href="#35733875">next</a><span>|</span><label class="collapse" for="c-35738281">[-]</label><label class="expand" for="c-35738281">[1 more]</label></div><br/><div class="children"><div class="content">Nah, our (not very good) implementation existed 10 years before Datomic :-)</div><br/></div></div><div id="35733875" class="c"><input type="checkbox" id="c-35733875" checked=""/><div class="controls bullet"><span class="by">brundolf</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35733250">parent</a><span>|</span><a href="#35738281">prev</a><span>|</span><a href="#35735127">next</a><span>|</span><label class="collapse" for="c-35733875">[-]</label><label class="expand" for="c-35733875">[1 more]</label></div><br/><div class="children"><div class="content">Well, except it sounds like Datomic is closed-source :)</div><br/></div></div></div></div></div></div></div></div><div id="35735127" class="c"><input type="checkbox" id="c-35735127" checked=""/><div class="controls bullet"><span class="by">koreth1</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35731746">parent</a><span>|</span><a href="#35731887">prev</a><span>|</span><a href="#35733382">next</a><span>|</span><label class="collapse" for="c-35735127">[-]</label><label class="expand" for="c-35735127">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s a pretty common pattern in event-sourcing architectures. It is a completely viable way to do things as long as &quot;eventual-consistency is acceptable&quot; is actually true.</div><br/></div></div></div></div><div id="35733382" class="c"><input type="checkbox" id="c-35733382" checked=""/><div class="controls bullet"><span class="by">spariev</span><span>|</span><a href="#35728143">parent</a><span>|</span><a href="#35731746">prev</a><span>|</span><a href="#35730612">next</a><span>|</span><label class="collapse" for="c-35733382">[-]</label><label class="expand" for="c-35733382">[4 more]</label></div><br/><div class="children"><div class="content">One thing which is quite hard to do in Datomic is simple pagination on a large sorted dataset, as one can easily do with LIMIT&#x2F;OFFSET in MySQL for example. There are solutions for some of the cases, but general case is not solved, as far as I remember (it’s been a while I used it extensively)</div><br/><div id="35733796" class="c"><input type="checkbox" id="c-35733796" checked=""/><div class="controls bullet"><span class="by">augustl</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35733382">parent</a><span>|</span><a href="#35733884">next</a><span>|</span><label class="collapse" for="c-35733796">[-]</label><label class="expand" for="c-35733796">[2 more]</label></div><br/><div class="children"><div class="content">It depends! If you want to lazily walk data, you can read directly from the index (keep in mind, the index = the data = lives in your app), or use the index-pull API which is a bit more convenient.<p>However, if you want to paginate data that you need to sort first, and the data isn&#x27;t sorted the way you want in the index, you have to read all of the data first, and then sort it. But this is also what a database server would need to do :)</div><br/><div id="35738574" class="c"><input type="checkbox" id="c-35738574" checked=""/><div class="controls bullet"><span class="by">spariev</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35733796">parent</a><span>|</span><a href="#35733884">next</a><span>|</span><label class="collapse" for="c-35738574">[-]</label><label class="expand" for="c-35738574">[1 more]</label></div><br/><div class="children"><div class="content">Yep, I am well aware of these specifics and workarounds, but in general case where is no general solution to the question asked here, for example [0].
And for big datasets with complex sorting it will take some effort to implement a seemingly simple feature.<p>Guess it is just one of the tradeoffs, as while some features Datomic has out of the box are hard to replicate in RDBMS-es, things like pagination which are often took for granted is a bit of work to do in Datomic. So it is something to keep in mind when considering the switch<p>[0] <a href="https:&#x2F;&#x2F;forum.datomic.com&#x2F;t&#x2F;idiomatic-pagination-using-latest-features&#x2F;1454" rel="nofollow">https:&#x2F;&#x2F;forum.datomic.com&#x2F;t&#x2F;idiomatic-pagination-using-lates...</a></div><br/></div></div></div></div><div id="35733884" class="c"><input type="checkbox" id="c-35733884" checked=""/><div class="controls bullet"><span class="by">convolvatron</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35733382">parent</a><span>|</span><a href="#35733796">prev</a><span>|</span><a href="#35730612">next</a><span>|</span><label class="collapse" for="c-35733884">[-]</label><label class="expand" for="c-35733884">[1 more]</label></div><br/><div class="children"><div class="content">there must be a relational sort? ah yes, there is, and the ability to feed a relational output into a Clojure sort</div><br/></div></div></div></div><div id="35730612" class="c"><input type="checkbox" id="c-35730612" checked=""/><div class="controls bullet"><span class="by">pachico</span><span>|</span><a href="#35728143">parent</a><span>|</span><a href="#35733382">prev</a><span>|</span><a href="#35734461">next</a><span>|</span><label class="collapse" for="c-35730612">[-]</label><label class="expand" for="c-35730612">[2 more]</label></div><br/><div class="children"><div class="content">You seem to describe the Event Source paradigm rather than a database :)</div><br/><div id="35730737" class="c"><input type="checkbox" id="c-35730737" checked=""/><div class="controls bullet"><span class="by">augustl</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35730612">parent</a><span>|</span><a href="#35734461">next</a><span>|</span><label class="collapse" for="c-35730737">[-]</label><label class="expand" for="c-35730737">[1 more]</label></div><br/><div class="children"><div class="content">The main difference between event sourcing and datomic are the indexes and the &quot;schema&quot;, which provides full SQL-like relational query powers out of the box, as well as point-in-time snapshots for every &quot;event&quot; (transactions of facts).<p>So, &quot;events&quot; in Datomic are structured and Datomic uses them to give you query powers, they&#x27;re not opaque blobs of data.</div><br/></div></div></div></div><div id="35734461" class="c"><input type="checkbox" id="c-35734461" checked=""/><div class="controls bullet"><span class="by">JimmyRuska</span><span>|</span><a href="#35728143">parent</a><span>|</span><a href="#35730612">prev</a><span>|</span><a href="#35729553">next</a><span>|</span><label class="collapse" for="c-35734461">[-]</label><label class="expand" for="c-35734461">[1 more]</label></div><br/><div class="children"><div class="content">&gt;  doing UPDATE in SQL feels pretty weird, as the default mode of operation of your _business data_ is to delete data, with no trace of who and why!<p>It&#x27;s a good idea to version your schema changes using something like liquibase into git, that gets rid of at least some of those pains. Liquibase works on a wide variety of databases, even graphs like Neo4j<p>I got the same feeling in Erlang many times, once write operations start getting parallel you worry about atomic operations, and making an Erlang process centralize writes through its message queue always feels natural and easy to reason about.</div><br/></div></div><div id="35729553" class="c"><input type="checkbox" id="c-35729553" checked=""/><div class="controls bullet"><span class="by">Scarbutt</span><span>|</span><a href="#35728143">parent</a><span>|</span><a href="#35734461">prev</a><span>|</span><a href="#35728964">next</a><span>|</span><label class="collapse" for="c-35729553">[-]</label><label class="expand" for="c-35729553">[4 more]</label></div><br/><div class="children"><div class="content"><i>Datomic&#x27;s is perfect for probably 90% of small-ish backoffice systems that never has to be web scale</i><p>How do they scale it for Nubank? (millions of users)</div><br/><div id="35729647" class="c"><input type="checkbox" id="c-35729647" checked=""/><div class="controls bullet"><span class="by">augustl</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35729553">parent</a><span>|</span><a href="#35734323">next</a><span>|</span><label class="collapse" for="c-35729647">[-]</label><label class="expand" for="c-35729647">[1 more]</label></div><br/><div class="children"><div class="content">Good question! I don&#x27;t have any personal experience in that regard. I would probably have paid up for enterprise support (or bought the entire company ;))</div><br/></div></div><div id="35734323" class="c"><input type="checkbox" id="c-35734323" checked=""/><div class="controls bullet"><span class="by">ithrow</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35729553">parent</a><span>|</span><a href="#35729647">prev</a><span>|</span><a href="#35728964">next</a><span>|</span><label class="collapse" for="c-35734323">[-]</label><label class="expand" for="c-35734323">[2 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t how they do it, but the obvious answer is probably sharding. Their cloud costs must be no joke. Peers require tons of memory and I can only guess they must have thousands of transactors to support that workload and who knows how many peers. Add to this that they probably need something like Kafka for integrating&#x2F;pipelining all this data.</div><br/><div id="35735195" class="c"><input type="checkbox" id="c-35735195" checked=""/><div class="controls bullet"><span class="by">outworlder</span><span>|</span><a href="#35728143">root</a><span>|</span><a href="#35734323">parent</a><span>|</span><a href="#35728964">next</a><span>|</span><label class="collapse" for="c-35735195">[-]</label><label class="expand" for="c-35735195">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Peers require tons of memory<p>As do most distributed databases. Even when you don&#x27;t store your entire database (or working set) in memory, you&#x27;ll likely still have to add quite a bit of memory to be used as I&#x2F;O cache.</div><br/></div></div></div></div></div></div></div></div><div id="35728964" class="c"><input type="checkbox" id="c-35728964" checked=""/><div class="controls bullet"><span class="by">mst</span><span>|</span><a href="#35728143">prev</a><span>|</span><a href="#35730665">next</a><span>|</span><label class="collapse" for="c-35728964">[-]</label><label class="expand" for="c-35728964">[13 more]</label></div><br/><div class="children"><div class="content">I guess NuBank (Cognitect&#x27;s owners) have concluded that the paid licensing business wasn&#x27;t worth the hassle compared to having the developer time involved spent on other things.<p>Releasing only binaries, while I understand people being grumpy about it, seems like an interesting way of keeping their options open going forwards. Since it was always closed source, it now being &#x27;closed source but free&#x27; is still a net win.<p>The Datomic&#x2F;Cognitect&#x2F;NuBank relationship is an interesting symbiotic dynamic and while I&#x27;m sure we can all think of ways it might go horribly wrong in future I rather hope it doesn&#x27;t.</div><br/><div id="35730326" class="c"><input type="checkbox" id="c-35730326" checked=""/><div class="controls bullet"><span class="by">motoboi</span><span>|</span><a href="#35728964">parent</a><span>|</span><a href="#35730665">next</a><span>|</span><label class="collapse" for="c-35730326">[-]</label><label class="expand" for="c-35730326">[12 more]</label></div><br/><div class="children"><div class="content">Very probably they understood that having a property database makes hiring and onboarding more difficult than necessary.<p>Open sourcing the database helps on that.</div><br/><div id="35730744" class="c"><input type="checkbox" id="c-35730744" checked=""/><div class="controls bullet"><span class="by">elteto</span><span>|</span><a href="#35728964">root</a><span>|</span><a href="#35730326">parent</a><span>|</span><a href="#35730776">next</a><span>|</span><label class="collapse" for="c-35730744">[-]</label><label class="expand" for="c-35730744">[10 more]</label></div><br/><div class="children"><div class="content">They didn’t open source the DB, just the binaries.</div><br/><div id="35730784" class="c"><input type="checkbox" id="c-35730784" checked=""/><div class="controls bullet"><span class="by">remram</span><span>|</span><a href="#35728964">root</a><span>|</span><a href="#35730744">parent</a><span>|</span><a href="#35730776">next</a><span>|</span><label class="collapse" for="c-35730784">[-]</label><label class="expand" for="c-35730784">[9 more]</label></div><br/><div class="children"><div class="content">How can you &quot;open source&quot; something that doesn&#x27;t include the sources?</div><br/><div id="35731049" class="c"><input type="checkbox" id="c-35731049" checked=""/><div class="controls bullet"><span class="by">Thorrez</span><span>|</span><a href="#35728964">root</a><span>|</span><a href="#35730784">parent</a><span>|</span><a href="#35732213">next</a><span>|</span><label class="collapse" for="c-35731049">[-]</label><label class="expand" for="c-35731049">[6 more]</label></div><br/><div class="children"><div class="content">Yeah, they didn&#x27;t open source anything. They just made it free.</div><br/><div id="35735252" class="c"><input type="checkbox" id="c-35735252" checked=""/><div class="controls bullet"><span class="by">elteto</span><span>|</span><a href="#35728964">root</a><span>|</span><a href="#35731049">parent</a><span>|</span><a href="#35732213">next</a><span>|</span><label class="collapse" for="c-35735252">[-]</label><label class="expand" for="c-35735252">[5 more]</label></div><br/><div class="children"><div class="content">Ah! Yes, but not quite! It’s not freeware. The binaries are technically open sourced, you can do with them as you please within the confines of the Apache license.</div><br/><div id="35735750" class="c"><input type="checkbox" id="c-35735750" checked=""/><div class="controls bullet"><span class="by">remram</span><span>|</span><a href="#35728964">root</a><span>|</span><a href="#35735252">parent</a><span>|</span><a href="#35735617">next</a><span>|</span><label class="collapse" for="c-35735750">[-]</label><label class="expand" for="c-35735750">[2 more]</label></div><br/><div class="children"><div class="content">The Apache license says I can do things with the source of it.<p>&gt; You may reproduce and distribute copies of the Work or Derivative Works thereof in any medium, with or without modifications, and **in Source or Object form**, provided that (...)</div><br/><div id="35736956" class="c"><input type="checkbox" id="c-35736956" checked=""/><div class="controls bullet"><span class="by">jolux</span><span>|</span><a href="#35728964">root</a><span>|</span><a href="#35735750">parent</a><span>|</span><a href="#35735617">next</a><span>|</span><label class="collapse" for="c-35736956">[-]</label><label class="expand" for="c-35736956">[1 more]</label></div><br/><div class="children"><div class="content">…only if you have the source</div><br/></div></div></div></div><div id="35735617" class="c"><input type="checkbox" id="c-35735617" checked=""/><div class="controls bullet"><span class="by">sitkack</span><span>|</span><a href="#35728964">root</a><span>|</span><a href="#35735252">parent</a><span>|</span><a href="#35735750">prev</a><span>|</span><a href="#35732213">next</a><span>|</span><label class="collapse" for="c-35735617">[-]</label><label class="expand" for="c-35735617">[2 more]</label></div><br/><div class="children"><div class="content">I take that means reverse engineer, decompilation and extracting and reusing any bytecode you want.</div><br/><div id="35736803" class="c"><input type="checkbox" id="c-35736803" checked=""/><div class="controls bullet"><span class="by">elteto</span><span>|</span><a href="#35728964">root</a><span>|</span><a href="#35735617">parent</a><span>|</span><a href="#35732213">next</a><span>|</span><label class="collapse" for="c-35736803">[-]</label><label class="expand" for="c-35736803">[1 more]</label></div><br/><div class="children"><div class="content">That’s my take as well. It is definitely an odd license for a binary, I’ll grant you that.</div><br/></div></div></div></div></div></div></div></div><div id="35732213" class="c"><input type="checkbox" id="c-35732213" checked=""/><div class="controls bullet"><span class="by">croes</span><span>|</span><a href="#35728964">root</a><span>|</span><a href="#35730784">parent</a><span>|</span><a href="#35731049">prev</a><span>|</span><a href="#35735241">next</a><span>|</span><label class="collapse" for="c-35732213">[-]</label><label class="expand" for="c-35732213">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s parent&#x27;s point, they didn&#x27;t. They only made the binaries available under the Apache 2.0 license</div><br/></div></div><div id="35735241" class="c"><input type="checkbox" id="c-35735241" checked=""/><div class="controls bullet"><span class="by">elteto</span><span>|</span><a href="#35728964">root</a><span>|</span><a href="#35730784">parent</a><span>|</span><a href="#35732213">prev</a><span>|</span><a href="#35730776">next</a><span>|</span><label class="collapse" for="c-35735241">[-]</label><label class="expand" for="c-35735241">[1 more]</label></div><br/><div class="children"><div class="content">Well, _technically_ you are now free to modify the binary and redistribute the result as per the Apache 2.0 license. That’s different than giving something as freeware, which would not allow&#x2F;cover modification&#x2F;redistribution.</div><br/></div></div></div></div></div></div><div id="35730776" class="c"><input type="checkbox" id="c-35730776" checked=""/><div class="controls bullet"><span class="by">bananapub</span><span>|</span><a href="#35728964">root</a><span>|</span><a href="#35730326">parent</a><span>|</span><a href="#35730744">prev</a><span>|</span><a href="#35730665">next</a><span>|</span><label class="collapse" for="c-35730776">[-]</label><label class="expand" for="c-35730776">[1 more]</label></div><br/><div class="children"><div class="content">they haven&#x27;t open sourced the database though?</div><br/></div></div></div></div></div></div><div id="35730665" class="c"><input type="checkbox" id="c-35730665" checked=""/><div class="controls bullet"><span class="by">samuell</span><span>|</span><a href="#35728964">prev</a><span>|</span><a href="#35733808">next</a><span>|</span><label class="collapse" for="c-35730665">[-]</label><label class="expand" for="c-35730665">[34 more]</label></div><br/><div class="children"><div class="content">Question to people having used Datomic:<p>Based on experience with Prolog, I always thought using Datalog in a database like Datomic would mean being able to model your data model using stored queries as a very expressive way of creating &quot;classes&quot;. And that by modeling your data model using nested such queries, you alleviate the need for an ORM, and all the boilerplate and duplication of defining classes both in SQL and as objects in OO code ... since you already modelled your data model in the database.<p>Does Datomic live up to that vision?</div><br/><div id="35733842" class="c"><input type="checkbox" id="c-35733842" checked=""/><div class="controls bullet"><span class="by">mtnygard</span><span>|</span><a href="#35730665">parent</a><span>|</span><a href="#35731929">next</a><span>|</span><label class="collapse" for="c-35733842">[-]</label><label class="expand" for="c-35733842">[2 more]</label></div><br/><div class="children"><div class="content">You can definitely use Datomic in the way you describe, in at least a few different ways. I haven&#x27;t often seen queries stored in the database itself. It&#x27;s more common to have the queries as data in the application. Since queries are ordinary Clojure data structures, it&#x27;s even more common to see functions that build queries from inputs or functions that transform queries (e.g., adding a tenant-id filter clause).<p>Datomic also support rules, including recursive rules. I wrote a library to do OWL-style inference about classes of entities using rules. You can see an example here (<a href="https:&#x2F;&#x2F;github.com&#x2F;cognitect-labs&#x2F;onto&#x2F;blob&#x2F;master&#x2F;src&#x2F;onto&#x2F;core.clj#L188">https:&#x2F;&#x2F;github.com&#x2F;cognitect-labs&#x2F;onto&#x2F;blob&#x2F;master&#x2F;src&#x2F;onto&#x2F;...</a>). This is a rule that infers all the classes that apply to an entity from an attribute that assigns it one class.<p>I would also say that building an &quot;entity type definition&quot; system as entities in Datomic is almost the first thing every dev tries after the tutorial. It works... but you almost never _need_ it later.</div><br/><div id="35737679" class="c"><input type="checkbox" id="c-35737679" checked=""/><div class="controls bullet"><span class="by">samuell</span><span>|</span><a href="#35730665">root</a><span>|</span><a href="#35733842">parent</a><span>|</span><a href="#35731929">next</a><span>|</span><label class="collapse" for="c-35737679">[-]</label><label class="expand" for="c-35737679">[1 more]</label></div><br/><div class="children"><div class="content">Great, many thanks for this elaboration!</div><br/></div></div></div></div><div id="35731929" class="c"><input type="checkbox" id="c-35731929" checked=""/><div class="controls bullet"><span class="by">gleenn</span><span>|</span><a href="#35730665">parent</a><span>|</span><a href="#35733842">prev</a><span>|</span><a href="#35736194">next</a><span>|</span><label class="collapse" for="c-35731929">[-]</label><label class="expand" for="c-35731929">[30 more]</label></div><br/><div class="children"><div class="content">Clojure in general is all about passing around little maps of data and in particular not using OO to model. So Datomic naturally continues that by returning maps of nested structures to represent your query results and does side-step the ORM completely.</div><br/><div id="35732656" class="c"><input type="checkbox" id="c-35732656" checked=""/><div class="controls bullet"><span class="by">PreachSoup</span><span>|</span><a href="#35730665">root</a><span>|</span><a href="#35731929">parent</a><span>|</span><a href="#35733133">next</a><span>|</span><label class="collapse" for="c-35732656">[-]</label><label class="expand" for="c-35732656">[28 more]</label></div><br/><div class="children"><div class="content">Question: What&#x27;s the difference between nested oop objects (composition over inheiritance) vs maps of nested structures?</div><br/><div id="35732835" class="c"><input type="checkbox" id="c-35732835" checked=""/><div class="controls bullet"><span class="by">gleenn</span><span>|</span><a href="#35730665">root</a><span>|</span><a href="#35732656">parent</a><span>|</span><a href="#35733542">next</a><span>|</span><label class="collapse" for="c-35732835">[-]</label><label class="expand" for="c-35732835">[26 more]</label></div><br/><div class="children"><div class="content">Rich Hickey has a great talk about how Objects are data structures with unique interfaces that are unnecessary complexity. He showed and example of a web server with a web request object with request headers etc etc. Doing simple things like collecting information out of that nested object structure is bespoke and harder than it should be for no real gain. If everything is a map or list or set, it becomes completely trivial to extract and manipulate data from a structure. It&#x27;s a subtle difference at first but when everything is like that it makes your system far simpler. Unfortunately I can&#x27;t remember exactly where the part of this talk is.</div><br/><div id="35733540" class="c"><input type="checkbox" id="c-35733540" checked=""/><div class="controls bullet"><span class="by">greg7mdp</span><span>|</span><a href="#35730665">root</a><span>|</span><a href="#35732835">parent</a><span>|</span><a href="#35734825">next</a><span>|</span><label class="collapse" for="c-35733540">[-]</label><label class="expand" for="c-35733540">[4 more]</label></div><br/><div class="children"><div class="content">This? <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=aSEQfqNYNAc">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=aSEQfqNYNAc</a></div><br/><div id="35735723" class="c"><input type="checkbox" id="c-35735723" checked=""/><div class="controls bullet"><span class="by">gleenn</span><span>|</span><a href="#35730665">root</a><span>|</span><a href="#35733540">parent</a><span>|</span><a href="#35734825">next</a><span>|</span><label class="collapse" for="c-35735723">[-]</label><label class="expand" for="c-35735723">[3 more]</label></div><br/><div class="children"><div class="content">Yes, this hit home so hard. All objects are bespoke mini languages that add little to no value and simultaneously make it hard to remember and hard to use. Just use maps!</div><br/><div id="35738018" class="c"><input type="checkbox" id="c-35738018" checked=""/><div class="controls bullet"><span class="by">oblio</span><span>|</span><a href="#35730665">root</a><span>|</span><a href="#35735723">parent</a><span>|</span><a href="#35734825">next</a><span>|</span><label class="collapse" for="c-35738018">[-]</label><label class="expand" for="c-35738018">[2 more]</label></div><br/><div class="children"><div class="content">An object is a schema, though.<p>A map is... Whatever you put in it.</div><br/><div id="35738528" class="c"><input type="checkbox" id="c-35738528" checked=""/><div class="controls bullet"><span class="by">simongray</span><span>|</span><a href="#35730665">root</a><span>|</span><a href="#35738018">parent</a><span>|</span><a href="#35734825">next</a><span>|</span><label class="collapse" for="c-35738528">[-]</label><label class="expand" for="c-35738528">[1 more]</label></div><br/><div class="children"><div class="content">This is the benefit. Languages like Clojure have excellent support for manipulating maps and I&#x27;d wager that something like 40-60% of Clojure code is similar-looking map manipulation stuff for this very reason.<p>If you need that validation, you just validate the map? You can use established methods like Malli or Clojure Spec for this. If you need to use a record with a fixed schema, just use a record instead of map. In Clojure, you can use most of the map functions for records too.</div><br/></div></div></div></div></div></div></div></div><div id="35734825" class="c"><input type="checkbox" id="c-35734825" checked=""/><div class="controls bullet"><span class="by">PreachSoup</span><span>|</span><a href="#35730665">root</a><span>|</span><a href="#35732835">parent</a><span>|</span><a href="#35733540">prev</a><span>|</span><a href="#35733279">next</a><span>|</span><label class="collapse" for="c-35734825">[-]</label><label class="expand" for="c-35734825">[1 more]</label></div><br/><div class="children"><div class="content">Most of the time, the class name is used just as a nominal type identifier. That&#x27;s what we do at least</div><br/></div></div><div id="35733279" class="c"><input type="checkbox" id="c-35733279" checked=""/><div class="controls bullet"><span class="by">bavell</span><span>|</span><a href="#35730665">root</a><span>|</span><a href="#35732835">parent</a><span>|</span><a href="#35734825">prev</a><span>|</span><a href="#35734954">next</a><span>|</span><label class="collapse" for="c-35733279">[-]</label><label class="expand" for="c-35733279">[5 more]</label></div><br/><div class="children"><div class="content">&gt; Unfortunately I can&#x27;t remember exactly where the part of this talk is.<p>If you or anyone else remembers, I&#x27;d love to watch</div><br/><div id="35733415" class="c"><input type="checkbox" id="c-35733415" checked=""/><div class="controls bullet"><span class="by">sharms</span><span>|</span><a href="#35730665">root</a><span>|</span><a href="#35733279">parent</a><span>|</span><a href="#35733655">next</a><span>|</span><label class="collapse" for="c-35733415">[-]</label><label class="expand" for="c-35733415">[1 more]</label></div><br/><div class="children"><div class="content">Here is this specific part cut out from the larger talk &quot;Clojure made simple&quot;: <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=aSEQfqNYNAc">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=aSEQfqNYNAc</a></div><br/></div></div><div id="35733655" class="c"><input type="checkbox" id="c-35733655" checked=""/><div class="controls bullet"><span class="by">janosos</span><span>|</span><a href="#35730665">root</a><span>|</span><a href="#35733279">parent</a><span>|</span><a href="#35733415">prev</a><span>|</span><a href="#35733350">next</a><span>|</span><label class="collapse" for="c-35733655">[-]</label><label class="expand" for="c-35733655">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;youtu.be&#x2F;aSEQfqNYNAc" rel="nofollow">https:&#x2F;&#x2F;youtu.be&#x2F;aSEQfqNYNAc</a><p>The full video:
[Time 0:49:06] <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=VSdnJDO-xdg">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=VSdnJDO-xdg</a><p>Transcript here: <a href="https:&#x2F;&#x2F;github.com&#x2F;matthiasn&#x2F;talk-transcripts&#x2F;blob&#x2F;master&#x2F;Hickey_Rich&#x2F;ClojureMadeSimple.md">https:&#x2F;&#x2F;github.com&#x2F;matthiasn&#x2F;talk-transcripts&#x2F;blob&#x2F;master&#x2F;Hi...</a></div><br/></div></div></div></div><div id="35733383" class="c"><input type="checkbox" id="c-35733383" checked=""/><div class="controls bullet"><span class="by">tyre</span><span>|</span><a href="#35730665">root</a><span>|</span><a href="#35732835">parent</a><span>|</span><a href="#35734954">prev</a><span>|</span><a href="#35733682">next</a><span>|</span><label class="collapse" for="c-35733383">[-]</label><label class="expand" for="c-35733383">[4 more]</label></div><br/><div class="children"><div class="content">“No real gain”<p>I don’t agree with this. iirc Rack ultimately uses and array to represent HTTP responses. It has three members: the status code, the headers, and the response body.<p>If you’re shipping a new change, is it easier to mistake response[0] or response.headers?<p>This is a trivial example, but the general class (ha) of trade-off is amplified with more complex objects.<p>I love clojure and lisp but the blindness behind a statement like “no real gain” has always kneecapped adoption.</div><br/><div id="35735176" class="c"><input type="checkbox" id="c-35735176" checked=""/><div class="controls bullet"><span class="by">outworlder</span><span>|</span><a href="#35730665">root</a><span>|</span><a href="#35733383">parent</a><span>|</span><a href="#35733753">next</a><span>|</span><label class="collapse" for="c-35735176">[-]</label><label class="expand" for="c-35735176">[1 more]</label></div><br/><div class="children"><div class="content">&gt; If you’re shipping a new change, is it easier to mistake response[0] or response.headers<p>False dichotomy. There are many options other than arrays. Clojure in particular is fond of hashmaps. You can have your response.headers without OOP.</div><br/></div></div><div id="35733753" class="c"><input type="checkbox" id="c-35733753" checked=""/><div class="controls bullet"><span class="by">augustl</span><span>|</span><a href="#35730665">root</a><span>|</span><a href="#35733383">parent</a><span>|</span><a href="#35735176">prev</a><span>|</span><a href="#35733682">next</a><span>|</span><label class="collapse" for="c-35733753">[-]</label><label class="expand" for="c-35733753">[2 more]</label></div><br/><div class="children"><div class="content">In Clojure, response.headers is still data :) You just use the built-in ways of reading named keys, such as (:headers response) or (get headers :response).</div><br/><div id="35738610" class="c"><input type="checkbox" id="c-35738610" checked=""/><div class="controls bullet"><span class="by">augustl</span><span>|</span><a href="#35730665">root</a><span>|</span><a href="#35733753">parent</a><span>|</span><a href="#35733682">next</a><span>|</span><label class="collapse" for="c-35738610">[-]</label><label class="expand" for="c-35738610">[1 more]</label></div><br/><div class="children"><div class="content">Errata: (get response :headers)</div><br/></div></div></div></div></div></div><div id="35733682" class="c"><input type="checkbox" id="c-35733682" checked=""/><div class="controls bullet"><span class="by">kaba0</span><span>|</span><a href="#35730665">root</a><span>|</span><a href="#35732835">parent</a><span>|</span><a href="#35733383">prev</a><span>|</span><a href="#35733542">next</a><span>|</span><label class="collapse" for="c-35733682">[-]</label><label class="expand" for="c-35733682">[10 more]</label></div><br/><div class="children"><div class="content">I think there is a need for objects. An active connection, talking to the GPU, etc are not data -- identity is essential for their operation.<p>OOP is probably the best way to model such,.. well objects, allowing them a private, encapsulated state, and making it only modifiable, or even viewable through a well-defined public interface that enforces all its invariants.</div><br/><div id="35734253" class="c"><input type="checkbox" id="c-35734253" checked=""/><div class="controls bullet"><span class="by">waffletower</span><span>|</span><a href="#35730665">root</a><span>|</span><a href="#35733682">parent</a><span>|</span><a href="#35733855">next</a><span>|</span><label class="collapse" for="c-35734253">[-]</label><label class="expand" for="c-35734253">[1 more]</label></div><br/><div class="children"><div class="content">I think OOP (object oriented programming) is abused and is not the optimal paradigm for most software services.  It succeeds best at providing inter-operability structure for API design.  &quot;Objects&quot;, as mentioned here, are an abstraction.  Stateful data can be organized and manipulated elegantly without use of the OOP paradigm.  Many small systems that employ OOP hamper their maintenance and extendability by unnecessary dependence upon encapsulation and data ownership.  Mutability is a villain here as well -- when data structures are immutable, there is little fear of panoptic architectures designed without  ownership constraints. Here software is no longer corralled into walled gardens of &quot;objects&quot;; large complex types and their brittle method associations are avoided, greatly simplifying software architectures as a result.</div><br/></div></div><div id="35733855" class="c"><input type="checkbox" id="c-35733855" checked=""/><div class="controls bullet"><span class="by">gleenn</span><span>|</span><a href="#35730665">root</a><span>|</span><a href="#35733682">parent</a><span>|</span><a href="#35734253">prev</a><span>|</span><a href="#35735409">next</a><span>|</span><label class="collapse" for="c-35733855">[-]</label><label class="expand" for="c-35733855">[7 more]</label></div><br/><div class="children"><div class="content">Clojure uses objects for connections and things, but POJOs are harmful IMHO because it makes manipulation and collecting data a bespoke task every time. Every time you change the data, you have to change a class to represent the JSON and the ORM class and .... this is all just data</div><br/><div id="35734074" class="c"><input type="checkbox" id="c-35734074" checked=""/><div class="controls bullet"><span class="by">kaba0</span><span>|</span><a href="#35730665">root</a><span>|</span><a href="#35733855">parent</a><span>|</span><a href="#35735409">next</a><span>|</span><label class="collapse" for="c-35734074">[-]</label><label class="expand" for="c-35734074">[6 more]</label></div><br/><div class="children"><div class="content">Well, that’s what Java records are for. As for having to change the type description, that’s more of a static typing discussion, though it  can be generated — having a single source of truth and generating others is imo the best approach.</div><br/><div id="35735010" class="c"><input type="checkbox" id="c-35735010" checked=""/><div class="controls bullet"><span class="by">ledauphin</span><span>|</span><a href="#35730665">root</a><span>|</span><a href="#35734074">parent</a><span>|</span><a href="#35735409">next</a><span>|</span><label class="collapse" for="c-35735010">[-]</label><label class="expand" for="c-35735010">[5 more]</label></div><br/><div class="children"><div class="content">Java records weren&#x27;t even a gleam in the eye of James Gosling when Clojure was solving these problems at its inception.</div><br/><div id="35737497" class="c"><input type="checkbox" id="c-35737497" checked=""/><div class="controls bullet"><span class="by">kaba0</span><span>|</span><a href="#35730665">root</a><span>|</span><a href="#35735010">parent</a><span>|</span><a href="#35736076">next</a><span>|</span><label class="collapse" for="c-35737497">[-]</label><label class="expand" for="c-35737497">[1 more]</label></div><br/><div class="children"><div class="content">In his eyes? It definitely was a thing, records are just nominal product types, these are probably the single most used building block of programming languages.<p>I really like Clojure, but I really don’t know what some of its fans think (also true of other lisps), like there is a healthy pollination of ideas between languages, lisps are not God’s language.</div><br/></div></div><div id="35736076" class="c"><input type="checkbox" id="c-35736076" checked=""/><div class="controls bullet"><span class="by">lmm</span><span>|</span><a href="#35730665">root</a><span>|</span><a href="#35735010">parent</a><span>|</span><a href="#35737497">prev</a><span>|</span><a href="#35735409">next</a><span>|</span><label class="collapse" for="c-35736076">[-]</label><label class="expand" for="c-35736076">[3 more]</label></div><br/><div class="children"><div class="content">Standard ML had records since the &#x27;70s. Both Clojure and Java would benefit from taking more from what came before, though Java at least had the excuse of being designed for low-powered set-top boxes.</div><br/><div id="35736726" class="c"><input type="checkbox" id="c-35736726" checked=""/><div class="controls bullet"><span class="by">filoeleven</span><span>|</span><a href="#35730665">root</a><span>|</span><a href="#35736076">parent</a><span>|</span><a href="#35738539">next</a><span>|</span><label class="collapse" for="c-35736726">[-]</label><label class="expand" for="c-35736726">[1 more]</label></div><br/><div class="children"><div class="content">According to the link below, ML records are mostly handled by hash-maps in Clojure, except that there’s no canonical key&#x2F;val order or strict typing by default.<p>ML record:<p><pre><code>  {first = &quot;John&quot;, last = &quot;Doe&quot;, age = 150, balance = 0.12}
</code></pre>
Clojure hash-map:<p><pre><code>  {:first &quot;John&quot;, :last &quot;Doe&quot;, :age 150, :balance 0.12}
</code></pre>
Destructuring a record in an ML function:<p><pre><code>  fun full_name{first:string,last:string,age:int,balance:real}:string =
    first ^ &quot; &quot; ^ last
</code></pre>
(It’s unclear from the example whether or not all of the destructured values are required in the function signature. I hope they are not, but I left them in since I don’t know. The caret positioning raises further questions.)<p>Destructuring a map in a Clojure function:<p><pre><code>  (defn full-name [{:keys [first last]}]
    (str first “ “ last))
</code></pre>
I don’t know if I’m missing something that ML offers with its records aside from more strict typing, which you can also have in Clojure when it’s useful. In both cases, it looks like it’s applied at the function declaration and not the record declaration.<p><a href="https:&#x2F;&#x2F;www.cs.cornell.edu&#x2F;courses&#x2F;cs312&#x2F;2008sp&#x2F;recitations&#x2F;rec02.html" rel="nofollow">https:&#x2F;&#x2F;www.cs.cornell.edu&#x2F;courses&#x2F;cs312&#x2F;2008sp&#x2F;recitations&#x2F;...</a></div><br/></div></div><div id="35738539" class="c"><input type="checkbox" id="c-35738539" checked=""/><div class="controls bullet"><span class="by">simongray</span><span>|</span><a href="#35730665">root</a><span>|</span><a href="#35736076">parent</a><span>|</span><a href="#35736726">prev</a><span>|</span><a href="#35735409">next</a><span>|</span><label class="collapse" for="c-35738539">[-]</label><label class="expand" for="c-35738539">[1 more]</label></div><br/><div class="children"><div class="content">Clojure has records too.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="35735409" class="c"><input type="checkbox" id="c-35735409" checked=""/><div class="controls bullet"><span class="by">filoeleven</span><span>|</span><a href="#35730665">root</a><span>|</span><a href="#35733682">parent</a><span>|</span><a href="#35733855">prev</a><span>|</span><a href="#35733542">next</a><span>|</span><label class="collapse" for="c-35735409">[-]</label><label class="expand" for="c-35735409">[1 more]</label></div><br/><div class="children"><div class="content">Connection pools exist precisely because the code outside of the connection management piece shouldn’t have to care much whether or not there is an active connection.  It’s all boilerplate, except for handling the “unable to connect” case.<p>When you call a connection or connection pool object, you’re querying its current state. This is absolutely data.</div><br/></div></div></div></div></div></div><div id="35733542" class="c"><input type="checkbox" id="c-35733542" checked=""/><div class="controls bullet"><span class="by">blatant303</span><span>|</span><a href="#35730665">root</a><span>|</span><a href="#35732656">parent</a><span>|</span><a href="#35732835">prev</a><span>|</span><a href="#35733133">next</a><span>|</span><label class="collapse" for="c-35733542">[-]</label><label class="expand" for="c-35733542">[1 more]</label></div><br/><div class="children"><div class="content">&quot;It is better to have 100 functions operate on one data structure than to have 10 functions operate on 10 data structures.&quot;<p>Alan Perlis.</div><br/></div></div></div></div><div id="35733133" class="c"><input type="checkbox" id="c-35733133" checked=""/><div class="controls bullet"><span class="by">samuell</span><span>|</span><a href="#35730665">root</a><span>|</span><a href="#35731929">parent</a><span>|</span><a href="#35732656">prev</a><span>|</span><a href="#35736194">next</a><span>|</span><label class="collapse" for="c-35733133">[-]</label><label class="expand" for="c-35733133">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for the comment!<p>I was more thinking of the means to define your data &quot;classes&quot; (or whatever it is called on this context) though, rather than how it is passed around.</div><br/></div></div></div></div><div id="35736194" class="c"><input type="checkbox" id="c-35736194" checked=""/><div class="controls bullet"><span class="by">abc_lisper</span><span>|</span><a href="#35730665">parent</a><span>|</span><a href="#35731929">prev</a><span>|</span><a href="#35733808">next</a><span>|</span><label class="collapse" for="c-35736194">[-]</label><label class="expand" for="c-35736194">[1 more]</label></div><br/><div class="children"><div class="content">It emphatically does. It has pull-syntax just for the nested entities obviating the need for ORM. I am surprised I had to scroll so far down to see this. This is its biggest selling point IMO.</div><br/></div></div></div></div><div id="35733808" class="c"><input type="checkbox" id="c-35733808" checked=""/><div class="controls bullet"><span class="by">bvanderveen</span><span>|</span><a href="#35730665">prev</a><span>|</span><a href="#35735919">next</a><span>|</span><label class="collapse" for="c-35733808">[-]</label><label class="expand" for="c-35733808">[26 more]</label></div><br/><div class="children"><div class="content">From experience:<p>Datomic Cloud is slow, expensive, resource intensive, designed in the baroque style of massively over-complicated CloudFormation astronautics. Hard to diagnose performance issues. Impossible to backup. Ran into one scenario where apparently we weren&#x27;t quick enough to migrate to the latest version, AWS had dropped support for $runtime in Lambda, and it became impossible to upgrade the CloudFormation template. Had to write application code to export&#x2F;reimport prod data from cluster to another—there was no other migration path (and yes, we were talking to their enterprise support).<p>We migrated to Postgres and are now using a 10th of the compute resources. Our p99 response times went from 1.3-1.5s to under 300ms once all the read traffic was cut over.<p>Mother Postgres can do no wrong.<p>Still, Datomic seems like a cool idea.</div><br/><div id="35735330" class="c"><input type="checkbox" id="c-35735330" checked=""/><div class="controls bullet"><span class="by">lgrapenthin</span><span>|</span><a href="#35733808">parent</a><span>|</span><a href="#35733945">next</a><span>|</span><label class="collapse" for="c-35735330">[-]</label><label class="expand" for="c-35735330">[1 more]</label></div><br/><div class="children"><div class="content">As someone who is using Datomic Pro in production for many years now I must agree with you.  One time I began a project with Datomic Cloud and it was a disaster similar to what you described.  I learned a lot about AWS, but after about half a year we switched to Datomic Pro.<p>There were some cool ideas in Datomic Cloud, like IONs and its integrated deployment CLI.  But the dev workflow with Datomic Pro in the REPL, potentially connected to your live or staging database is much more interactive and fun than waiting for CodeDeploy.
I guess there is a reason Datomic Pro is the featured product on datomic.com again. It appears that Cognitect took a big bet with Datomic Cloud and it didn&#x27;t take off. Soon after the NuBank acquisition happened. That being said, Datomic Cloud was not a bad idea, it just turned out that Datomic Pro&#x2F;onPrem is much easier to use.  Also of all their APIs, the &quot;Peer API&quot; of Pro is just the best IME, especially with `d&#x2F;entity` vs. &quot;pull&quot; etc.</div><br/></div></div><div id="35733945" class="c"><input type="checkbox" id="c-35733945" checked=""/><div class="controls bullet"><span class="by">JulianWasTaken</span><span>|</span><a href="#35733808">parent</a><span>|</span><a href="#35735330">prev</a><span>|</span><a href="#35735264">next</a><span>|</span><label class="collapse" for="c-35733945">[-]</label><label class="expand" for="c-35733945">[17 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t doubt your story of course, and I love Postgres, but comparing apples to oranges no?<p>Datomic&#x27;s killer feature is time travel.<p>Did you simply not use that feature once you moved off Datomic (and if so why&#x27;d you pick Datomic in the first place)? Or are you using Postgres using some extension to add in?</div><br/><div id="35734033" class="c"><input type="checkbox" id="c-35734033" checked=""/><div class="controls bullet"><span class="by">bvanderveen</span><span>|</span><a href="#35733808">root</a><span>|</span><a href="#35733945">parent</a><span>|</span><a href="#35735184">next</a><span>|</span><label class="collapse" for="c-35734033">[-]</label><label class="expand" for="c-35734033">[8 more]</label></div><br/><div class="children"><div class="content">We implemented it in Postgres with &#x27;created_at&#x27; and &#x27;deleted_at&#x27; columns on everything and filtering to make sure that the object &#x27;exists&#x27; at the time the query is concerned with. Changes in relationships between objects are modeled as join tables with a boolean indicating whether the relationship is made or broken and at what time.<p>Our data model is not large and we had a very complete test suite already, so it was easy to produce another implementation backed by postgres, RAM, etc.</div><br/><div id="35734167" class="c"><input type="checkbox" id="c-35734167" checked=""/><div class="controls bullet"><span class="by">wwweston</span><span>|</span><a href="#35733808">root</a><span>|</span><a href="#35734033">parent</a><span>|</span><a href="#35735184">next</a><span>|</span><label class="collapse" for="c-35734167">[-]</label><label class="expand" for="c-35734167">[7 more]</label></div><br/><div class="children"><div class="content">Yeah, it seems you could be able to substitute thoughtful schema design avoiding updates&#x2F;deletes for time-travel as a feature.<p>I wonder if anyone has made a collection of reference examples implemented this way (and in general think that a substantial compendium good examples of DB schema and thinking behind them could be worthwhile).</div><br/><div id="35735091" class="c"><input type="checkbox" id="c-35735091" checked=""/><div class="controls bullet"><span class="by">pjot</span><span>|</span><a href="#35733808">root</a><span>|</span><a href="#35734167">parent</a><span>|</span><a href="#35734284">next</a><span>|</span><label class="collapse" for="c-35735091">[-]</label><label class="expand" for="c-35735091">[1 more]</label></div><br/><div class="children"><div class="content">It’s called a slowly changing dimension. In this example, it’s a type-2.<p><a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Slowly_changing_dimension" rel="nofollow">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Slowly_changing_dimension</a></div><br/></div></div><div id="35734284" class="c"><input type="checkbox" id="c-35734284" checked=""/><div class="controls bullet"><span class="by">twic</span><span>|</span><a href="#35733808">root</a><span>|</span><a href="#35734167">parent</a><span>|</span><a href="#35735091">prev</a><span>|</span><a href="#35734850">next</a><span>|</span><label class="collapse" for="c-35734284">[-]</label><label class="expand" for="c-35734284">[4 more]</label></div><br/><div class="children"><div class="content">I&#x27;m moderately confident you could mechanically transform a time-oblivious schema into a history-preserving one, and then write a view on top of it which gave a slice at a particular time. Moderately.</div><br/><div id="35735064" class="c"><input type="checkbox" id="c-35735064" checked=""/><div class="controls bullet"><span class="by">ysleepy</span><span>|</span><a href="#35733808">root</a><span>|</span><a href="#35734284">parent</a><span>|</span><a href="#35734850">next</a><span>|</span><label class="collapse" for="c-35735064">[-]</label><label class="expand" for="c-35735064">[3 more]</label></div><br/><div class="children"><div class="content">That is essentially what MVCC does.</div><br/><div id="35737161" class="c"><input type="checkbox" id="c-35737161" checked=""/><div class="controls bullet"><span class="by">JohnBooty</span><span>|</span><a href="#35733808">root</a><span>|</span><a href="#35735064">parent</a><span>|</span><a href="#35735371">next</a><span>|</span><label class="collapse" for="c-35737161">[-]</label><label class="expand" for="c-35737161">[1 more]</label></div><br/><div class="children"><div class="content">Yes, although AFAIK those hidden MVCC columns (xmin, xmax?) aren&#x27;t very usable from an application standpoint -- the obsoleted rows only hang around until the next VACUUM, right?<p>I realize you&#x27;re not claiming those columns <i>are</i> useful from an application perspective. Just curious to know if I&#x27;m wrong and they are useful.<p>Because as I understand it, the selling point of Datomic is their audit trail functionality and that is admittedly a bit onerous to implement in a RBDMS. Even though I feel like every project needs&#x2F;requires that eventually.</div><br/></div></div><div id="35735371" class="c"><input type="checkbox" id="c-35735371" checked=""/><div class="controls bullet"><span class="by">twic</span><span>|</span><a href="#35733808">root</a><span>|</span><a href="#35735064">parent</a><span>|</span><a href="#35737161">prev</a><span>|</span><a href="#35734850">next</a><span>|</span><label class="collapse" for="c-35735371">[-]</label><label class="expand" for="c-35735371">[1 more]</label></div><br/><div class="children"><div class="content">That is an extremely good point.</div><br/></div></div></div></div></div></div><div id="35734850" class="c"><input type="checkbox" id="c-35734850" checked=""/><div class="controls bullet"><span class="by">rehevkor5</span><span>|</span><a href="#35733808">root</a><span>|</span><a href="#35734167">parent</a><span>|</span><a href="#35734284">prev</a><span>|</span><a href="#35735184">next</a><span>|</span><label class="collapse" for="c-35734850">[-]</label><label class="expand" for="c-35734850">[1 more]</label></div><br/><div class="children"><div class="content">Maybe search around on bitemporal database table modeling.</div><br/></div></div></div></div></div></div><div id="35735184" class="c"><input type="checkbox" id="c-35735184" checked=""/><div class="controls bullet"><span class="by">btown</span><span>|</span><a href="#35733808">root</a><span>|</span><a href="#35733945">parent</a><span>|</span><a href="#35734033">prev</a><span>|</span><a href="#35734528">next</a><span>|</span><label class="collapse" for="c-35735184">[-]</label><label class="expand" for="c-35735184">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;www.postgresql.org&#x2F;docs&#x2F;11&#x2F;contrib-spi.html#id-1.11.7.45.6" rel="nofollow">https:&#x2F;&#x2F;www.postgresql.org&#x2F;docs&#x2F;11&#x2F;contrib-spi.html#id-1.11....</a> discusses a model for implementing time travel in Postgres &lt;12 using SPI. <a href="https:&#x2F;&#x2F;git.postgresql.org&#x2F;gitweb&#x2F;?p=postgresql.git;a=commit;h=2d10defa7771931295ee804cf096fb9388472a7b" rel="nofollow">https:&#x2F;&#x2F;git.postgresql.org&#x2F;gitweb&#x2F;?p=postgresql.git;a=commit...</a> discusses why it was removed in Postgres 12 - it seems logical that it&#x27;s more maintainable to implement in plpgsql, though as far as I can tell there aren&#x27;t off-the-shelf implementations of this.<p>We use <a href="https:&#x2F;&#x2F;django-simple-history.readthedocs.io&#x2F;en&#x2F;latest&#x2F;" rel="nofollow">https:&#x2F;&#x2F;django-simple-history.readthedocs.io&#x2F;en&#x2F;latest&#x2F;</a> (with some custom tooling for diff generation) for audit logs and resettability, and while you can&#x27;t move an entire set of tables back in time simultaneously, it&#x27;s usually sufficient for understanding data history.</div><br/></div></div><div id="35734528" class="c"><input type="checkbox" id="c-35734528" checked=""/><div class="controls bullet"><span class="by">ithrow</span><span>|</span><a href="#35733808">root</a><span>|</span><a href="#35733945">parent</a><span>|</span><a href="#35735184">prev</a><span>|</span><a href="#35735264">next</a><span>|</span><label class="collapse" for="c-35734528">[-]</label><label class="expand" for="c-35734528">[7 more]</label></div><br/><div class="children"><div class="content">Datomic&#x27;s &#x27;time travel&#x27; is an audit feature, not something for your application&#x2F;business logic to depend on. Performance reasons make it impractical, unless you only have like 10 users and very little data.</div><br/><div id="35734606" class="c"><input type="checkbox" id="c-35734606" checked=""/><div class="controls bullet"><span class="by">JulianWasTaken</span><span>|</span><a href="#35733808">root</a><span>|</span><a href="#35734528">parent</a><span>|</span><a href="#35735264">next</a><span>|</span><label class="collapse" for="c-35734606">[-]</label><label class="expand" for="c-35734606">[6 more]</label></div><br/><div class="children"><div class="content">That&#x27;s certainly not how it sells and markets itself.<p>The first feature on benefits (and the only reason I&#x27;ve ever heard Datomic brought up and&#x2F;or considered it myself for production workflows) is using that stuff in application workflows: <a href="https:&#x2F;&#x2F;docs.datomic.com&#x2F;pro&#x2F;time&#x2F;filters.html#history" rel="nofollow">https:&#x2F;&#x2F;docs.datomic.com&#x2F;pro&#x2F;time&#x2F;filters.html#history</a><p>Could be you&#x27;re saying it in fact doesn&#x27;t work well performance-wise, that&#x27;d (surprise me but) certainly explain why it&#x27;s not more popular -- but I think it&#x27;s clear it <i>wants</i> you to use this as an application feature.</div><br/><div id="35734974" class="c"><input type="checkbox" id="c-35734974" checked=""/><div class="controls bullet"><span class="by">newlisp</span><span>|</span><a href="#35733808">root</a><span>|</span><a href="#35734606">parent</a><span>|</span><a href="#35735264">next</a><span>|</span><label class="collapse" for="c-35734974">[-]</label><label class="expand" for="c-35734974">[5 more]</label></div><br/><div class="children"><div class="content">Welcome to sales tactics ;)<p>Datomic is great but as another commenter said, is good for &quot;small-ish backoffice systems that never has to be web scale&quot;. You almost probably can rely on querying history for internal applications. I think their primary market was for companies to use it internally but they never made this clear.</div><br/><div id="35735540" class="c"><input type="checkbox" id="c-35735540" checked=""/><div class="controls bullet"><span class="by">xmlblog</span><span>|</span><a href="#35733808">root</a><span>|</span><a href="#35734974">parent</a><span>|</span><a href="#35735264">next</a><span>|</span><label class="collapse" for="c-35735540">[-]</label><label class="expand" for="c-35735540">[4 more]</label></div><br/><div class="children"><div class="content">&gt; &quot;small-ish backoffice systems that never has to be web scale&quot;.
Doesn&#x27;t production use of Datomic by Nubank and Netflix (to mention just two examples) belie this assertion?</div><br/><div id="35738047" class="c"><input type="checkbox" id="c-35738047" checked=""/><div class="controls bullet"><span class="by">oblio</span><span>|</span><a href="#35733808">root</a><span>|</span><a href="#35735540">parent</a><span>|</span><a href="#35738208">next</a><span>|</span><label class="collapse" for="c-35738047">[-]</label><label class="expand" for="c-35738047">[1 more]</label></div><br/><div class="children"><div class="content">Nubank is one thing, but for Netflix, just like for any big company 10000 DB technologies are probably in use at the same time.<p>And 9996 of them are used for stuff like the internal HR DB or other minor projects.</div><br/></div></div><div id="35738208" class="c"><input type="checkbox" id="c-35738208" checked=""/><div class="controls bullet"><span class="by">KingMob</span><span>|</span><a href="#35733808">root</a><span>|</span><a href="#35735540">parent</a><span>|</span><a href="#35738047">prev</a><span>|</span><a href="#35737390">next</a><span>|</span><label class="collapse" for="c-35738208">[-]</label><label class="expand" for="c-35738208">[1 more]</label></div><br/><div class="children"><div class="content">Alternatively, Datomic wasn&#x27;t performing up to snuff, and they found it cheaper to buy Cognitect than do a DB migration :D</div><br/></div></div><div id="35737390" class="c"><input type="checkbox" id="c-35737390" checked=""/><div class="controls bullet"><span class="by">bilkow</span><span>|</span><a href="#35733808">root</a><span>|</span><a href="#35735540">parent</a><span>|</span><a href="#35738208">prev</a><span>|</span><a href="#35735264">next</a><span>|</span><label class="collapse" for="c-35737390">[-]</label><label class="expand" for="c-35737390">[1 more]</label></div><br/><div class="children"><div class="content">Do those companies specify what they use it for? They probably have their own internal &quot;small-ish backoffice systems&quot;.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="35735264" class="c"><input type="checkbox" id="c-35735264" checked=""/><div class="controls bullet"><span class="by">outworlder</span><span>|</span><a href="#35733808">parent</a><span>|</span><a href="#35733945">prev</a><span>|</span><a href="#35735530">next</a><span>|</span><label class="collapse" for="c-35735264">[-]</label><label class="expand" for="c-35735264">[3 more]</label></div><br/><div class="children"><div class="content">Are they _forcing_ you to use CloudFormation? Or is it just the officially supported mechanism?<p>&gt; Mother Postgres can do no wrong.<p>I&#x27;ll say that Postgres is usually the answer for the vast majority of use-cases. Even when you think you need something else to do something different, it&#x27;s probably still a good enough solution. I&#x27;ve seen teams pitching other system just because they wanted to push a bunch of JSON. Guess what, PG can handle that fine and even run SQL queries against that. PG can access other database systems with its foreign data wrappers(<a href="https:&#x2F;&#x2F;wiki.postgresql.org&#x2F;wiki&#x2F;Foreign_data_wrappers" rel="nofollow">https:&#x2F;&#x2F;wiki.postgresql.org&#x2F;wiki&#x2F;Foreign_data_wrappers</a>).<p>The main difficulty is that horizontally scaling it is not trivial(although not impossible, and that can be improved with third party companies).</div><br/><div id="35737240" class="c"><input type="checkbox" id="c-35737240" checked=""/><div class="controls bullet"><span class="by">JohnBooty</span><span>|</span><a href="#35733808">root</a><span>|</span><a href="#35735264">parent</a><span>|</span><a href="#35737639">next</a><span>|</span><label class="collapse" for="c-35737240">[-]</label><label class="expand" for="c-35737240">[1 more]</label></div><br/><div class="children"><div class="content">Yes. Postgres such a reliable and known quantity that IMO it should be the <i>default</i> choice for just about anything.<p>Don&#x27;t misunderstand me. There are plenty of times when something else is the right choice. I&#x27;m just saying, when I have a say in the matter, folks need to clear that bar -- &quot;tell me why tool xyz is going to be so much better than postgres for this use case  that it justifies the overhead of adding another piece of software infrastructure.&quot;<p>Like, you want to add a document database? Obviously Mongo, Elasticsearch, etc are &quot;best of breed.&quot; But Postgres is pretty capable and this team is already good at it. Are we ever going to have so many documents that e.g. Elasticsearch&#x27;s mostly-effortless horizontal scaling even comes into play? If you don&#x27;t ever see yourself scaling past 1,000 documents then adding a new piece of infra is a total joke. I see that kind of thing all the time. I can&#x27;t tell if developers truly do not understand scale, or if they simply do not give a f---  and simply want to play with shiny new toys and enrich their resumes.<p>I mean, I&#x27;ve literally had devops guys telling me we need a Redis cluster even though we were only storing a few <i>kilobytes</i> of data, that was read <i>dozens</i> of times daily with zero plans to scale. That could have been a f&#x27;in Postgres table. Devops guy defended that choice <i>hard</i> even when pressed by mgmt to reduce AWS spend. WTF?</div><br/></div></div><div id="35737639" class="c"><input type="checkbox" id="c-35737639" checked=""/><div class="controls bullet"><span class="by">quickthrower2</span><span>|</span><a href="#35733808">root</a><span>|</span><a href="#35735264">parent</a><span>|</span><a href="#35737240">prev</a><span>|</span><a href="#35735530">next</a><span>|</span><label class="collapse" for="c-35737639">[-]</label><label class="expand" for="c-35737639">[1 more]</label></div><br/><div class="children"><div class="content">Where does sqlite fit into the heuristic? I thought for toy apps or small sites it might be an even easier option and cheaper.</div><br/></div></div></div></div><div id="35735530" class="c"><input type="checkbox" id="c-35735530" checked=""/><div class="controls bullet"><span class="by">ggleason</span><span>|</span><a href="#35733808">parent</a><span>|</span><a href="#35735264">prev</a><span>|</span><a href="#35734185">next</a><span>|</span><label class="collapse" for="c-35735530">[-]</label><label class="expand" for="c-35735530">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Datomic Cloud is slow, expensive, resource intensive, designed in the baroque style of massively over-complicated CloudFormation astronautics. Hard to diagnose performance issues. Impossible to backup.<p>You should give TerminusDB a go (<a href="https:&#x2F;&#x2F;terminusdb.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;terminusdb.com&#x2F;</a>), it&#x27;s really OSS, the cloud version is cheap, fast, there are not tons of baroque settings, and it&#x27;s easy to backup using clone.<p>TermiusDB is a graph database with a git-like model with push&#x2F;pull&#x2F;clone semantics as well as a datalog.</div><br/></div></div><div id="35734185" class="c"><input type="checkbox" id="c-35734185" checked=""/><div class="controls bullet"><span class="by">ithrow</span><span>|</span><a href="#35733808">parent</a><span>|</span><a href="#35735530">prev</a><span>|</span><a href="#35734494">next</a><span>|</span><label class="collapse" for="c-35734185">[-]</label><label class="expand" for="c-35734185">[1 more]</label></div><br/><div class="children"><div class="content">I guess this is why datomic.com front page now defaults to datomic pro and not cloud.</div><br/></div></div><div id="35734494" class="c"><input type="checkbox" id="c-35734494" checked=""/><div class="controls bullet"><span class="by">avodonosov</span><span>|</span><a href="#35733808">parent</a><span>|</span><a href="#35734185">prev</a><span>|</span><a href="#35736163">next</a><span>|</span><label class="collapse" for="c-35734494">[-]</label><label class="expand" for="c-35734494">[1 more]</label></div><br/><div class="children"><div class="content">Why backups were impossible? Couldn&#x27;t you backed up the storage resources?</div><br/></div></div><div id="35736163" class="c"><input type="checkbox" id="c-35736163" checked=""/><div class="controls bullet"><span class="by">froggertoaster</span><span>|</span><a href="#35733808">parent</a><span>|</span><a href="#35734494">prev</a><span>|</span><a href="#35735919">next</a><span>|</span><label class="collapse" for="c-35736163">[-]</label><label class="expand" for="c-35736163">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Mother Postgres can do no wrong.<p>Simple, eloquent, damn true.</div><br/></div></div></div></div><div id="35735919" class="c"><input type="checkbox" id="c-35735919" checked=""/><div class="controls bullet"><span class="by">derefr</span><span>|</span><a href="#35733808">prev</a><span>|</span><a href="#35733500">next</a><span>|</span><label class="collapse" for="c-35735919">[-]</label><label class="expand" for="c-35735919">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Is it Open Source?<p>&gt; Datomic binaries are provided under the Apache 2 license which grants all the same rights to a work delivered in object form.<p>So... no?<p>(I say that, but &quot;Datomic binaries&quot; presumably refers to compiled JVM class files; and JVM bytecode is notoriously easy to decompile back to legible source code, with almost all identifiers intact. Would Apache-licensing a binary, imply that you have the right to decompile it, publish an Apache-licensed source-code repo of said decompilation, and then run your own FOSS project off of that?)</div><br/><div id="35736024" class="c"><input type="checkbox" id="c-35736024" checked=""/><div class="controls bullet"><span class="by">Hixon10</span><span>|</span><a href="#35735919">parent</a><span>|</span><a href="#35733500">next</a><span>|</span><label class="collapse" for="c-35736024">[-]</label><label class="expand" for="c-35736024">[1 more]</label></div><br/><div class="children"><div class="content">It had to be simple yes&#x2F;no question, but they haven&#x27;t managed with this :D</div><br/></div></div></div></div><div id="35733500" class="c"><input type="checkbox" id="c-35733500" checked=""/><div class="controls bullet"><span class="by">blatant303</span><span>|</span><a href="#35735919">prev</a><span>|</span><a href="#35728087">next</a><span>|</span><label class="collapse" for="c-35733500">[-]</label><label class="expand" for="c-35733500">[1 more]</label></div><br/><div class="children"><div class="content">Datomic is an event-sourced db, and it makes it hard to introduce retroactive corrections to the data when your program&#x27;s semantic already rely on using datomic&#x27;s time travelling abilities: at one point you&#x27;ll need to to distinguish between event time and recording time as explained in this excellent blog post:<p><a href="https:&#x2F;&#x2F;vvvvalvalval.github.io&#x2F;posts&#x2F;2018-11-12-datomic-event-sourcing-without-the-hassle.html" rel="nofollow">https:&#x2F;&#x2F;vvvvalvalval.github.io&#x2F;posts&#x2F;2018-11-12-datomic-even...</a><p>This is why I&#x27; rather use XTDB [1], a database similar to datomic in spirit, but with bitemporality baked in.<p>[1] <a href="https:&#x2F;&#x2F;www.xtdb.com" rel="nofollow">https:&#x2F;&#x2F;www.xtdb.com</a></div><br/></div></div><div id="35728087" class="c"><input type="checkbox" id="c-35728087" checked=""/><div class="controls bullet"><span class="by">martypitt</span><span>|</span><a href="#35733500">prev</a><span>|</span><a href="#35728066">next</a><span>|</span><label class="collapse" for="c-35728087">[-]</label><label class="expand" for="c-35728087">[24 more]</label></div><br/><div class="children"><div class="content">Only the binaries are made available, not the source, which is interesting.<p>I guess they don&#x27;t claim to be open source, they&#x27;re claiming to be free, which is - in itself - awesome.<p>Last time I checked, you couldn&#x27;t push binaries to maven central, without also releasing the source.  That may have changed.</div><br/><div id="35728455" class="c"><input type="checkbox" id="c-35728455" checked=""/><div class="controls bullet"><span class="by">miroljub</span><span>|</span><a href="#35728087">parent</a><span>|</span><a href="#35728398">next</a><span>|</span><label class="collapse" for="c-35728455">[-]</label><label class="expand" for="c-35728455">[19 more]</label></div><br/><div class="children"><div class="content">They say it&#x27;s under the Apache 2 licence, so it is open source.<p>EDIT: I was wrong. They actually released <i>binaries</i> under the Apache licence, not the source code. Which is, mildly said, deceptive. I don&#x27;t even have an idea what that actually means.</div><br/><div id="35728541" class="c"><input type="checkbox" id="c-35728541" checked=""/><div class="controls bullet"><span class="by">martypitt</span><span>|</span><a href="#35728087">root</a><span>|</span><a href="#35728455">parent</a><span>|</span><a href="#35728558">next</a><span>|</span><label class="collapse" for="c-35728541">[-]</label><label class="expand" for="c-35728541">[5 more]</label></div><br/><div class="children"><div class="content">They say the binaries are being made under Apache 2.<p>They don&#x27;t say anything about the source code being published.  That&#x27;s why (to me) this is so interesting.  I&#x27;ve never seen binaries released without source code before.</div><br/><div id="35728627" class="c"><input type="checkbox" id="c-35728627" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#35728087">root</a><span>|</span><a href="#35728541">parent</a><span>|</span><a href="#35736064">next</a><span>|</span><label class="collapse" for="c-35728627">[-]</label><label class="expand" for="c-35728627">[1 more]</label></div><br/><div class="children"><div class="content">We used to call it Public Domain and Shareware (with variations like Coffeeware, Beerware, Postware,...)</div><br/></div></div><div id="35736064" class="c"><input type="checkbox" id="c-35736064" checked=""/><div class="controls bullet"><span class="by">vore</span><span>|</span><a href="#35728087">root</a><span>|</span><a href="#35728541">parent</a><span>|</span><a href="#35728627">prev</a><span>|</span><a href="#35728793">next</a><span>|</span><label class="collapse" for="c-35736064">[-]</label><label class="expand" for="c-35736064">[1 more]</label></div><br/><div class="children"><div class="content">I wonder if they took a page out of Fabrice Bellard&#x27;s book: <a href="https:&#x2F;&#x2F;bellard.org&#x2F;ts_server&#x2F;" rel="nofollow">https:&#x2F;&#x2F;bellard.org&#x2F;ts_server&#x2F;</a><p><pre><code>  The CPU version is released as binary code under the MIT license.</code></pre></div><br/></div></div><div id="35728793" class="c"><input type="checkbox" id="c-35728793" checked=""/><div class="controls bullet"><span class="by">stefan_</span><span>|</span><a href="#35728087">root</a><span>|</span><a href="#35728541">parent</a><span>|</span><a href="#35736064">prev</a><span>|</span><a href="#35728558">next</a><span>|</span><label class="collapse" for="c-35728793">[-]</label><label class="expand" for="c-35728793">[2 more]</label></div><br/><div class="children"><div class="content">What is even the point of releasing binaries under Apache 2? When I patch the binaries, do I need to release a hexdiff too to fulfill my Apache obligations? Very weird.</div><br/><div id="35729198" class="c"><input type="checkbox" id="c-35729198" checked=""/><div class="controls bullet"><span class="by">politician</span><span>|</span><a href="#35728087">root</a><span>|</span><a href="#35728793">parent</a><span>|</span><a href="#35728558">next</a><span>|</span><label class="collapse" for="c-35729198">[-]</label><label class="expand" for="c-35729198">[1 more]</label></div><br/><div class="children"><div class="content">I suppose you could run it through a Java decompiler and clean up the results with an LLM. How long would that take? 5 years to make it useful?</div><br/></div></div></div></div></div></div><div id="35728558" class="c"><input type="checkbox" id="c-35728558" checked=""/><div class="controls bullet"><span class="by">a2800276</span><span>|</span><a href="#35728087">root</a><span>|</span><a href="#35728455">parent</a><span>|</span><a href="#35728541">prev</a><span>|</span><a href="#35728563">next</a><span>|</span><label class="collapse" for="c-35728558">[-]</label><label class="expand" for="c-35728558">[12 more]</label></div><br/><div class="children"><div class="content">They licensed the binary under Apache. It&#x27;s a publicity stunt.</div><br/><div id="35728581" class="c"><input type="checkbox" id="c-35728581" checked=""/><div class="controls bullet"><span class="by">lolinder</span><span>|</span><a href="#35728087">root</a><span>|</span><a href="#35728558">parent</a><span>|</span><a href="#35728563">next</a><span>|</span><label class="collapse" for="c-35728581">[-]</label><label class="expand" for="c-35728581">[11 more]</label></div><br/><div class="children"><div class="content">Making your product available for free isn&#x27;t a publicity stunt, it&#x27;s a huge step for a business. And, in practice, it&#x27;s not that much different for the average user if only the binaries are Apache licensed. When was the last time you needed to open up the Postgres source code and modify something?</div><br/><div id="35728895" class="c"><input type="checkbox" id="c-35728895" checked=""/><div class="controls bullet"><span class="by">a2800276</span><span>|</span><a href="#35728087">root</a><span>|</span><a href="#35728581">parent</a><span>|</span><a href="#35729472">next</a><span>|</span><label class="collapse" for="c-35728895">[-]</label><label class="expand" for="c-35728895">[8 more]</label></div><br/><div class="children"><div class="content">If it wasn&#x27;t a publicity stunt, it certainly had the effects of one: I&#x27;ve never heard of Datomic before and here they are at the top of hackernews!<p>&gt; And, in practice, it&#x27;s not that much different for the average user if only the binaries are Apache licensed. When was the last time you needed to open up the Postgres source code and modify something?<p>Sure, if you&#x27;re playing a game it probably doesn&#x27;t make a difference. If I&#x27;m building my IT infrastructure on a product, tt makes a huge difference if I get a an open-source-licensed &quot;binary&quot; or access the to source:<p>- the package they distribute contains no less than 960 different jars. Most of those are the standard apache-project-everything-and-the-kitchen-sink-style dependencies. Say I&#x27;d like to update log4j because it contains a catastropic vulnerability that datomic decide not to fix. (not that that sort of thing ever happens)<p>- or say Datomic decides to abandon the product altogether or goes out of business<p>- or say I&#x27;m not happy with their quality of service contract around their DB they support and would like to work with a different company</div><br/><div id="35729065" class="c"><input type="checkbox" id="c-35729065" checked=""/><div class="controls bullet"><span class="by">nightski</span><span>|</span><a href="#35728087">root</a><span>|</span><a href="#35728895">parent</a><span>|</span><a href="#35729035">next</a><span>|</span><label class="collapse" for="c-35729065">[-]</label><label class="expand" for="c-35729065">[2 more]</label></div><br/><div class="children"><div class="content">Rich Hickey started Datatomic (along with Stuart Halloway &amp; Justin Gehtland).  He also created the Clojure programming language and has been on Hacker News numerous times with many popular talks.  In fact they all have made famous contributions.<p>Many businesses use Microsoft SQL Server or Oracle and don&#x27;t need access to the source.  I&#x27;m not saying open source isn&#x27;t nice, but it is absolutely not a requirement for IT infrastructure.<p>I&#x27;d imagine people rely on many cloud services that are in fact, not open source.</div><br/><div id="35738244" class="c"><input type="checkbox" id="c-35738244" checked=""/><div class="controls bullet"><span class="by">KingMob</span><span>|</span><a href="#35728087">root</a><span>|</span><a href="#35729065">parent</a><span>|</span><a href="#35729035">next</a><span>|</span><label class="collapse" for="c-35738244">[-]</label><label class="expand" for="c-35738244">[1 more]</label></div><br/><div class="children"><div class="content">Gehtland was the CEO of Cognitect, and Relevance before that. I doubt he&#x27;s written a line of code in years.</div><br/></div></div></div></div><div id="35729035" class="c"><input type="checkbox" id="c-35729035" checked=""/><div class="controls bullet"><span class="by">lolinder</span><span>|</span><a href="#35728087">root</a><span>|</span><a href="#35728895">parent</a><span>|</span><a href="#35729065">prev</a><span>|</span><a href="#35729213">next</a><span>|</span><label class="collapse" for="c-35729035">[-]</label><label class="expand" for="c-35729035">[4 more]</label></div><br/><div class="children"><div class="content">Again, with your hypotheticals—when was the last time you needed to do any of that with Postgres or another FOSS DBMS?<p>For the vast majority of use cases, a FOSS DBMS and a free-as-in-beer DBMS are indistinguishable. If you&#x27;re in a category where they&#x27;re not, then don&#x27;t use Datomic, but this is still far more than a publicity stunt.</div><br/><div id="35729219" class="c"><input type="checkbox" id="c-35729219" checked=""/><div class="controls bullet"><span class="by">a2800276</span><span>|</span><a href="#35728087">root</a><span>|</span><a href="#35729035">parent</a><span>|</span><a href="#35729213">next</a><span>|</span><label class="collapse" for="c-35729219">[-]</label><label class="expand" for="c-35729219">[3 more]</label></div><br/><div class="children"><div class="content">We must be working in a different world. In all my career I&#x27;ve not once worked with a serious business that did not have a support contract for their database system open source or not.<p>Most of those had escrow agreements for central closed source components with vendors in case the vendor went out of business. (obviously only for things perceived as critical and from companies with some perceived risk of failure).<p>And god knows how many times have I experienced companies biting themselves because they bought into a product that turned out not to deliver what was promised after the contracts were signed.</div><br/><div id="35729494" class="c"><input type="checkbox" id="c-35729494" checked=""/><div class="controls bullet"><span class="by">xmlblog</span><span>|</span><a href="#35728087">root</a><span>|</span><a href="#35729219">parent</a><span>|</span><a href="#35729213">next</a><span>|</span><label class="collapse" for="c-35729494">[-]</label><label class="expand" for="c-35729494">[2 more]</label></div><br/><div class="children"><div class="content">Free beer binaries are not mutually exclusive of Enterprise support agreements featuring all those things you mentioned above _for people that need that_.</div><br/><div id="35731467" class="c"><input type="checkbox" id="c-35731467" checked=""/><div class="controls bullet"><span class="by">a2800276</span><span>|</span><a href="#35728087">root</a><span>|</span><a href="#35729494">parent</a><span>|</span><a href="#35729213">next</a><span>|</span><label class="collapse" for="c-35731467">[-]</label><label class="expand" for="c-35731467">[1 more]</label></div><br/><div class="children"><div class="content">Completely agree. I&#x27;m fine with a free beer license. The context of the post is that the binary is licensed using an Open Source license which leads to confusion.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="35729472" class="c"><input type="checkbox" id="c-35729472" checked=""/><div class="controls bullet"><span class="by">amluto</span><span>|</span><a href="#35728087">root</a><span>|</span><a href="#35728581">parent</a><span>|</span><a href="#35728895">prev</a><span>|</span><a href="#35733429">next</a><span>|</span><label class="collapse" for="c-35729472">[-]</label><label class="expand" for="c-35729472">[1 more]</label></div><br/><div class="children"><div class="content">Never. On the other hand, I have considerable confidence that I could do so, and that if something goes wrong with upstream development, someone is likely to do so.<p>If I use a free-binary-but-no-source product, I’m much more likely to get stuck.<p>(Of course, as a regretful MySQL user, I am pretty stuck, but largely because MySQL is, in many respects, a terrible product. It does, quite reliably, get security updates at the kind of general maintenance that keeps it working no worse than it ever did.)</div><br/></div></div><div id="35733429" class="c"><input type="checkbox" id="c-35733429" checked=""/><div class="controls bullet"><span class="by">ingenieroariel</span><span>|</span><a href="#35728087">root</a><span>|</span><a href="#35728581">parent</a><span>|</span><a href="#35729472">prev</a><span>|</span><a href="#35728563">next</a><span>|</span><label class="collapse" for="c-35733429">[-]</label><label class="expand" for="c-35733429">[1 more]</label></div><br/><div class="children"><div class="content">Today I looked up pgvector&#x27;s NixOS availability. For the past 15 years I have relied on postgis source being available and improved by the community for my day to day business.<p>My point is that the option to modify the source results in software bein available and community maintained in a way that binary only isn&#x27;t. Even if I change the source myself just twice a decade.</div><br/></div></div></div></div></div></div></div></div><div id="35728398" class="c"><input type="checkbox" id="c-35728398" checked=""/><div class="controls bullet"><span class="by">casion</span><span>|</span><a href="#35728087">parent</a><span>|</span><a href="#35728455">prev</a><span>|</span><a href="#35728352">next</a><span>|</span><label class="collapse" for="c-35728398">[-]</label><label class="expand" for="c-35728398">[3 more]</label></div><br/><div class="children"><div class="content">Maven actually has a tutorial on publishing binaries without source. So I assume it&#x27;s ok when they tell you how to do it.</div><br/><div id="35728522" class="c"><input type="checkbox" id="c-35728522" checked=""/><div class="controls bullet"><span class="by">martypitt</span><span>|</span><a href="#35728087">root</a><span>|</span><a href="#35728398">parent</a><span>|</span><a href="#35728352">next</a><span>|</span><label class="collapse" for="c-35728522">[-]</label><label class="expand" for="c-35728522">[2 more]</label></div><br/><div class="children"><div class="content">Sure, Maven makes this possible.<p>But Maven Central has strict rules around what can be published there.  I just double checked and it&#x27;s a requirement to publish the source as well as the binaries:<p><a href="https:&#x2F;&#x2F;central.sonatype.org&#x2F;publish&#x2F;requirements&#x2F;#supply-javadoc-and-sources" rel="nofollow">https:&#x2F;&#x2F;central.sonatype.org&#x2F;publish&#x2F;requirements&#x2F;#supply-ja...</a></div><br/><div id="35730717" class="c"><input type="checkbox" id="c-35730717" checked=""/><div class="controls bullet"><span class="by">BaculumMeumEst</span><span>|</span><a href="#35728087">root</a><span>|</span><a href="#35728522">parent</a><span>|</span><a href="#35728352">next</a><span>|</span><label class="collapse" for="c-35730717">[-]</label><label class="expand" for="c-35730717">[1 more]</label></div><br/><div class="children"><div class="content">it seems you&#x27;re right, but it also says the following, so i&#x27;m confused on whether it&#x27;s a hard requirement?<p>&quot;If, for some reason (for example, license issue or it&#x27;s a Scala project), you can not provide -sources.jar or -javadoc.jar , please make fake -sources.jar or -javadoc.jar with simple README inside to pass the checking. We do not want to disable the rules because some people tend to skip it if they have an option and we want to keep the quality of the user experience as high as possible.&quot;</div><br/></div></div></div></div></div></div><div id="35728352" class="c"><input type="checkbox" id="c-35728352" checked=""/><div class="controls bullet"><span class="by">eternalban</span><span>|</span><a href="#35728087">parent</a><span>|</span><a href="#35728398">prev</a><span>|</span><a href="#35728066">next</a><span>|</span><label class="collapse" for="c-35728352">[-]</label><label class="expand" for="c-35728352">[1 more]</label></div><br/><div class="children"><div class="content">Someone (forget who but he worked there) was giving a presentation of Datomics in some downtown (NYC) bank circa 2014 iirc. Per the presenter -- iirc someone asked a specific technical question -- even people working for the company don&#x27;t get to see the full source. Only a small team has access to the full source, and he said he wasn&#x27;t one of them.</div><br/></div></div></div></div><div id="35728066" class="c"><input type="checkbox" id="c-35728066" checked=""/><div class="controls bullet"><span class="by">adamfeldman</span><span>|</span><a href="#35728087">prev</a><span>|</span><a href="#35731731">next</a><span>|</span><label class="collapse" for="c-35728066">[-]</label><label class="expand" for="c-35728066">[20 more]</label></div><br/><div class="children"><div class="content">What is Datomic, you ask? It&#x27;s a database written in Clojure. <a href="https:&#x2F;&#x2F;hn.algolia.com&#x2F;?q=datomic" rel="nofollow">https:&#x2F;&#x2F;hn.algolia.com&#x2F;?q=datomic</a><p><pre><code>  Datomic is an operational database management system - designed for transactional, domain-specific data. It is not designed to be a data warehouse, nor a high-churn high-throughput system (such as a time-series database or log store).
  It is a good fit for systems that store valuable information of record, require developer and operational flexibility, need history and audit capabilities, and require read scalability.</code></pre>
(via <a href="https:&#x2F;&#x2F;docs.datomic.com&#x2F;pro&#x2F;getting-started&#x2F;brief-overview.html" rel="nofollow">https:&#x2F;&#x2F;docs.datomic.com&#x2F;pro&#x2F;getting-started&#x2F;brief-overview....</a>)</div><br/><div id="35728866" class="c"><input type="checkbox" id="c-35728866" checked=""/><div class="controls bullet"><span class="by">mbesto</span><span>|</span><a href="#35728066">parent</a><span>|</span><a href="#35730611">next</a><span>|</span><label class="collapse" for="c-35728866">[-]</label><label class="expand" for="c-35728866">[18 more]</label></div><br/><div class="children"><div class="content">For 90% of the web devs that just spin up Postgres&#x2F;MySQL, why would you use Datomic over that?</div><br/><div id="35729362" class="c"><input type="checkbox" id="c-35729362" checked=""/><div class="controls bullet"><span class="by">alecco</span><span>|</span><a href="#35728066">root</a><span>|</span><a href="#35728866">parent</a><span>|</span><a href="#35728997">next</a><span>|</span><label class="collapse" for="c-35729362">[-]</label><label class="expand" for="c-35729362">[7 more]</label></div><br/><div class="children"><div class="content">Just the temporal properties alone make it very useful for anything where it matters like billing, finance, inventory. Else you are in views&#x2F;schema&#x2F;indexing hell to do it on top of SQL.<p>There is some SQL temporal support but it&#x27;s not great and varies a lot. Also since it&#x27;s not native to the storage it has a lot of complexity issues under the rug making it not great.<p>Many financial systems use Event Sourcing (OOP + ORM). I had to suffer this at a previous employer.<p>See <a href="https:&#x2F;&#x2F;vvvvalvalval.github.io&#x2F;posts&#x2F;2018-11-12-datomic-event-sourcing-without-the-hassle.html" rel="nofollow">https:&#x2F;&#x2F;vvvvalvalval.github.io&#x2F;posts&#x2F;2018-11-12-datomic-even...</a></div><br/><div id="35731592" class="c"><input type="checkbox" id="c-35731592" checked=""/><div class="controls bullet"><span class="by">slaymaker1907</span><span>|</span><a href="#35728066">root</a><span>|</span><a href="#35729362">parent</a><span>|</span><a href="#35732672">next</a><span>|</span><label class="collapse" for="c-35731592">[-]</label><label class="expand" for="c-35731592">[3 more]</label></div><br/><div class="children"><div class="content">The temporal support seems handy, but time is still going to be really tricky for financial systems. Datomic only covers what the physical state of the database was at a particular time, but there&#x27;s also the effective legal time (maybe a payment was dated a day before the system actually processed it) as well as requirements to remove data after a period of time (including point in time stuff).</div><br/><div id="35732372" class="c"><input type="checkbox" id="c-35732372" checked=""/><div class="controls bullet"><span class="by">nlitened</span><span>|</span><a href="#35728066">root</a><span>|</span><a href="#35731592">parent</a><span>|</span><a href="#35732022">next</a><span>|</span><label class="collapse" for="c-35732372">[-]</label><label class="expand" for="c-35732372">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s a bitemporal Datomic-like database from JUXT that does exactly that, I believe <a href="https:&#x2F;&#x2F;www.xtdb.com" rel="nofollow">https:&#x2F;&#x2F;www.xtdb.com</a></div><br/></div></div><div id="35732022" class="c"><input type="checkbox" id="c-35732022" checked=""/><div class="controls bullet"><span class="by">augustl</span><span>|</span><a href="#35728066">root</a><span>|</span><a href="#35731592">parent</a><span>|</span><a href="#35732372">prev</a><span>|</span><a href="#35732672">next</a><span>|</span><label class="collapse" for="c-35732022">[-]</label><label class="expand" for="c-35732022">[1 more]</label></div><br/><div class="children"><div class="content">Indeed, it depends a lot on the domain. Datomic only has &quot;technical&quot; database time, and doesn&#x27;t have any built-in way of modelling domain time. You can set the transaction timestamp manually when you write, but you can&#x27;t set it to be earlier than the latest transaction that was committed. So, if you want your domain modelling to piggyback on Datomic time travelling, you can only do things like delaying writes for, say, an hour, and hope you have all the data by the time you commit to db.</div><br/></div></div></div></div><div id="35732672" class="c"><input type="checkbox" id="c-35732672" checked=""/><div class="controls bullet"><span class="by">riku_iki</span><span>|</span><a href="#35728066">root</a><span>|</span><a href="#35729362">parent</a><span>|</span><a href="#35731592">prev</a><span>|</span><a href="#35728997">next</a><span>|</span><label class="collapse" for="c-35732672">[-]</label><label class="expand" for="c-35732672">[3 more]</label></div><br/><div class="children"><div class="content">&gt; Just the temporal properties alone make it very useful for anything where it matters like billing, finance, inventory.<p>you can easily create datamodel to have this in SQL dbs: create table transaction_history(..., execution_time timestamp);</div><br/><div id="35732869" class="c"><input type="checkbox" id="c-35732869" checked=""/><div class="controls bullet"><span class="by">tasuki</span><span>|</span><a href="#35728066">root</a><span>|</span><a href="#35732672">parent</a><span>|</span><a href="#35733870">next</a><span>|</span><label class="collapse" for="c-35732869">[-]</label><label class="expand" for="c-35732869">[1 more]</label></div><br/><div class="children"><div class="content">This is not an answer, it&#x27;s the beginning of a question. Yes sure, we know `create table` and we know it&#x27;s a good idea to record the execution timestamp. What exactly do you put in the place of the three dots?</div><br/></div></div><div id="35733870" class="c"><input type="checkbox" id="c-35733870" checked=""/><div class="controls bullet"><span class="by">augustl</span><span>|</span><a href="#35728066">root</a><span>|</span><a href="#35732672">parent</a><span>|</span><a href="#35732869">prev</a><span>|</span><a href="#35728997">next</a><span>|</span><label class="collapse" for="c-35733870">[-]</label><label class="expand" for="c-35733870">[1 more]</label></div><br/><div class="children"><div class="content">Fyi, Datomic lets you look at the entire database at any point in time, as an immutable value. Also, you can annotate transactions with metadata, and query for &quot;which tx wrote this specific value for this row&#x2F;column&quot; and look at custom metadata you added to the tx to reason about your system. Doing all of that in SQL is not trivial, to say the least.</div><br/></div></div></div></div></div></div><div id="35728997" class="c"><input type="checkbox" id="c-35728997" checked=""/><div class="controls bullet"><span class="by">roguas</span><span>|</span><a href="#35728066">root</a><span>|</span><a href="#35728866">parent</a><span>|</span><a href="#35729362">prev</a><span>|</span><a href="#35729600">next</a><span>|</span><label class="collapse" for="c-35728997">[-]</label><label class="expand" for="c-35728997">[6 more]</label></div><br/><div class="children"><div class="content">You have to add a lot of scaffolding to postgres to make it semi-immutable. datomic just is, wanna know previous user email, just go back and see. Out of the box, without thinking about it.</div><br/><div id="35729101" class="c"><input type="checkbox" id="c-35729101" checked=""/><div class="controls bullet"><span class="by">evantbyrne</span><span>|</span><a href="#35728066">root</a><span>|</span><a href="#35728997">parent</a><span>|</span><a href="#35736566">next</a><span>|</span><label class="collapse" for="c-35729101">[-]</label><label class="expand" for="c-35729101">[4 more]</label></div><br/><div class="children"><div class="content">Immutability is certainly tempting for certain kinds of data. Does it handle use-cases where data needs to be deleted though? i.e., privacy compliance.</div><br/><div id="35729357" class="c"><input type="checkbox" id="c-35729357" checked=""/><div class="controls bullet"><span class="by">mcbits</span><span>|</span><a href="#35728066">root</a><span>|</span><a href="#35729101">parent</a><span>|</span><a href="#35729618">next</a><span>|</span><label class="collapse" for="c-35729357">[-]</label><label class="expand" for="c-35729357">[1 more]</label></div><br/><div class="children"><div class="content">It looks like they call that excision, which leaves behind a breadcrumb saying something was deleted and which can&#x27;t itself be deleted.</div><br/></div></div><div id="35729618" class="c"><input type="checkbox" id="c-35729618" checked=""/><div class="controls bullet"><span class="by">dgb23</span><span>|</span><a href="#35728066">root</a><span>|</span><a href="#35729101">parent</a><span>|</span><a href="#35729357">prev</a><span>|</span><a href="#35729427">next</a><span>|</span><label class="collapse" for="c-35729618">[-]</label><label class="expand" for="c-35729618">[1 more]</label></div><br/><div class="children"><div class="content">Temporality in general becomes super handy if you have something like reports that need to be consistent across time. Or if you want to ask questions about the past. Or questions about the future without affecting the present.</div><br/></div></div></div></div><div id="35736566" class="c"><input type="checkbox" id="c-35736566" checked=""/><div class="controls bullet"><span class="by">mbesto</span><span>|</span><a href="#35728066">root</a><span>|</span><a href="#35728997">parent</a><span>|</span><a href="#35729101">prev</a><span>|</span><a href="#35729600">next</a><span>|</span><label class="collapse" for="c-35736566">[-]</label><label class="expand" for="c-35736566">[1 more]</label></div><br/><div class="children"><div class="content">Super interesting, thanks.</div><br/></div></div></div></div><div id="35729600" class="c"><input type="checkbox" id="c-35729600" checked=""/><div class="controls bullet"><span class="by">dgb23</span><span>|</span><a href="#35728066">root</a><span>|</span><a href="#35728866">parent</a><span>|</span><a href="#35728997">prev</a><span>|</span><a href="#35729796">next</a><span>|</span><label class="collapse" for="c-35729600">[-]</label><label class="expand" for="c-35729600">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s not easy to answer. It&#x27;s a question of:<p>- mutable data vs immutable data<p>- tables, row based vs tripple store, attribute based (EAV&#x2F;RDF)<p>- table schemas vs attribute schemas<p>- relational connections vs graph connections<p>- SQL vs datalog<p>- nested queries vs flat queries and rules<p>- remote access vs client side index<p>etc.</div><br/></div></div><div id="35729796" class="c"><input type="checkbox" id="c-35729796" checked=""/><div class="controls bullet"><span class="by">panick21_</span><span>|</span><a href="#35728066">root</a><span>|</span><a href="#35728866">parent</a><span>|</span><a href="#35729600">prev</a><span>|</span><a href="#35729183">next</a><span>|</span><label class="collapse" for="c-35729796">[-]</label><label class="expand" for="c-35729796">[1 more]</label></div><br/><div class="children"><div class="content">Because its a different model of integrating your database and your app.<p>It allows you to write queries in a pull style, it can be trigger based, datalog or raw index access. Its by default immutable and allows historical query. It allows meta data on the transaction themselves.<p>A lot of the time the user builds much of that himself or relays on frameworks to do it.</div><br/></div></div><div id="35729183" class="c"><input type="checkbox" id="c-35729183" checked=""/><div class="controls bullet"><span class="by">fulafel</span><span>|</span><a href="#35728066">root</a><span>|</span><a href="#35728866">parent</a><span>|</span><a href="#35729796">prev</a><span>|</span><a href="#35729218">next</a><span>|</span><label class="collapse" for="c-35729183">[-]</label><label class="expand" for="c-35729183">[1 more]</label></div><br/><div class="children"><div class="content">A tangent but it would be interesting to see survey data of how many devs default reach for SQL first these days. A lot of people use various other kinds of DB models which are preceived to have smoother learning curves.</div><br/></div></div></div></div></div></div><div id="35731731" class="c"><input type="checkbox" id="c-35731731" checked=""/><div class="controls bullet"><span class="by">beders</span><span>|</span><a href="#35728066">prev</a><span>|</span><a href="#35728170">next</a><span>|</span><label class="collapse" for="c-35731731">[-]</label><label class="expand" for="c-35731731">[3 more]</label></div><br/><div class="children"><div class="content">Every single day I wish the architects at my current job had chosen Datomic instead of Postgresql.
It would have saved us so so much time and trouble.
The time traveling ability alone would have been so useful so many times.<p>Also the ability to annotate transactions is awesome.<p>So many goodies.<p>Here&#x27;s a good summary:<p><a href="https:&#x2F;&#x2F;medium.com&#x2F;@val.vvalval&#x2F;what-datomic-brings-to-businesses-e2238a568e1c" rel="nofollow">https:&#x2F;&#x2F;medium.com&#x2F;@val.vvalval&#x2F;what-datomic-brings-to-busin...</a></div><br/><div id="35733893" class="c"><input type="checkbox" id="c-35733893" checked=""/><div class="controls bullet"><span class="by">hoffs</span><span>|</span><a href="#35731731">parent</a><span>|</span><a href="#35728170">next</a><span>|</span><label class="collapse" for="c-35733893">[-]</label><label class="expand" for="c-35733893">[2 more]</label></div><br/><div class="children"><div class="content">I am almost certain you don&#x27;t.</div><br/><div id="35738058" class="c"><input type="checkbox" id="c-35738058" checked=""/><div class="controls bullet"><span class="by">oblio</span><span>|</span><a href="#35731731">root</a><span>|</span><a href="#35733893">parent</a><span>|</span><a href="#35728170">next</a><span>|</span><label class="collapse" for="c-35738058">[-]</label><label class="expand" for="c-35738058">[1 more]</label></div><br/><div class="children"><div class="content">Don&#x27;t what?</div><br/></div></div></div></div></div></div><div id="35728170" class="c"><input type="checkbox" id="c-35728170" checked=""/><div class="controls bullet"><span class="by">hombre_fatal</span><span>|</span><a href="#35731731">prev</a><span>|</span><a href="#35729329">next</a><span>|</span><label class="collapse" for="c-35728170">[-]</label><label class="expand" for="c-35728170">[22 more]</label></div><br/><div class="children"><div class="content">Aside, I remember HN in 2009 or so where Clojure was a daily homepage staple and Rich Hickey was putting out his talks about Clojure and code design.<p>I watched a lot of that and used Clojure fulltime for five years. Wonder what he&#x27;s up to these days.</div><br/><div id="35728206" class="c"><input type="checkbox" id="c-35728206" checked=""/><div class="controls bullet"><span class="by">xmlblog</span><span>|</span><a href="#35728170">parent</a><span>|</span><a href="#35728347">next</a><span>|</span><label class="collapse" for="c-35728206">[-]</label><label class="expand" for="c-35728206">[2 more]</label></div><br/><div class="children"><div class="content">Attending <a href="https:&#x2F;&#x2F;2023.clojure-conj.org&#x2F;schedule&#x2F;" rel="nofollow">https:&#x2F;&#x2F;2023.clojure-conj.org&#x2F;schedule&#x2F;</a></div><br/><div id="35728623" class="c"><input type="checkbox" id="c-35728623" checked=""/><div class="controls bullet"><span class="by">kgwxd</span><span>|</span><a href="#35728170">root</a><span>|</span><a href="#35728206">parent</a><span>|</span><a href="#35728347">next</a><span>|</span><label class="collapse" for="c-35728623">[-]</label><label class="expand" for="c-35728623">[1 more]</label></div><br/><div class="children"><div class="content">Oh, that&#x27;s today and tomorrow. I had been waiting for that, I could have sworn earlier this year they said there was going to be a live stream available. Maybe it didn&#x27;t pan out.<p>Edit: Oh, there are streaming tickets for $20.</div><br/></div></div></div></div><div id="35728347" class="c"><input type="checkbox" id="c-35728347" checked=""/><div class="controls bullet"><span class="by">lib-dev</span><span>|</span><a href="#35728170">parent</a><span>|</span><a href="#35728206">prev</a><span>|</span><a href="#35728230">next</a><span>|</span><label class="collapse" for="c-35728347">[-]</label><label class="expand" for="c-35728347">[8 more]</label></div><br/><div class="children"><div class="content">Those talks inspired far more than Clojure itself. It sort of started this movement toward simplicity as a value.</div><br/><div id="35728564" class="c"><input type="checkbox" id="c-35728564" checked=""/><div class="controls bullet"><span class="by">frou_dh</span><span>|</span><a href="#35728170">root</a><span>|</span><a href="#35728347">parent</a><span>|</span><a href="#35728230">next</a><span>|</span><label class="collapse" for="c-35728564">[-]</label><label class="expand" for="c-35728564">[7 more]</label></div><br/><div class="children"><div class="content">If that&#x27;s the case then all the people running around praising the &quot;&quot;simplicity&quot;&quot; of golang got the wrong end of the stick completely from Rich&#x27;s classic presentations.</div><br/><div id="35729507" class="c"><input type="checkbox" id="c-35729507" checked=""/><div class="controls bullet"><span class="by">moomin</span><span>|</span><a href="#35728170">root</a><span>|</span><a href="#35728564">parent</a><span>|</span><a href="#35732507">next</a><span>|</span><label class="collapse" for="c-35729507">[-]</label><label class="expand" for="c-35729507">[5 more]</label></div><br/><div class="children"><div class="content">The thing is, Hickey was entirely right to reject this idea of “Simplicity” being the same thing as “Easy”. But he then decided to conflate in “comprehensible” which it turns out is very much a matter of aesthetics.<p>Turns out if you really focus on composability above other concerns you get Haskell.</div><br/><div id="35738303" class="c"><input type="checkbox" id="c-35738303" checked=""/><div class="controls bullet"><span class="by">KingMob</span><span>|</span><a href="#35728170">root</a><span>|</span><a href="#35729507">parent</a><span>|</span><a href="#35729692">next</a><span>|</span><label class="collapse" for="c-35738303">[-]</label><label class="expand" for="c-35738303">[1 more]</label></div><br/><div class="children"><div class="content">The problem is his disdain for &quot;easy&quot;. It&#x27;s one thing to create composable building blocks, but frequently, 99% of users will use them in the exact same way, so you might as well produce the easy thing on top of the simple thing, too.<p>The Clojure tools.build process has this exact problem. It&#x27;s too low-level, so everyone got to write their own build scripts on top of that to do the same thing as everyone else. Now there&#x27;s a situation of a 1000s of bespoke build scripts and 3-4 different front-ends, all effectively doing the same thing.<p>&quot;In my line of work, sister, sometimes a second chance is a chance to mistake the same mistake twice&quot; - State and Main</div><br/></div></div><div id="35729692" class="c"><input type="checkbox" id="c-35729692" checked=""/><div class="controls bullet"><span class="by">frou_dh</span><span>|</span><a href="#35728170">root</a><span>|</span><a href="#35729507">parent</a><span>|</span><a href="#35738303">prev</a><span>|</span><a href="#35730157">next</a><span>|</span><label class="collapse" for="c-35729692">[-]</label><label class="expand" for="c-35729692">[1 more]</label></div><br/><div class="children"><div class="content">&gt; But he then decided to conflate in “comprehensible” which it turns out is very much a matter of aesthetics.<p>Did he? I seem to remember a quip in one of the presentations about German not being comprehensible to him being his own problem, because he never learned German.</div><br/></div></div><div id="35730157" class="c"><input type="checkbox" id="c-35730157" checked=""/><div class="controls bullet"><span class="by">sooheon</span><span>|</span><a href="#35728170">root</a><span>|</span><a href="#35729507">parent</a><span>|</span><a href="#35729692">prev</a><span>|</span><a href="#35730943">next</a><span>|</span><label class="collapse" for="c-35730157">[-]</label><label class="expand" for="c-35730157">[1 more]</label></div><br/><div class="children"><div class="content">In Hickey&#x27;s world comprehensible is a subset of easy.</div><br/></div></div><div id="35730943" class="c"><input type="checkbox" id="c-35730943" checked=""/><div class="controls bullet"><span class="by">tikhonj</span><span>|</span><a href="#35728170">root</a><span>|</span><a href="#35729507">parent</a><span>|</span><a href="#35730157">prev</a><span>|</span><a href="#35732507">next</a><span>|</span><label class="collapse" for="c-35730943">[-]</label><label class="expand" for="c-35730943">[1 more]</label></div><br/><div class="children"><div class="content">&quot;Easy&quot; vs &quot;comprehensible&quot; is exactly the trade-off Haskell makes: it might be difficult to learn, but it&#x27;s easy to reason about once you learn it. (Of course, both sides of that equation come with their own caveats...)</div><br/></div></div></div></div></div></div></div></div><div id="35728230" class="c"><input type="checkbox" id="c-35728230" checked=""/><div class="controls bullet"><span class="by">vaylian</span><span>|</span><a href="#35728170">parent</a><span>|</span><a href="#35728347">prev</a><span>|</span><a href="#35729502">next</a><span>|</span><label class="collapse" for="c-35728230">[-]</label><label class="expand" for="c-35728230">[1 more]</label></div><br/><div class="children"><div class="content">Probably spending a lot of time in hammocks[1]<p>[1] <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=f84n5oFoZBc">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=f84n5oFoZBc</a></div><br/></div></div><div id="35729502" class="c"><input type="checkbox" id="c-35729502" checked=""/><div class="controls bullet"><span class="by">stonemetal12</span><span>|</span><a href="#35728170">parent</a><span>|</span><a href="#35728230">prev</a><span>|</span><a href="#35729297">next</a><span>|</span><label class="collapse" for="c-35729502">[-]</label><label class="expand" for="c-35729502">[7 more]</label></div><br/><div class="children"><div class="content">&gt;used Clojure fulltime for five years.<p>How did that work out for you?  Usually following a hype cycle, there is a negative hype cycle i.e. Mongo is webscale, then Mongo is a buggy mess.<p>Clojure seemed to just fade away. Did it turn out well or are there interesting pitfalls that make it not as great as advertised?</div><br/><div id="35730954" class="c"><input type="checkbox" id="c-35730954" checked=""/><div class="controls bullet"><span class="by">hombre_fatal</span><span>|</span><a href="#35728170">root</a><span>|</span><a href="#35729502">parent</a><span>|</span><a href="#35735007">next</a><span>|</span><label class="collapse" for="c-35730954">[-]</label><label class="expand" for="c-35730954">[3 more]</label></div><br/><div class="children"><div class="content">Clojure is just really niche.  Even an ecosystem that stays the same size overtime is dwarfed by the continually growing, continually polished competitor ecosystems that will pull people from the small niches.<p>The best things about Clojure are things you don&#x27;t really appreciate until you&#x27;ve already done the work to learn them.<p>For example, I never would have known how amazing it was to evaluate code inside the editor until I did the work of learning Emacs + evil-mode + nrepl&#x2F;cider + whatever so that I could spin up my http server in-process and then modify code without restarting everything. Even today I&#x27;m doing `nodemon index.ts` like a goofball.<p>I stopped using Clojure simply when I met someone who wanted to build some big projects with me and, despite appreciating that Clojure was probably amazing, they simply couldn&#x27;t be bothered to learn it. Fair enough. It was when Javascript was just getting `yield` coroutines (before async&#x2F;await) which finally made Javascript bearable for me enough to switch to it for server work.<p>Clojure just has increasingly compelling languages and ecosystems to compete with, yet it has a huge ramp up, being a lisp, that make it hard for people to choose it.<p>Just consider how, to even write Clojure comfortably, you really need something like Paredit. Else, what exactly are you going to do if you want to nest or unnest a (form) deeper in the ast structure? Manually rebalance parens? Cut and paste it? Only Paredit lets you easily move a (form) around the ast. And it&#x27;s amazing but yet another tool you have to learn just to truly evaluate Clojure.</div><br/><div id="35736800" class="c"><input type="checkbox" id="c-35736800" checked=""/><div class="controls bullet"><span class="by">elangoc</span><span>|</span><a href="#35728170">root</a><span>|</span><a href="#35730954">parent</a><span>|</span><a href="#35733597">next</a><span>|</span><label class="collapse" for="c-35736800">[-]</label><label class="expand" for="c-35736800">[1 more]</label></div><br/><div class="children"><div class="content">People who use Parinfer rather than Paredit when learning Clojure really like it. The concept is available in the Clojure mode in all the usual suspects of IDEs (IntelliJ Cursive, emacs Cider, etc.)<p><a href="https:&#x2F;&#x2F;shaunlebron.github.io&#x2F;parinfer&#x2F;" rel="nofollow">https:&#x2F;&#x2F;shaunlebron.github.io&#x2F;parinfer&#x2F;</a><p>The size of the community is not as important as the value of what is available. It&#x27;s just not widely known, or maybe there&#x27;s still much potential yet unrealized.<p>This is an oldie but a goodie on how interactive an experience you can have when using Clojure on the front end and backend of a web app:<p><a href="https:&#x2F;&#x2F;figwheel.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;figwheel.org&#x2F;</a><p>This project is the most recent and most promising iteration of someone making a very visual interactive tool for introspecting on data structures in the REPL environment<p><a href="https:&#x2F;&#x2F;github.com&#x2F;djblue&#x2F;portal">https:&#x2F;&#x2F;github.com&#x2F;djblue&#x2F;portal</a></div><br/></div></div><div id="35733597" class="c"><input type="checkbox" id="c-35733597" checked=""/><div class="controls bullet"><span class="by">blatant303</span><span>|</span><a href="#35728170">root</a><span>|</span><a href="#35730954">parent</a><span>|</span><a href="#35736800">prev</a><span>|</span><a href="#35735007">next</a><span>|</span><label class="collapse" for="c-35733597">[-]</label><label class="expand" for="c-35733597">[1 more]</label></div><br/><div class="children"><div class="content">You don&#x27;t need paredit. I use Sublime and ctrl+shift+space. Been writing Clojure for 10 years or so.</div><br/></div></div></div></div><div id="35735007" class="c"><input type="checkbox" id="c-35735007" checked=""/><div class="controls bullet"><span class="by">askonomm</span><span>|</span><a href="#35728170">root</a><span>|</span><a href="#35729502">parent</a><span>|</span><a href="#35730954">prev</a><span>|</span><a href="#35735057">next</a><span>|</span><label class="collapse" for="c-35735007">[-]</label><label class="expand" for="c-35735007">[2 more]</label></div><br/><div class="children"><div class="content">As far as the metrics state, Clojure never faded away. It&#x27;s on an upward trajectory still, albeit slowly. Perhaps it faded away in terms of &quot;HN hype of the day&quot;.<p>That said, I&#x27;ve been (and currently am) a Clojure engineer for the past 5 years and loving it. Quite a lot of jobs out there, more and more each time I look, healthy ecosystem and friendly community. It doesn&#x27;t hurt that it&#x27;s the most paid programming language as well.</div><br/><div id="35736751" class="c"><input type="checkbox" id="c-35736751" checked=""/><div class="controls bullet"><span class="by">robertfw</span><span>|</span><a href="#35728170">root</a><span>|</span><a href="#35735007">parent</a><span>|</span><a href="#35735057">next</a><span>|</span><label class="collapse" for="c-35736751">[-]</label><label class="expand" for="c-35736751">[1 more]</label></div><br/><div class="children"><div class="content">The jobs seem to be pretty available in Europe, but I&#x27;ve been struggling to find Clojure work over here on the west coast of North America. I&#x27;ve had to bite the bullet and am looking for work in other languages now, though I&#x27;d really rather stay in the ecosystem.</div><br/></div></div></div></div><div id="35735057" class="c"><input type="checkbox" id="c-35735057" checked=""/><div class="controls bullet"><span class="by">mschaef</span><span>|</span><a href="#35728170">root</a><span>|</span><a href="#35729502">parent</a><span>|</span><a href="#35735007">prev</a><span>|</span><a href="#35729297">next</a><span>|</span><label class="collapse" for="c-35735057">[-]</label><label class="expand" for="c-35735057">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve used Clojure personally for &gt;10 years and done a bit with it commercially along the way. (I also have a personal affection for Lisp-like languages that goes back to at least the mid-90&#x27;s.)<p>&gt; How did that work out for you?<p>For the personal projects, it&#x27;s been incredibly useful. The language fits the way I think, and being built on the JVM, it has both a performant runtime and lots of access to a wide ecosystem of libraries.<p>The Clojure-specific ecosystem library has been accused of being stagnant. I tend to take a more charitable view. The libraries I&#x27;ve used have tended to be smaller in scope and more well defined in terms of feature set. This makes it easier for them to converge on a feature-complete state, and many of them have done just that. If you don&#x27;t mind assembling multiple smaller libraries into the useful whole you need, this can provide a stable platform on which to build and develop expertise and higher level libraries.<p>For larger scale commercial work, it&#x27;s a harder sell.  As you&#x27;ve pointed out, Clojure is not hugely popular, so it&#x27;s fundamentally a minority language. This can make VC&#x27;s touchy about funding. This is true to the extent I&#x27;m aware of at least one organization that started moving away from Clojure for that reason.<p>There&#x27;s also the shape of the learning curve. It can be hard to get started with Clojure because of the issues around the syntax and associated tooling. The more piecemeal aspect of the library ecosystem can then make it harder to get to hit the early successes a larger framework-oriented approach can give you out of the box. You can get there, but it at least takes more initial effort. The same is true for all the abstractive power of Clojure (and other Lisps). Abstractions are nice, but they take time to develop and the payoff is on a considerable lag. The useful rule about waiting to abstract until after you see 2 or 3 instances of a pattern means you need to at least have spent enough time to see those 2 or 3 instances (and maybe a few more) before you really start to see the payoff in your own code.<p>The net of all this is that it&#x27;s a language that may make it more difficult to get funding, will be initially somewhat confusing to most developers, and the payoff may well be deferred to the point you don&#x27;t see it before you give up (either out of frustration or due to external factors). All in all, a considerable set of headwinds.<p>So what does that mean? It&#x27;s probably better for projects on a longer time horizon that have a team willing and able to put in extended effort to effectively use the language. (And if the team is not self-funded, good to have a funder with some ability to accept the risk of a non-conventional solution). Not saying these projects don&#x27;t exist, just that they&#x27;re not common enough to build a &#x27;popular&#x2F;mass-market&#x27; ecosystem on.</div><br/></div></div></div></div><div id="35729297" class="c"><input type="checkbox" id="c-35729297" checked=""/><div class="controls bullet"><span class="by">puredanger</span><span>|</span><a href="#35728170">parent</a><span>|</span><a href="#35729502">prev</a><span>|</span><a href="#35729573">next</a><span>|</span><label class="collapse" for="c-35729297">[-]</label><label class="expand" for="c-35729297">[1 more]</label></div><br/><div class="children"><div class="content">Working on Clojure and Datomic!</div><br/></div></div><div id="35729573" class="c"><input type="checkbox" id="c-35729573" checked=""/><div class="controls bullet"><span class="by">ilrwbwrkhv</span><span>|</span><a href="#35728170">parent</a><span>|</span><a href="#35729297">prev</a><span>|</span><a href="#35729329">next</a><span>|</span><label class="collapse" for="c-35729573">[-]</label><label class="expand" for="c-35729573">[2 more]</label></div><br/><div class="children"><div class="content">The whole clojure ecosystem and the wonderful tools around it never really took off due to unclear documentation, poor onboarding and too few evangelists. Datomic and other products are really cool but are now being given away as scrapware due to this lack of effort to make the whole ecosystem more palatable, colorful and easy to get into for new audiences.</div><br/><div id="35735092" class="c"><input type="checkbox" id="c-35735092" checked=""/><div class="controls bullet"><span class="by">cellularmitosis</span><span>|</span><a href="#35728170">root</a><span>|</span><a href="#35729573">parent</a><span>|</span><a href="#35729329">next</a><span>|</span><label class="collapse" for="c-35735092">[-]</label><label class="expand" for="c-35735092">[1 more]</label></div><br/><div class="children"><div class="content">Even as a Clojure hobbyist I feel like all of these points are off?  Between 4clojure, clojuredocs and the slack channel and the surprising number of books available, the onboarding and docs are great.  And when I think of my favorite lang evangelists, hickey and nolen are absolutely #1 and #2, and have influenced me heavily, despite my day job not involving Clojure at all.</div><br/></div></div></div></div></div></div><div id="35729329" class="c"><input type="checkbox" id="c-35729329" checked=""/><div class="controls bullet"><span class="by">rektide</span><span>|</span><a href="#35728170">prev</a><span>|</span><a href="#35728447">next</a><span>|</span><label class="collapse" for="c-35729329">[-]</label><label class="expand" for="c-35729329">[1 more]</label></div><br/><div class="children"><div class="content">It notably powers Roam, a kind of interesting notes&#x2F;mini Notion product.<p>There&#x27;s a reasonably interesting writeup of the tech details that helps show off Atomics value some, <a href="https:&#x2F;&#x2F;www.zsolt.blog&#x2F;2021&#x2F;01&#x2F;Roam-Data-Structure-Query.html" rel="nofollow">https:&#x2F;&#x2F;www.zsolt.blog&#x2F;2021&#x2F;01&#x2F;Roam-Data-Structure-Query.htm...</a>
<a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=29295532" rel="nofollow">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=29295532</a></div><br/></div></div><div id="35728447" class="c"><input type="checkbox" id="c-35728447" checked=""/><div class="controls bullet"><span class="by">jchw</span><span>|</span><a href="#35729329">prev</a><span>|</span><a href="#35730643">next</a><span>|</span><label class="collapse" for="c-35728447">[-]</label><label class="expand" for="c-35728447">[36 more]</label></div><br/><div class="children"><div class="content">Not complaining about the actual announcement itself here: seems pretty sweet all things considered, But: the &quot;Is it Open Source?&quot; section should lead with &quot;No.&quot; It&#x27;s not a complicated question, and it&#x27;s not a complicated answer. I think it&#x27;s weird to talk about having &quot;all the same rights&quot; without explaining why that matters particularly (it does matter, it&#x27;s just not explained much!) but it is somewhat tangential to the question being posed which has a very clear and straightforward answer.<p>I hope more companies consider this unusual arrangement at least as an alternative to other approaches. Permissively licensed binaries can come in handy, though it certainly comes with it&#x27;s risks. For example, Microsoft released the binaries for its WebView2 SDK under the BSD license; this is nice of course, but the side-effect is that we can (and did) reverse engineer the loader binary back to source code. I suspect that&#x27;s unlikely to happen for any substantially large commercial product, and I am not a lawyer so I can&#x27;t be sure this isn&#x27;t still legally dubious, but it&#x27;s still worth considering: the protections of a EULA are completely gone here, if you just distribute binaries under a vanilla permissive open source license.</div><br/><div id="35728759" class="c"><input type="checkbox" id="c-35728759" checked=""/><div class="controls bullet"><span class="by">kevincox</span><span>|</span><a href="#35728447">parent</a><span>|</span><a href="#35730199">next</a><span>|</span><label class="collapse" for="c-35728759">[-]</label><label class="expand" for="c-35728759">[5 more]</label></div><br/><div class="children"><div class="content">I felt the exact same thing. I was pretty sure the answer was &quot;No&quot; but they were too chicken to write it.<p>Were they hoping that people wouldn&#x27;t notice?</div><br/><div id="35729322" class="c"><input type="checkbox" id="c-35729322" checked=""/><div class="controls bullet"><span class="by">a2800276</span><span>|</span><a href="#35728447">root</a><span>|</span><a href="#35728759">parent</a><span>|</span><a href="#35729324">next</a><span>|</span><label class="collapse" for="c-35729322">[-]</label><label class="expand" for="c-35729322">[1 more]</label></div><br/><div class="children"><div class="content">You&#x27;d think they could have just left that question out of their FAQ and licensed it with a &quot;free-as-in-beer&quot; click-through license.</div><br/></div></div><div id="35729324" class="c"><input type="checkbox" id="c-35729324" checked=""/><div class="controls bullet"><span class="by">nerdponx</span><span>|</span><a href="#35728447">root</a><span>|</span><a href="#35728759">parent</a><span>|</span><a href="#35729322">prev</a><span>|</span><a href="#35730155">next</a><span>|</span><label class="collapse" for="c-35729324">[-]</label><label class="expand" for="c-35729324">[1 more]</label></div><br/><div class="children"><div class="content">Probably. They were hoping that the less-informed (like me) would see &quot;The Datomic binaries are being released under the Apache 2.0 license&quot; and think &quot;Datomic is relicensed under Apache 2.0&quot;.</div><br/></div></div><div id="35730155" class="c"><input type="checkbox" id="c-35730155" checked=""/><div class="controls bullet"><span class="by">sneak</span><span>|</span><a href="#35728447">root</a><span>|</span><a href="#35728759">parent</a><span>|</span><a href="#35729324">prev</a><span>|</span><a href="#35730199">next</a><span>|</span><label class="collapse" for="c-35730155">[-]</label><label class="expand" for="c-35730155">[2 more]</label></div><br/><div class="children"><div class="content">It worked for Docker Desktop and BSC.<p>The products even have github repos!  There&#x27;s just no source in them.<p>It&#x27;s open source cosplay.</div><br/><div id="35730347" class="c"><input type="checkbox" id="c-35730347" checked=""/><div class="controls bullet"><span class="by">unionpivo</span><span>|</span><a href="#35728447">root</a><span>|</span><a href="#35730155">parent</a><span>|</span><a href="#35730199">next</a><span>|</span><label class="collapse" for="c-35730347">[-]</label><label class="expand" for="c-35730347">[1 more]</label></div><br/><div class="children"><div class="content">&gt; It&#x27;s open source cosplay.<p>I am stilling that phrase.  It&#x27;s perfect.</div><br/></div></div></div></div></div></div><div id="35730199" class="c"><input type="checkbox" id="c-35730199" checked=""/><div class="controls bullet"><span class="by">charesjrdan</span><span>|</span><a href="#35728447">parent</a><span>|</span><a href="#35728759">prev</a><span>|</span><a href="#35729311">next</a><span>|</span><label class="collapse" for="c-35730199">[-]</label><label class="expand" for="c-35730199">[1 more]</label></div><br/><div class="children"><div class="content">There are also similar datalog immutable databases with fully open source codebases out there too like <a href="https:&#x2F;&#x2F;www.xtdb.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.xtdb.com&#x2F;</a> or <a href="https:&#x2F;&#x2F;datahike.io&#x2F;" rel="nofollow">https:&#x2F;&#x2F;datahike.io&#x2F;</a></div><br/></div></div><div id="35729311" class="c"><input type="checkbox" id="c-35729311" checked=""/><div class="controls bullet"><span class="by">nerdponx</span><span>|</span><a href="#35728447">parent</a><span>|</span><a href="#35730199">prev</a><span>|</span><a href="#35729587">next</a><span>|</span><label class="collapse" for="c-35729311">[-]</label><label class="expand" for="c-35729311">[5 more]</label></div><br/><div class="children"><div class="content">I didn&#x27;t realize it was possible to release binaries under a different license from the source code that generated them. In this case, is the &quot;source code&quot; just the physical machine code or bytecode in the binary?</div><br/><div id="35730751" class="c"><input type="checkbox" id="c-35730751" checked=""/><div class="controls bullet"><span class="by">remram</span><span>|</span><a href="#35728447">root</a><span>|</span><a href="#35729311">parent</a><span>|</span><a href="#35729670">next</a><span>|</span><label class="collapse" for="c-35730751">[-]</label><label class="expand" for="c-35730751">[2 more]</label></div><br/><div class="children"><div class="content">You can attach any license text to anything, but most open-source license make little sense when applied to binaries. Like in this case, the Apache 2 license doesn&#x27;t make distinction between the source and binary, referring to both as &quot;the Work&quot;:<p>&gt; You may reproduce and distribute copies of the Work or Derivative Works thereof in any medium, with or without modifications, and in Source or Object form, provided that (...)<p>Applying this only to their binaries directly contradicts what the license says.</div><br/><div id="35733373" class="c"><input type="checkbox" id="c-35733373" checked=""/><div class="controls bullet"><span class="by">squeaky-clean</span><span>|</span><a href="#35728447">root</a><span>|</span><a href="#35730751">parent</a><span>|</span><a href="#35729670">next</a><span>|</span><label class="collapse" for="c-35733373">[-]</label><label class="expand" for="c-35733373">[1 more]</label></div><br/><div class="children"><div class="content">I suppose you could modify the binaries directly and redistribute and it would be legally allowed? Not like anyone is going to do that though.</div><br/></div></div></div></div><div id="35729670" class="c"><input type="checkbox" id="c-35729670" checked=""/><div class="controls bullet"><span class="by">jchw</span><span>|</span><a href="#35728447">root</a><span>|</span><a href="#35729311">parent</a><span>|</span><a href="#35730751">prev</a><span>|</span><a href="#35733120">next</a><span>|</span><label class="collapse" for="c-35729670">[-]</label><label class="expand" for="c-35729670">[1 more]</label></div><br/><div class="children"><div class="content">Disclaimer; I&#x27;m not a lawyer, nor do I play one on TV.<p>A copyright license is a copyright license: in theory, all a copyright license does is give you additional rights to use something. Using a license like Apache 2 for binaries is somewhat unconventional, but it&#x27;s totally possible. It (obviously) does not give you access to the source code, and I think this could never work with the GPL and other copyleft licenses because they use wording that implies you need to distrubute the source code, which you don&#x27;t have.<p>The copyright owner, of course, has ownership, so their obligations don&#x27;t really change by virtue of giving someone a copyright license. As far as I know, they could give someone a license to use something that is completely invalid and could never actually be used, and they can definitely do things like stop distributing under one license and switch to another. They own the source code, and they own the binaries (I believe the binaries would be considered a sort of derivative work in copyright terms, but again, not a lawyer.) So when they distribute a <i>binary</i> under a given license, it&#x27;s unrelated to any particular distribution of <i>source code</i>. The only time this gets complex is when the ownership of a asset is split among many disparate parties, at which point everyone is pretty much beholden to the copyright licenses; like open source projects without CLAs. But if they own the source code entirely, they could, for example, distribute some source code under GPL, but then distribute modified binaries under a commercial license with a EULA, and not redistribute the modified source code, since it&#x27;s their code to license to others, not a license they are subjected to themselves.</div><br/></div></div><div id="35733120" class="c"><input type="checkbox" id="c-35733120" checked=""/><div class="controls bullet"><span class="by">TheCoelacanth</span><span>|</span><a href="#35728447">root</a><span>|</span><a href="#35729311">parent</a><span>|</span><a href="#35729670">prev</a><span>|</span><a href="#35729587">next</a><span>|</span><label class="collapse" for="c-35733120">[-]</label><label class="expand" for="c-35733120">[1 more]</label></div><br/><div class="children"><div class="content">If you think about it, that&#x27;s happening every time that you get a closed-source binary distributed to you. They&#x27;re giving you a license to the binary, but not to the source.<p>It&#x27;s certainly weird for the binary license to be Apache, rather than some proprietary EULA, though.</div><br/></div></div></div></div><div id="35729587" class="c"><input type="checkbox" id="c-35729587" checked=""/><div class="controls bullet"><span class="by">assbuttbuttass</span><span>|</span><a href="#35728447">parent</a><span>|</span><a href="#35729311">prev</a><span>|</span><a href="#35730255">next</a><span>|</span><label class="collapse" for="c-35729587">[-]</label><label class="expand" for="c-35729587">[5 more]</label></div><br/><div class="children"><div class="content">I am not a lawyer, but doesn&#x27;t the Apache license specifically grant the right to redistribute the source code?<p>&gt; You may reproduce and distribute copies of the Work or Derivative Works thereof in any medium, with or without modifications, and in Source or Object form</div><br/><div id="35729705" class="c"><input type="checkbox" id="c-35729705" checked=""/><div class="controls bullet"><span class="by">mbreese</span><span>|</span><a href="#35728447">root</a><span>|</span><a href="#35729587">parent</a><span>|</span><a href="#35730255">next</a><span>|</span><label class="collapse" for="c-35729705">[-]</label><label class="expand" for="c-35729705">[4 more]</label></div><br/><div class="children"><div class="content">But what if you never had the source form? You can’t redistribute what you never had…<p>This is actually an interesting question. But I can’t see how a binary only distribution would be in the spirit of the Apache license.</div><br/><div id="35730343" class="c"><input type="checkbox" id="c-35730343" checked=""/><div class="controls bullet"><span class="by">jrmg</span><span>|</span><a href="#35728447">root</a><span>|</span><a href="#35729705">parent</a><span>|</span><a href="#35729893">next</a><span>|</span><label class="collapse" for="c-35730343">[-]</label><label class="expand" for="c-35730343">[1 more]</label></div><br/><div class="children"><div class="content">It’s runs on a JVM, right? Presumably it could be decompiled and cleaned up (might be a massive task - but possible), and the reconstructed source would fall under the Apache license.<p>What a weird choice to make.</div><br/></div></div><div id="35729893" class="c"><input type="checkbox" id="c-35729893" checked=""/><div class="controls bullet"><span class="by">ilc</span><span>|</span><a href="#35728447">root</a><span>|</span><a href="#35729705">parent</a><span>|</span><a href="#35730343">prev</a><span>|</span><a href="#35730255">next</a><span>|</span><label class="collapse" for="c-35729893">[-]</label><label class="expand" for="c-35729893">[2 more]</label></div><br/><div class="children"><div class="content">It is the very reason the license exists.<p>It is in the spirit and the letter of the license to do binary only distribution.<p>Why do you think so many companies are pushing the Apache License 2.0 over the GPL?</div><br/><div id="35730617" class="c"><input type="checkbox" id="c-35730617" checked=""/><div class="controls bullet"><span class="by">mbreese</span><span>|</span><a href="#35728447">root</a><span>|</span><a href="#35729893">parent</a><span>|</span><a href="#35730255">next</a><span>|</span><label class="collapse" for="c-35730617">[-]</label><label class="expand" for="c-35730617">[1 more]</label></div><br/><div class="children"><div class="content">I thought the reason was the explicit patent language and lack of license virality.<p>The Apache license 2 is pretty clear that binary only distribution is allowed, but I think it’s also clear that the assumption is that source is available in some form. Otherwise, why would you care about derivative works?<p>As is, it would be possible to decompile the JVM code into <i>something</i> resembling source code and then distribute that with or without modification. Which just seems odd to me.</div><br/></div></div></div></div></div></div></div></div><div id="35730255" class="c"><input type="checkbox" id="c-35730255" checked=""/><div class="controls bullet"><span class="by">thomastjeffery</span><span>|</span><a href="#35728447">parent</a><span>|</span><a href="#35729587">prev</a><span>|</span><a href="#35729195">next</a><span>|</span><label class="collapse" for="c-35730255">[-]</label><label class="expand" for="c-35730255">[1 more]</label></div><br/><div class="children"><div class="content">They lead with, &quot;The Datomic binaries are being released under the Apache 2.0 license.&quot;<p>I can feel the internal open vs. closed source argument from here.</div><br/></div></div><div id="35729195" class="c"><input type="checkbox" id="c-35729195" checked=""/><div class="controls bullet"><span class="by">xpe</span><span>|</span><a href="#35728447">parent</a><span>|</span><a href="#35730255">prev</a><span>|</span><a href="#35729273">next</a><span>|</span><label class="collapse" for="c-35729195">[-]</label><label class="expand" for="c-35729195">[1 more]</label></div><br/><div class="children"><div class="content">Saying “no” also would provide a nice opportunity for Nubank to explain why.<p>To some, the answer is “open source” no matter the question. Hello wagging tail, meet dog.</div><br/></div></div><div id="35729273" class="c"><input type="checkbox" id="c-35729273" checked=""/><div class="controls bullet"><span class="by">MrGilbert</span><span>|</span><a href="#35728447">parent</a><span>|</span><a href="#35729195">prev</a><span>|</span><a href="#35733526">next</a><span>|</span><label class="collapse" for="c-35729273">[-]</label><label class="expand" for="c-35729273">[10 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not sure, but I think from a marketing perspective, you do not want to write &quot;No&quot; anywhere. I might be wrong, and I&#x27;d love if someone with knowledge in this area could answer. It&#x27;s something I recall from the back of my mind...</div><br/><div id="35729474" class="c"><input type="checkbox" id="c-35729474" checked=""/><div class="controls bullet"><span class="by">JoshTriplett</span><span>|</span><a href="#35728447">root</a><span>|</span><a href="#35729273">parent</a><span>|</span><a href="#35729346">next</a><span>|</span><label class="collapse" for="c-35729474">[-]</label><label class="expand" for="c-35729474">[8 more]</label></div><br/><div class="children"><div class="content">Dishonesty and subterfuge are <i>bad marketing tactics</i>.</div><br/><div id="35729851" class="c"><input type="checkbox" id="c-35729851" checked=""/><div class="controls bullet"><span class="by">switchbak</span><span>|</span><a href="#35728447">root</a><span>|</span><a href="#35729474">parent</a><span>|</span><a href="#35730011">next</a><span>|</span><label class="collapse" for="c-35729851">[-]</label><label class="expand" for="c-35729851">[1 more]</label></div><br/><div class="children"><div class="content">Marketing to developers is also decidedly different than for non devs. We&#x27;ve been baited and switched, and screwed over a million times (thanks Google). It takes a lot of trust building to get me to trust any organization.<p>I especially don&#x27;t trust free shit if I don&#x27;t have access and control of the future of the code. Even then it&#x27;s not a sure thing.</div><br/></div></div><div id="35730011" class="c"><input type="checkbox" id="c-35730011" checked=""/><div class="controls bullet"><span class="by">newswasboring</span><span>|</span><a href="#35728447">root</a><span>|</span><a href="#35729474">parent</a><span>|</span><a href="#35729851">prev</a><span>|</span><a href="#35729346">next</a><span>|</span><label class="collapse" for="c-35730011">[-]</label><label class="expand" for="c-35730011">[6 more]</label></div><br/><div class="children"><div class="content">Is it though? Seems to me that most marketing today is subterfuge.</div><br/><div id="35730292" class="c"><input type="checkbox" id="c-35730292" checked=""/><div class="controls bullet"><span class="by">thomastjeffery</span><span>|</span><a href="#35728447">root</a><span>|</span><a href="#35730011">parent</a><span>|</span><a href="#35729346">next</a><span>|</span><label class="collapse" for="c-35730292">[-]</label><label class="expand" for="c-35730292">[5 more]</label></div><br/><div class="children"><div class="content">Is most marketing good? I don&#x27;t think so.</div><br/><div id="35734035" class="c"><input type="checkbox" id="c-35734035" checked=""/><div class="controls bullet"><span class="by">newswasboring</span><span>|</span><a href="#35728447">root</a><span>|</span><a href="#35730292">parent</a><span>|</span><a href="#35729346">next</a><span>|</span><label class="collapse" for="c-35734035">[-]</label><label class="expand" for="c-35734035">[4 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t know what you are calling &quot;good&quot;. That is a super loaded word. I would say it is effective though. The baseline evidence for that is how much money gets spent in that industry, I guess.</div><br/><div id="35735333" class="c"><input type="checkbox" id="c-35735333" checked=""/><div class="controls bullet"><span class="by">JoshTriplett</span><span>|</span><a href="#35728447">root</a><span>|</span><a href="#35734035">parent</a><span>|</span><a href="#35734063">next</a><span>|</span><label class="collapse" for="c-35735333">[-]</label><label class="expand" for="c-35735333">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I would say it is effective though.<p>Really depends on your metrics. Very little of it builds long-term trust that didn&#x27;t already exist. Much of it abuses long-term trust.<p>See the discussion on <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=35590734" rel="nofollow">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=35590734</a></div><br/></div></div><div id="35734063" class="c"><input type="checkbox" id="c-35734063" checked=""/><div class="controls bullet"><span class="by">thomastjeffery</span><span>|</span><a href="#35728447">root</a><span>|</span><a href="#35734035">parent</a><span>|</span><a href="#35735333">prev</a><span>|</span><a href="#35729346">next</a><span>|</span><label class="collapse" for="c-35734063">[-]</label><label class="expand" for="c-35734063">[2 more]</label></div><br/><div class="children"><div class="content">&gt; The baseline evidence for that is how much money gets spent in that industry, I guess.<p>I can&#x27;t imagine a clearer example of circular reasoning.<p>I can lift exactly as much weight as I decide to put on the barbell.</div><br/><div id="35734339" class="c"><input type="checkbox" id="c-35734339" checked=""/><div class="controls bullet"><span class="by">newswasboring</span><span>|</span><a href="#35728447">root</a><span>|</span><a href="#35734063">parent</a><span>|</span><a href="#35729346">next</a><span>|</span><label class="collapse" for="c-35734339">[-]</label><label class="expand" for="c-35734339">[1 more]</label></div><br/><div class="children"><div class="content">While I see your point, please note people actually spending money don&#x27;t just look at how much money is in the industry. They have internal metrics and can track performance of individual marketing campaigns. I called it a baseline argument because I&#x27;m not a marketing expert so this it the only real KPI __I__ understand.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="35729346" class="c"><input type="checkbox" id="c-35729346" checked=""/><div class="controls bullet"><span class="by">Timwi</span><span>|</span><a href="#35728447">root</a><span>|</span><a href="#35729273">parent</a><span>|</span><a href="#35729474">prev</a><span>|</span><a href="#35733526">next</a><span>|</span><label class="collapse" for="c-35729346">[-]</label><label class="expand" for="c-35729346">[1 more]</label></div><br/><div class="children"><div class="content">Being a marketing tactic makes it more scummy, not less.</div><br/></div></div></div></div><div id="35733526" class="c"><input type="checkbox" id="c-35733526" checked=""/><div class="controls bullet"><span class="by">daveguy</span><span>|</span><a href="#35728447">parent</a><span>|</span><a href="#35729273">prev</a><span>|</span><a href="#35731398">next</a><span>|</span><label class="collapse" for="c-35733526">[-]</label><label class="expand" for="c-35733526">[1 more]</label></div><br/><div class="children"><div class="content">Given the recent bait and switch moves by many companies from free-for-everyone open source to free-for-users-only (eg apache to agpl), it seems like doing this with &quot;binaries only&quot; practically admits to a bait and switch plan.</div><br/></div></div><div id="35731398" class="c"><input type="checkbox" id="c-35731398" checked=""/><div class="controls bullet"><span class="by">erichocean</span><span>|</span><a href="#35728447">parent</a><span>|</span><a href="#35733526">prev</a><span>|</span><a href="#35730643">next</a><span>|</span><label class="collapse" for="c-35731398">[-]</label><label class="expand" for="c-35731398">[6 more]</label></div><br/><div class="children"><div class="content">Eh, it&#x27;s Java bytecode and it&#x27;s Apache 2. So you can patch Datomic and extend it without breaking the license.</div><br/><div id="35734655" class="c"><input type="checkbox" id="c-35734655" checked=""/><div class="controls bullet"><span class="by">ithrow</span><span>|</span><a href="#35728447">root</a><span>|</span><a href="#35731398">parent</a><span>|</span><a href="#35733087">next</a><span>|</span><label class="collapse" for="c-35734655">[-]</label><label class="expand" for="c-35734655">[2 more]</label></div><br/><div class="children"><div class="content">I wonder if public benchmarks are now allowed with the binaries.</div><br/><div id="35738329" class="c"><input type="checkbox" id="c-35738329" checked=""/><div class="controls bullet"><span class="by">KingMob</span><span>|</span><a href="#35728447">root</a><span>|</span><a href="#35734655">parent</a><span>|</span><a href="#35733087">next</a><span>|</span><label class="collapse" for="c-35738329">[-]</label><label class="expand" for="c-35738329">[1 more]</label></div><br/><div class="children"><div class="content">Somebody asked about the Dewitt Clause in the Slack, and got crickets.</div><br/></div></div></div></div><div id="35733087" class="c"><input type="checkbox" id="c-35733087" checked=""/><div class="controls bullet"><span class="by">slim</span><span>|</span><a href="#35728447">root</a><span>|</span><a href="#35731398">parent</a><span>|</span><a href="#35734655">prev</a><span>|</span><a href="#35730643">next</a><span>|</span><label class="collapse" for="c-35733087">[-]</label><label class="expand" for="c-35733087">[3 more]</label></div><br/><div class="children"><div class="content">You can also probably decompile it</div><br/><div id="35735725" class="c"><input type="checkbox" id="c-35735725" checked=""/><div class="controls bullet"><span class="by">JBiserkov</span><span>|</span><a href="#35728447">root</a><span>|</span><a href="#35733087">parent</a><span>|</span><a href="#35730643">next</a><span>|</span><label class="collapse" for="c-35735725">[-]</label><label class="expand" for="c-35735725">[2 more]</label></div><br/><div class="children"><div class="content">Decompile it to Java - yes, decompile it to Clojure - highly doubtful.</div><br/><div id="35736362" class="c"><input type="checkbox" id="c-35736362" checked=""/><div class="controls bullet"><span class="by">erichocean</span><span>|</span><a href="#35728447">root</a><span>|</span><a href="#35735725">parent</a><span>|</span><a href="#35730643">next</a><span>|</span><label class="collapse" for="c-35736362">[-]</label><label class="expand" for="c-35736362">[1 more]</label></div><br/><div class="children"><div class="content">There are projects in Clojure to decompile Clojure-derived Java bytecode to Clojure. It works pretty well overall since Clojure&#x27;s compiler isn&#x27;t too fancy.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="35730643" class="c"><input type="checkbox" id="c-35730643" checked=""/><div class="controls bullet"><span class="by">thayne</span><span>|</span><a href="#35728447">prev</a><span>|</span><a href="#35728624">next</a><span>|</span><label class="collapse" for="c-35730643">[-]</label><label class="expand" for="c-35730643">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Is it Open Source?<p>&gt; Datomic binaries are provided under the Apache 2 license which grants all the same rights to a work delivered in object form.<p>That doesn&#x27;t answer the question at all. I assume the answer is no, because otherwise they would just say yes, and have a link to the source code somewhere. But that is such a weird, and possibly duplicitous way to answer.</div><br/></div></div><div id="35728624" class="c"><input type="checkbox" id="c-35728624" checked=""/><div class="controls bullet"><span class="by">brianwawok</span><span>|</span><a href="#35730643">prev</a><span>|</span><a href="#35737706">next</a><span>|</span><label class="collapse" for="c-35728624">[-]</label><label class="expand" for="c-35728624">[3 more]</label></div><br/><div class="children"><div class="content">Datomic LOOKED cool 10-12 years when it first came out. But they started from day 1 with a price, so most people, me included, just passed over it.<p>I think they went way too fast to commercial, and needed to go a freemium model to actually get market share.</div><br/><div id="35729882" class="c"><input type="checkbox" id="c-35729882" checked=""/><div class="controls bullet"><span class="by">xpe</span><span>|</span><a href="#35728624">parent</a><span>|</span><a href="#35737706">next</a><span>|</span><label class="collapse" for="c-35729882">[-]</label><label class="expand" for="c-35729882">[2 more]</label></div><br/><div class="children"><div class="content">This doesn’t quite reflect the history. Datomic had various free&#x2F;trial options. They evolved a little bit. Someone who watched the pricing and licenses very closely probably could do a better timeline than I could.</div><br/><div id="35729973" class="c"><input type="checkbox" id="c-35729973" checked=""/><div class="controls bullet"><span class="by">brianwawok</span><span>|</span><a href="#35728624">root</a><span>|</span><a href="#35729882">parent</a><span>|</span><a href="#35737706">next</a><span>|</span><label class="collapse" for="c-35729973">[-]</label><label class="expand" for="c-35729973">[1 more]</label></div><br/><div class="children"><div class="content">Right but it was always very clear “you can have it in dev for free, but prod is $$$$$”. It was not something like “use it free in prod as much as you want, or pay us for support”<p>I had a few projects it would have been cool on, but I just did postgres instead and won in the long run.</div><br/></div></div></div></div></div></div><div id="35737706" class="c"><input type="checkbox" id="c-35737706" checked=""/><div class="controls bullet"><span class="by">praptak</span><span>|</span><a href="#35728624">prev</a><span>|</span><a href="#35731202">next</a><span>|</span><label class="collapse" for="c-35737706">[-]</label><label class="expand" for="c-35737706">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s free as in beer not as in freedom and the way they formulated that part made me wary of their intentions. (I&#x27;m still a huge fan of Clojure)</div><br/></div></div><div id="35731202" class="c"><input type="checkbox" id="c-35731202" checked=""/><div class="controls bullet"><span class="by">CrimsonCape</span><span>|</span><a href="#35737706">prev</a><span>|</span><a href="#35728667">next</a><span>|</span><label class="collapse" for="c-35731202">[-]</label><label class="expand" for="c-35731202">[1 more]</label></div><br/><div class="children"><div class="content">Since the conversation seems to be focusing on the Apache 2.0 license, what would you do? Clearly there isn&#x27;t a lot of precedent for &quot;closed-source, free-to-use&quot; licenses.<p>In this case Datomic maintains development control over their product and &quot;source of truth&quot; is still themselves, and the implicit assumption is that you enthusiastically use their product for free with no strings attached because you respect them as the source of truth.</div><br/></div></div><div id="35728667" class="c"><input type="checkbox" id="c-35728667" checked=""/><div class="controls bullet"><span class="by">fulafel</span><span>|</span><a href="#35731202">prev</a><span>|</span><a href="#35737008">next</a><span>|</span><label class="collapse" for="c-35728667">[-]</label><label class="expand" for="c-35728667">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Datomic Cloud will be available on AWS Marketplace with no additional software cost.<p>This is cool as well. It&#x27;s a CloudFormation template based product you can deploy from AWS Marketplace.</div><br/></div></div><div id="35737008" class="c"><input type="checkbox" id="c-35737008" checked=""/><div class="controls bullet"><span class="by">r00tbeer</span><span>|</span><a href="#35728667">prev</a><span>|</span><a href="#35734532">next</a><span>|</span><label class="collapse" for="c-35737008">[-]</label><label class="expand" for="c-35737008">[1 more]</label></div><br/><div class="children"><div class="content">Hasn&#x27;t everyone learned that &quot;store all the history of changes&quot; is an anti-feature?  The Legal departments generally do not care for this (its just more data to make sure you deleted).  And it makes schema migrations more painful as not only do you have to migrate the data you have now, but all of your historical data too!  If you add a new property do you backfill it in your old data (to keep your code working)?   Or start special casing old version in your code?  Neither is pretty.<p>If you want historical audit trails, make them intentional and subject to the same rules and patterns as your regular data.</div><br/></div></div><div id="35734532" class="c"><input type="checkbox" id="c-35734532" checked=""/><div class="controls bullet"><span class="by">avodonosov</span><span>|</span><a href="#35737008">prev</a><span>|</span><a href="#35728072">next</a><span>|</span><label class="collapse" for="c-35734532">[-]</label><label class="expand" for="c-35734532">[1 more]</label></div><br/><div class="children"><div class="content">If you work with Datomic, my little helper functions may be useful: <a href="https:&#x2F;&#x2F;github.com&#x2F;avodonosov&#x2F;datomic-helpers">https:&#x2F;&#x2F;github.com&#x2F;avodonosov&#x2F;datomic-helpers</a></div><br/></div></div><div id="35728072" class="c"><input type="checkbox" id="c-35728072" checked=""/><div class="controls bullet"><span class="by">endisneigh</span><span>|</span><a href="#35734532">prev</a><span>|</span><a href="#35729301">next</a><span>|</span><label class="collapse" for="c-35728072">[-]</label><label class="expand" for="c-35728072">[20 more]</label></div><br/><div class="children"><div class="content">The price is certainly right, but has anyone used this in production? What was your experience like?</div><br/><div id="35728905" class="c"><input type="checkbox" id="c-35728905" checked=""/><div class="controls bullet"><span class="by">Naomarik</span><span>|</span><a href="#35728072">parent</a><span>|</span><a href="#35729191">next</a><span>|</span><label class="collapse" for="c-35728905">[-]</label><label class="expand" for="c-35728905">[2 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;sayartii.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;sayartii.com&#x2F;</a> is using Datomic stored on postgres that I have set up on Linode. That was all done back in 2020 and haven&#x27;t needed to touch it. Site now gets ~180M monthly reqs and I store an enormous amount of analytic data on Datomic (was supposed to be temporary) so users can see impressions&#x2F;clicks per day for each advertisement. I&#x27;m surprised it&#x27;s still working.<p>Development experience is extremely nice using clojure. I&#x27;ve used it for two other projects and has been very reliable. My latest project didn&#x27;t really need any of its features compared to a traditional rdbms but I opted for it anyways so I don&#x27;t have to write sql.</div><br/><div id="35734050" class="c"><input type="checkbox" id="c-35734050" checked=""/><div class="controls bullet"><span class="by">mardifoufs</span><span>|</span><a href="#35728072">root</a><span>|</span><a href="#35728905">parent</a><span>|</span><a href="#35729191">next</a><span>|</span><label class="collapse" for="c-35734050">[-]</label><label class="expand" for="c-35734050">[1 more]</label></div><br/><div class="children"><div class="content">Was it expensive to run? Now that it is free, I guess that&#x27;s less of a concern!</div><br/></div></div></div></div><div id="35729191" class="c"><input type="checkbox" id="c-35729191" checked=""/><div class="controls bullet"><span class="by">ddellacosta</span><span>|</span><a href="#35728072">parent</a><span>|</span><a href="#35728905">prev</a><span>|</span><a href="#35728108">next</a><span>|</span><label class="collapse" for="c-35729191">[-]</label><label class="expand" for="c-35729191">[3 more]</label></div><br/><div class="children"><div class="content">My personal experience was using Datomic backed by DynamoDB, at the second Clojure company I worked at. In particular I remember feeling like it was hard to anticipate and understand its performance characteristics in particular, and how indices can be leveraged effectively. Maybe if we had chosen Postgres as a backing store that would have been better? I dunno.<p>Using it was pretty nice at the scale of a small startup with a motivated team, but scaling it up organizationally-speaking was a challenge due to Datalog&#x27;s relative idiosyncrasy and poor tooling around the database itself. This was compounded by the parallel challenge of keeping a Clojure codebase from going spaghetti-shaped, which happens in that language when teams scale without a lot of &quot;convention and discipline&quot;--it may be easier to manage otherwise. All of that said, this was years ago so maybe things have changed.<p>At this point I&#x27;d choose either PostgreSQL or SQLite for any project I&#x27;m getting started with, as they are both rock-solid, full-featured projects with great tooling and widespread adoption. If things need to scale a basic PostgreSQL setup can usually handle a lot until you need to move to e.g. RDS or whatever, and I&#x27;m probably biased but I think SQL is not really that much worse than Datalog for common use-cases. Datalog is nice though, don&#x27;t get me wrong.<p>EDIT: one point I forgot to make: the killer feature of being an immutable data store that lets you go back in time is in fact super cool, and it&#x27;s probably exactly what some organizations need, but it is also costly, and I suspect the number of organizations who really need that functionality is pretty small. The place I was at certainly didn&#x27;t, which is probably part of the reason for the friction I experienced.</div><br/><div id="35729541" class="c"><input type="checkbox" id="c-35729541" checked=""/><div class="controls bullet"><span class="by">xmlblog</span><span>|</span><a href="#35728072">root</a><span>|</span><a href="#35729191">parent</a><span>|</span><a href="#35732018">next</a><span>|</span><label class="collapse" for="c-35729541">[-]</label><label class="expand" for="c-35729541">[1 more]</label></div><br/><div class="children"><div class="content">Newer releases have improved significantly in this area. It&#x27;s now possible to understand perf implications with the addition of io-stats[1] and query-stats[2].<p>[1] <a href="https:&#x2F;&#x2F;docs.datomic.com&#x2F;pro&#x2F;api&#x2F;io-stats.html" rel="nofollow">https:&#x2F;&#x2F;docs.datomic.com&#x2F;pro&#x2F;api&#x2F;io-stats.html</a>
[2] <a href="https:&#x2F;&#x2F;docs.datomic.com&#x2F;pro&#x2F;api&#x2F;query-stats.html" rel="nofollow">https:&#x2F;&#x2F;docs.datomic.com&#x2F;pro&#x2F;api&#x2F;query-stats.html</a></div><br/></div></div><div id="35732018" class="c"><input type="checkbox" id="c-35732018" checked=""/><div class="controls bullet"><span class="by">hlship</span><span>|</span><a href="#35728072">root</a><span>|</span><a href="#35729191">parent</a><span>|</span><a href="#35729541">prev</a><span>|</span><a href="#35728108">next</a><span>|</span><label class="collapse" for="c-35732018">[-]</label><label class="expand" for="c-35732018">[1 more]</label></div><br/><div class="children"><div class="content">Although it is true that &quot;time traveling&quot; queries are relatively rare for production needs, the basic architecture supports things that many applications really need:<p>- It is possible to make queries against the database PLUS additional data not yet added, that is, &quot;what if&quot; queries<p>- Having a stable database-as-value is really useful for paginating results; you don&#x27;t have to worry about new values being inserted into your results during execution, the way you do with traditional databases no longer how long (minutes, hours, even days) you take to traverse the data<p>- Reified transactions makes it possible to store extra data with each transaction, trivially, such as who made the update and why<p>- Immutability is amazing for caching at all layers</div><br/></div></div></div></div><div id="35728108" class="c"><input type="checkbox" id="c-35728108" checked=""/><div class="controls bullet"><span class="by">jackrusher</span><span>|</span><a href="#35728072">parent</a><span>|</span><a href="#35729191">prev</a><span>|</span><a href="#35728097">next</a><span>|</span><label class="collapse" for="c-35728108">[-]</label><label class="expand" for="c-35728108">[7 more]</label></div><br/><div class="children"><div class="content">Yes, it&#x27;s used by many companies in production. There&#x27;s a partial list here:<p><a href="https:&#x2F;&#x2F;www.datomic.com&#x2F;customers.html" rel="nofollow">https:&#x2F;&#x2F;www.datomic.com&#x2F;customers.html</a></div><br/><div id="35728234" class="c"><input type="checkbox" id="c-35728234" checked=""/><div class="controls bullet"><span class="by">Timshel</span><span>|</span><a href="#35728072">root</a><span>|</span><a href="#35728108">parent</a><span>|</span><a href="#35728162">next</a><span>|</span><label class="collapse" for="c-35728234">[-]</label><label class="expand" for="c-35728234">[1 more]</label></div><br/><div class="children"><div class="content">Not a good look when four out of the six companies behind the &quot;customer stories&quot; do not exist anymore (or at least their website is dead ...)</div><br/></div></div><div id="35728162" class="c"><input type="checkbox" id="c-35728162" checked=""/><div class="controls bullet"><span class="by">endisneigh</span><span>|</span><a href="#35728072">root</a><span>|</span><a href="#35728108">parent</a><span>|</span><a href="#35728234">prev</a><span>|</span><a href="#35728097">next</a><span>|</span><label class="collapse" for="c-35728162">[-]</label><label class="expand" for="c-35728162">[5 more]</label></div><br/><div class="children"><div class="content">to be honest the testimonials are terrible.<p>&gt; “Datomic added to DynamoDB was the only option that didn’t force us to sacrifice features or add the expense of developer time. Without it, we would have had to push back a lot more, as the features would have been too difficult.”<p>(<a href="https:&#x2F;&#x2F;www.datomic.com&#x2F;the-brigades-story.html" rel="nofollow">https:&#x2F;&#x2F;www.datomic.com&#x2F;the-brigades-story.html</a>)<p>like, what? effectively useless information.<p>some of the other testimonials mention keeping revision history, which is neat, but why Datomic vs. others? it&#x27;s pretty easy to keep revision history with other databases too.</div><br/><div id="35728577" class="c"><input type="checkbox" id="c-35728577" checked=""/><div class="controls bullet"><span class="by">simtel20</span><span>|</span><a href="#35728072">root</a><span>|</span><a href="#35728162">parent</a><span>|</span><a href="#35728097">next</a><span>|</span><label class="collapse" for="c-35728577">[-]</label><label class="expand" for="c-35728577">[4 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not simply revision history, it&#x27;s a complete record of everything with time, without re-architecting your data or app. IIRC datomic structures your data so that all transactions and state have a time dimension so you can go forward or back in time trivially (no special query, no temporal sql, etc.)</div><br/><div id="35728978" class="c"><input type="checkbox" id="c-35728978" checked=""/><div class="controls bullet"><span class="by">motogpjimbo</span><span>|</span><a href="#35728072">root</a><span>|</span><a href="#35728577">parent</a><span>|</span><a href="#35728097">next</a><span>|</span><label class="collapse" for="c-35728978">[-]</label><label class="expand" for="c-35728978">[3 more]</label></div><br/><div class="children"><div class="content">What happens when you have a legal obligation to delete or anonymise data for some reason?</div><br/><div id="35729034" class="c"><input type="checkbox" id="c-35729034" checked=""/><div class="controls bullet"><span class="by">fulafel</span><span>|</span><a href="#35728072">root</a><span>|</span><a href="#35728978">parent</a><span>|</span><a href="#35728097">next</a><span>|</span><label class="collapse" for="c-35729034">[-]</label><label class="expand" for="c-35729034">[2 more]</label></div><br/><div class="children"><div class="content">There&#x27;s <a href="https:&#x2F;&#x2F;docs.datomic.com&#x2F;pro&#x2F;reference&#x2F;excision.html" rel="nofollow">https:&#x2F;&#x2F;docs.datomic.com&#x2F;pro&#x2F;reference&#x2F;excision.html</a> - but like in other data models you also might choose to not store sensitive infromation like PII in cleartext in the main DB at all. At least in earlier versions excision wasn&#x27;t supported in the Datomic Cloud version.</div><br/><div id="35729223" class="c"><input type="checkbox" id="c-35729223" checked=""/><div class="controls bullet"><span class="by">lebski88</span><span>|</span><a href="#35728072">root</a><span>|</span><a href="#35729034">parent</a><span>|</span><a href="#35728097">next</a><span>|</span><label class="collapse" for="c-35729223">[-]</label><label class="expand" for="c-35729223">[1 more]</label></div><br/><div class="children"><div class="content">Excision still isn&#x27;t supported for cloud, it is &#x2F; was on their plan but there was never any movement in that direction.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="35728097" class="c"><input type="checkbox" id="c-35728097" checked=""/><div class="controls bullet"><span class="by">adamfeldman</span><span>|</span><a href="#35728072">parent</a><span>|</span><a href="#35728108">prev</a><span>|</span><a href="#35728525">next</a><span>|</span><label class="collapse" for="c-35728097">[-]</label><label class="expand" for="c-35728097">[4 more]</label></div><br/><div class="children"><div class="content">One example: <a href="https:&#x2F;&#x2F;www.datomic.com&#x2F;nubanks-story.html" rel="nofollow">https:&#x2F;&#x2F;www.datomic.com&#x2F;nubanks-story.html</a></div><br/><div id="35729497" class="c"><input type="checkbox" id="c-35729497" checked=""/><div class="controls bullet"><span class="by">dagw</span><span>|</span><a href="#35728072">root</a><span>|</span><a href="#35728097">parent</a><span>|</span><a href="#35728525">next</a><span>|</span><label class="collapse" for="c-35729497">[-]</label><label class="expand" for="c-35729497">[3 more]</label></div><br/><div class="children"><div class="content">Worth keeping in mind that Nubank owns the company that makes Datomic, so that might colour their opinion. On the flip side they probably wouldn&#x27;t have bought the company if they thought their product was crap.</div><br/><div id="35729736" class="c"><input type="checkbox" id="c-35729736" checked=""/><div class="controls bullet"><span class="by">Scarbutt</span><span>|</span><a href="#35728072">root</a><span>|</span><a href="#35729497">parent</a><span>|</span><a href="#35728525">next</a><span>|</span><label class="collapse" for="c-35729736">[-]</label><label class="expand" for="c-35729736">[2 more]</label></div><br/><div class="children"><div class="content">My guess is they bought the company because they were already too invested in Datomic. So it was kind of forced to minimize risk.</div><br/><div id="35733988" class="c"><input type="checkbox" id="c-35733988" checked=""/><div class="controls bullet"><span class="by">hoffs</span><span>|</span><a href="#35728072">root</a><span>|</span><a href="#35729736">parent</a><span>|</span><a href="#35728525">next</a><span>|</span><label class="collapse" for="c-35733988">[-]</label><label class="expand" for="c-35733988">[1 more]</label></div><br/><div class="children"><div class="content">Also helps them to tune it for their use cases where other users have to rely on closed sourceness of it</div><br/></div></div></div></div></div></div></div></div><div id="35728525" class="c"><input type="checkbox" id="c-35728525" checked=""/><div class="controls bullet"><span class="by">raybb</span><span>|</span><a href="#35728072">parent</a><span>|</span><a href="#35728097">prev</a><span>|</span><a href="#35728636">next</a><span>|</span><label class="collapse" for="c-35728525">[-]</label><label class="expand" for="c-35728525">[1 more]</label></div><br/><div class="children"><div class="content">I haven&#x27;t used it but I guess Nubank uses it.
<a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=qIdrT6r77gA">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=qIdrT6r77gA</a></div><br/></div></div><div id="35728636" class="c"><input type="checkbox" id="c-35728636" checked=""/><div class="controls bullet"><span class="by">xmlblog</span><span>|</span><a href="#35728072">parent</a><span>|</span><a href="#35728525">prev</a><span>|</span><a href="#35729301">next</a><span>|</span><label class="collapse" for="c-35728636">[-]</label><label class="expand" for="c-35728636">[2 more]</label></div><br/><div class="children"><div class="content">Netflix, Facebook (Meta), Nubank, and many others.</div><br/><div id="35736136" class="c"><input type="checkbox" id="c-35736136" checked=""/><div class="controls bullet"><span class="by">1letterunixname</span><span>|</span><a href="#35728072">root</a><span>|</span><a href="#35728636">parent</a><span>|</span><a href="#35729301">next</a><span>|</span><label class="collapse" for="c-35736136">[-]</label><label class="expand" for="c-35736136">[1 more]</label></div><br/><div class="children"><div class="content">I couldn&#x27;t find a single reference in any codebase to &quot;[^te]datomic&quot; at one of those MAANGs mentioned.</div><br/></div></div></div></div></div></div><div id="35729301" class="c"><input type="checkbox" id="c-35729301" checked=""/><div class="controls bullet"><span class="by">AzzieElbab</span><span>|</span><a href="#35728072">prev</a><span>|</span><a href="#35733716">next</a><span>|</span><label class="collapse" for="c-35729301">[-]</label><label class="expand" for="c-35729301">[1 more]</label></div><br/><div class="children"><div class="content">Congratulations to Rich Hickey&#x27;s children!! I hope your college experience was excellent. Disclaimer: that is how Rich explained why Datomic stayed closed source.</div><br/></div></div><div id="35733716" class="c"><input type="checkbox" id="c-35733716" checked=""/><div class="controls bullet"><span class="by">LukeEF</span><span>|</span><a href="#35729301">prev</a><span>|</span><a href="#35730504">next</a><span>|</span><label class="collapse" for="c-35733716">[-]</label><label class="expand" for="c-35733716">[1 more]</label></div><br/><div class="children"><div class="content">There are already a few open-source alternatives that run datalog variant query languages. I&#x27;d point the curious towards TerminusDB [1] and TypeDB [2]. TerminusDB is implemented in prolog (and rust) so an alternative with datalog in the heart.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;terminusdb&#x2F;terminusdb">https:&#x2F;&#x2F;github.com&#x2F;terminusdb&#x2F;terminusdb</a>
[2] <a href="https:&#x2F;&#x2F;github.com&#x2F;vaticle&#x2F;typedb">https:&#x2F;&#x2F;github.com&#x2F;vaticle&#x2F;typedb</a></div><br/></div></div><div id="35730504" class="c"><input type="checkbox" id="c-35730504" checked=""/><div class="controls bullet"><span class="by">jcadam</span><span>|</span><a href="#35733716">prev</a><span>|</span><a href="#35728062">next</a><span>|</span><label class="collapse" for="c-35730504">[-]</label><label class="expand" for="c-35730504">[1 more]</label></div><br/><div class="children"><div class="content">The licensing was the biggest thing hurting Datomic adoption.  This is a smart (albeit late) move.</div><br/></div></div><div id="35728062" class="c"><input type="checkbox" id="c-35728062" checked=""/><div class="controls bullet"><span class="by">NickBusey</span><span>|</span><a href="#35730504">prev</a><span>|</span><a href="#35732571">next</a><span>|</span><label class="collapse" for="c-35728062">[-]</label><label class="expand" for="c-35728062">[25 more]</label></div><br/><div class="children"><div class="content">Free as in beer. Not free as in speech.<p>&gt; Is it Open Source?<p>Datomic binaries are provided under the Apache 2 license which grants all the same rights to a work delivered in object form.<p>Datomic will continue to be developed at Nubank, where it is a critical piece of our infrastructure.</div><br/><div id="35728538" class="c"><input type="checkbox" id="c-35728538" checked=""/><div class="controls bullet"><span class="by">montroser</span><span>|</span><a href="#35728062">parent</a><span>|</span><a href="#35728090">next</a><span>|</span><label class="collapse" for="c-35728538">[-]</label><label class="expand" for="c-35728538">[2 more]</label></div><br/><div class="children"><div class="content">So...no, it is not open source.  I wish they would just answer that in a straightforward way.<p>&quot;No, the source is not available, and the product will continue to be developed by us, internally.  However, binaries are provided...&quot;</div><br/><div id="35735386" class="c"><input type="checkbox" id="c-35735386" checked=""/><div class="controls bullet"><span class="by">wcerfgba</span><span>|</span><a href="#35728062">root</a><span>|</span><a href="#35728538">parent</a><span>|</span><a href="#35728090">next</a><span>|</span><label class="collapse" for="c-35735386">[-]</label><label class="expand" for="c-35735386">[1 more]</label></div><br/><div class="children"><div class="content">Yeah the answer in the page is a total meme. Kind of disappointing, since I like Datomic a piece of tech. :(</div><br/></div></div></div></div><div id="35728090" class="c"><input type="checkbox" id="c-35728090" checked=""/><div class="controls bullet"><span class="by">simonw</span><span>|</span><a href="#35728062">parent</a><span>|</span><a href="#35728538">prev</a><span>|</span><a href="#35728174">next</a><span>|</span><label class="collapse" for="c-35728090">[-]</label><label class="expand" for="c-35728090">[11 more]</label></div><br/><div class="children"><div class="content">I find that answer confusing. I don&#x27;t think I&#x27;ve ever seen binaries being licensed under Apache 2 without the relevant source code before.</div><br/><div id="35728951" class="c"><input type="checkbox" id="c-35728951" checked=""/><div class="controls bullet"><span class="by">chii</span><span>|</span><a href="#35728062">root</a><span>|</span><a href="#35728090">parent</a><span>|</span><a href="#35733090">next</a><span>|</span><label class="collapse" for="c-35728951">[-]</label><label class="expand" for="c-35728951">[3 more]</label></div><br/><div class="children"><div class="content">It gives the licensee the ability to distribute the binary, use or include it in their products in the same way as an open-source product. It just merely prevents modification without decompiling (which i assume is not easy given it&#x27;s clojure, not to mention obfuscation?). And presumably it makes it less likely someone would just produce a competing product if they should choose to re-monetize it?</div><br/><div id="35735626" class="c"><input type="checkbox" id="c-35735626" checked=""/><div class="controls bullet"><span class="by">sitkack</span><span>|</span><a href="#35728062">root</a><span>|</span><a href="#35728951">parent</a><span>|</span><a href="#35733090">next</a><span>|</span><label class="collapse" for="c-35735626">[-]</label><label class="expand" for="c-35735626">[2 more]</label></div><br/><div class="children"><div class="content">Why would it prevent modification or decompiling?</div><br/><div id="35737247" class="c"><input type="checkbox" id="c-35737247" checked=""/><div class="controls bullet"><span class="by">chii</span><span>|</span><a href="#35728062">root</a><span>|</span><a href="#35735626">parent</a><span>|</span><a href="#35733090">next</a><span>|</span><label class="collapse" for="c-35737247">[-]</label><label class="expand" for="c-35737247">[1 more]</label></div><br/><div class="children"><div class="content">Only due to difficulty, not by license.</div><br/></div></div></div></div></div></div><div id="35733090" class="c"><input type="checkbox" id="c-35733090" checked=""/><div class="controls bullet"><span class="by">ingenieroariel</span><span>|</span><a href="#35728062">root</a><span>|</span><a href="#35728090">parent</a><span>|</span><a href="#35728951">prev</a><span>|</span><a href="#35728115">next</a><span>|</span><label class="collapse" for="c-35733090">[-]</label><label class="expand" for="c-35733090">[1 more]</label></div><br/><div class="children"><div class="content">I saw Fabrice Bellard do it this year (MIT):  The CPU version is released as binary code under the MIT license. The GPU version is commercial software. Please contact fabrice at bellard dot org for the exact terms.<p><a href="https:&#x2F;&#x2F;bellard.org&#x2F;ts_server&#x2F;" rel="nofollow">https:&#x2F;&#x2F;bellard.org&#x2F;ts_server&#x2F;</a></div><br/></div></div><div id="35728115" class="c"><input type="checkbox" id="c-35728115" checked=""/><div class="controls bullet"><span class="by">a2800276</span><span>|</span><a href="#35728062">root</a><span>|</span><a href="#35728090">parent</a><span>|</span><a href="#35733090">prev</a><span>|</span><a href="#35728174">next</a><span>|</span><label class="collapse" for="c-35728115">[-]</label><label class="expand" for="c-35728115">[6 more]</label></div><br/><div class="children"><div class="content">Yeah, it&#x27;s a complete bullshit move. Mongoose OS (an embedded iot Plattform not the db) does something similar. It&#x27;s extremely weasely and doesn&#x27;t instill trust at all.</div><br/><div id="35729715" class="c"><input type="checkbox" id="c-35729715" checked=""/><div class="controls bullet"><span class="by">xpe</span><span>|</span><a href="#35728062">root</a><span>|</span><a href="#35728115">parent</a><span>|</span><a href="#35729278">next</a><span>|</span><label class="collapse" for="c-35729715">[-]</label><label class="expand" for="c-35729715">[1 more]</label></div><br/><div class="children"><div class="content">Trust is not the same for everyone. One model of trust is: A trusts B to do C.<p>Nubank is releasing the binary permissively. You might <i>want</i> more, but this is not a breach of trust.<p>Datomic has been around for more than 10 years, so there is ample data to base expectations.</div><br/></div></div></div></div></div></div><div id="35728174" class="c"><input type="checkbox" id="c-35728174" checked=""/><div class="controls bullet"><span class="by">mqus</span><span>|</span><a href="#35728062">parent</a><span>|</span><a href="#35728090">prev</a><span>|</span><a href="#35733774">next</a><span>|</span><label class="collapse" for="c-35728174">[-]</label><label class="expand" for="c-35728174">[9 more]</label></div><br/><div class="children"><div class="content">&gt; perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare Derivative Works of, publicly display, publicly perform, sublicense, and distribute the Work and such Derivative Works in Source or Object form.<p>Doesn&#x27;t this mean, that, as soon as I (somehow) get hold of the source code, I can distribute it as I want?</div><br/><div id="35728244" class="c"><input type="checkbox" id="c-35728244" checked=""/><div class="controls bullet"><span class="by">oh_sigh</span><span>|</span><a href="#35728062">root</a><span>|</span><a href="#35728174">parent</a><span>|</span><a href="#35733774">next</a><span>|</span><label class="collapse" for="c-35728244">[-]</label><label class="expand" for="c-35728244">[8 more]</label></div><br/><div class="children"><div class="content">Probably not, because the source is not a derivative. Having said that, if you decompile the binary I bet you could distribute that source.</div><br/><div id="35731814" class="c"><input type="checkbox" id="c-35731814" checked=""/><div class="controls bullet"><span class="by">hlship</span><span>|</span><a href="#35728062">root</a><span>|</span><a href="#35728244">parent</a><span>|</span><a href="#35728267">next</a><span>|</span><label class="collapse" for="c-35731814">[-]</label><label class="expand" for="c-35731814">[4 more]</label></div><br/><div class="children"><div class="content">That would be very ugly source, as Datomic is written in Clojure and AOT compiled to Java bytecode.  Due to the architecture of Clojure (especially, the use of macros) it is not exactly possible to work backwards from JVM bytecode to anything that looks like the original source code.  It&#x27;s not like Java where a clever decompiler can exploit output patterns generated by the Java compiler to make reasonable guesses at the structure of the source code.<p>But this is all besides the point; Datomic is now free (as in beer) with a great license (Apache 2.0).  You can use this amazing tool for free, and you have as much need to look at the source to do so as you might need to look at PostgreSQL&#x27;s source.<p>Some of us have been hoping for this day since Datomic was first announced, but even as an insider (I have been working at NuBank NA for less than a year) I was stunned at the speed with which this decision was made and implemented.</div><br/><div id="35735999" class="c"><input type="checkbox" id="c-35735999" checked=""/><div class="controls bullet"><span class="by">derefr</span><span>|</span><a href="#35728062">root</a><span>|</span><a href="#35731814">parent</a><span>|</span><a href="#35728267">next</a><span>|</span><label class="collapse" for="c-35735999">[-]</label><label class="expand" for="c-35735999">[3 more]</label></div><br/><div class="children"><div class="content">&gt; Due to the architecture of Clojure (especially, the use of macros) it is not exactly possible to work backwards from JVM bytecode to anything that looks like the original source code.<p>I mean, presumably if you run a Java decompiler over it you&#x27;ll get perfectly-legible Java source code. Just Java source code that makes a lot of calls to methods defined in the Clojure stdlib.<p>I&#x27;m guessing it would look a lot like what an Objective-C or Swift program looks like when you throw it into a C decompiler: a lot of boilerplate for imperatively building stack-local data structure temporaries to be passed into runtime functions, but otherwise the same code you&#x27;d expect.<p>&gt; But this is all besides the point; Datomic is now free (as in beer) with a great license (Apache 2.0). You can use this amazing tool for free, and you have as much need to look at the source to do so as you might need to look at PostgreSQL&#x27;s source.<p>Personally, I don&#x27;t want to use Datomic <i>as a tool</i>; I want to use Datomic <i>as a bag of parts</i>. I want to pilfer the major components and libraries within the Datomic codebase, reusing them inside other things. (You know how CockroachDB and Clickhouse both implemented PostgreSQL-syntax-compatible binary wire protocol in part by taking the parser.y file directly from Postgres&#x27;s codebase? I want to do <i>that</i> kind of thing, with Datomic. And probably using some pieces of Neo4j and&#x2F;or Apache BEAM at the same time.) I also want to <i>study the data structures and algorithms used to implement Datomic</i>, to better port the <i>concepts</i> used in Datomic to other databases.<p>If Datomic was a true FOSS project, doing all of that would be simple&#x2F;easy. With just a binary, though, I can&#x27;t do any of that.</div><br/><div id="35736261" class="c"><input type="checkbox" id="c-35736261" checked=""/><div class="controls bullet"><span class="by">hlship</span><span>|</span><a href="#35728062">root</a><span>|</span><a href="#35735999">parent</a><span>|</span><a href="#35728267">next</a><span>|</span><label class="collapse" for="c-35736261">[-]</label><label class="expand" for="c-35736261">[2 more]</label></div><br/><div class="children"><div class="content">Reverse engineering:<p>Some of the things that Clojure generates are valid bytecode for which there is no Java source code equivalent.<p>Reusing the pieces:<p>In general, Clojure works so well because it is all of a piece, with many decisions and subsystems working together.  Datomic&#x27;s source is the same way, you can&#x27;t really consume just part of the elephant, even if you had the source code.  Many things that Datomic does simply don&#x27;t make sense at all out of context.</div><br/><div id="35736326" class="c"><input type="checkbox" id="c-35736326" checked=""/><div class="controls bullet"><span class="by">derefr</span><span>|</span><a href="#35728062">root</a><span>|</span><a href="#35736261">parent</a><span>|</span><a href="#35728267">next</a><span>|</span><label class="collapse" for="c-35736326">[-]</label><label class="expand" for="c-35736326">[1 more]</label></div><br/><div class="children"><div class="content">Maybe, rather than taking pieces out of Datomic to use elsewhere, I want to take pieces of other things and stick them inside Datomic :)</div><br/></div></div></div></div></div></div></div></div><div id="35728267" class="c"><input type="checkbox" id="c-35728267" checked=""/><div class="controls bullet"><span class="by">cjbprime</span><span>|</span><a href="#35728062">root</a><span>|</span><a href="#35728244">parent</a><span>|</span><a href="#35731814">prev</a><span>|</span><a href="#35733774">next</a><span>|</span><label class="collapse" for="c-35728267">[-]</label><label class="expand" for="c-35728267">[3 more]</label></div><br/><div class="children"><div class="content">&quot;distribute the Work [..] in Source [..] form&quot;</div><br/><div id="35728941" class="c"><input type="checkbox" id="c-35728941" checked=""/><div class="controls bullet"><span class="by">stonemetal12</span><span>|</span><a href="#35728062">root</a><span>|</span><a href="#35728267">parent</a><span>|</span><a href="#35728423">next</a><span>|</span><label class="collapse" for="c-35728941">[-]</label><label class="expand" for="c-35728941">[1 more]</label></div><br/><div class="children"><div class="content">They didn&#x27;t license the source form to you, so still no.</div><br/></div></div><div id="35728423" class="c"><input type="checkbox" id="c-35728423" checked=""/><div class="controls bullet"><span class="by">oh_sigh</span><span>|</span><a href="#35728062">root</a><span>|</span><a href="#35728267">parent</a><span>|</span><a href="#35728941">prev</a><span>|</span><a href="#35733774">next</a><span>|</span><label class="collapse" for="c-35728423">[-]</label><label class="expand" for="c-35728423">[1 more]</label></div><br/><div class="children"><div class="content">I took that to mean the form provided by the authors - eg the &quot;binary source&quot;</div><br/></div></div></div></div></div></div></div></div><div id="35733774" class="c"><input type="checkbox" id="c-35733774" checked=""/><div class="controls bullet"><span class="by">LukeEF</span><span>|</span><a href="#35728062">parent</a><span>|</span><a href="#35728174">prev</a><span>|</span><a href="#35732571">next</a><span>|</span><label class="collapse" for="c-35733774">[-]</label><label class="expand" for="c-35733774">[2 more]</label></div><br/><div class="children"><div class="content">There are already some open source alternatives to datomic. TerminusDB (<a href="https:&#x2F;&#x2F;github.com&#x2F;terminusdb&#x2F;terminusdb">https:&#x2F;&#x2F;github.com&#x2F;terminusdb&#x2F;terminusdb</a>) for example is implemented in prolog (and Rust) so has the datalog variant query power that makes datomic so powerful. If you want free as in speech (thou I love free beer).</div><br/><div id="35735563" class="c"><input type="checkbox" id="c-35735563" checked=""/><div class="controls bullet"><span class="by">filoeleven</span><span>|</span><a href="#35728062">root</a><span>|</span><a href="#35733774">parent</a><span>|</span><a href="#35732571">next</a><span>|</span><label class="collapse" for="c-35735563">[-]</label><label class="expand" for="c-35735563">[1 more]</label></div><br/><div class="children"><div class="content">XTDB is also worth mentioning, especially since they’re on the HN front page with a v2 early access announcement. There are differences in how they do things. I can’t meaningfully comment on business usage of either or what the trade-offs between them are.<p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=35733515" rel="nofollow">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=35733515</a></div><br/></div></div></div></div></div></div><div id="35732571" class="c"><input type="checkbox" id="c-35732571" checked=""/><div class="controls bullet"><span class="by">activitypea</span><span>|</span><a href="#35728062">prev</a><span>|</span><a href="#35733977">next</a><span>|</span><label class="collapse" for="c-35732571">[-]</label><label class="expand" for="c-35732571">[3 more]</label></div><br/><div class="children"><div class="content">What is the benefit of having it closed source?<p>My view is that Datomic is a novel upstart in the persistence space. Most of their competition - Postgres, Mongo, Cassandra - is open-source, so they&#x27;re just shooting themselves in the foot. The &quot;pay us extra for convenient hosting and consulting&quot; model isn&#x27;t threatened by open-source in the slightest.<p>The only thing I can think of is that they&#x27;re trying to compete with Oracle&#x2F;Db2&#x2F;SQL server, but I can&#x27;t imagine an enterprise eyeing any of those solutions ever giving Datomic a chance.</div><br/><div id="35737385" class="c"><input type="checkbox" id="c-35737385" checked=""/><div class="controls bullet"><span class="by">erikpukinskis</span><span>|</span><a href="#35732571">parent</a><span>|</span><a href="#35733977">next</a><span>|</span><label class="collapse" for="c-35737385">[-]</label><label class="expand" for="c-35737385">[2 more]</label></div><br/><div class="children"><div class="content">I suspect they don’t want to deal with pull requests from people they didn’t hire.</div><br/><div id="35738356" class="c"><input type="checkbox" id="c-35738356" checked=""/><div class="controls bullet"><span class="by">KingMob</span><span>|</span><a href="#35732571">root</a><span>|</span><a href="#35737385">parent</a><span>|</span><a href="#35733977">next</a><span>|</span><label class="collapse" for="c-35738356">[-]</label><label class="expand" for="c-35738356">[1 more]</label></div><br/><div class="children"><div class="content">Heh. Even most Cognitects had no access to the Datomic source.</div><br/></div></div></div></div></div></div><div id="35733977" class="c"><input type="checkbox" id="c-35733977" checked=""/><div class="controls bullet"><span class="by">JimmyRuska</span><span>|</span><a href="#35732571">prev</a><span>|</span><a href="#35728156">next</a><span>|</span><label class="collapse" for="c-35733977">[-]</label><label class="expand" for="c-35733977">[1 more]</label></div><br/><div class="children"><div class="content">RDFox is worth a try as an alternative, also datalog but C++ based, has incremental reasoning, and explainability. It&#x27;s a database but also a rules engine that can chain any number of rules. As far as I know datomic is unique for its &quot;query the database at any point in history&quot; and incremental tracking of schema changes, easy to use UDFs, it really shines above other databases in that context.</div><br/></div></div><div id="35733425" class="c"><input type="checkbox" id="c-35733425" checked=""/><div class="controls bullet"><span class="by">moorg</span><span>|</span><a href="#35728156">prev</a><span>|</span><a href="#35728896">next</a><span>|</span><label class="collapse" for="c-35733425">[-]</label><label class="expand" for="c-35733425">[2 more]</label></div><br/><div class="children"><div class="content">For those who haven&#x27;t followed the story:<p>2007 - the Clojure programming language is announced by Rich Hickey and gains quite a bit of traction over the next 5 or 6 years.  It never becomes a &quot;top 5&quot; language, but it could still today be arguably considered a mainstream language.  It&#x27;s been endorsed as &quot;the best general purpose programming language out there&quot; by &quot;Uncle&quot; Bob Martin[1] (author of Clean Code) and Gene Kim[2] (auther of The Phoenix Project, the seminal DevOps book).  The fact that Rich spent two years working on it without pay and without the commercial backing many other languages enjoy is a real testament to his commitment and his vision.  A Clojure-related emacs package[3] quotes Rich when it starts a REPL: &quot;Design is about pulling things apart.&quot;<p>2012 - the Datomic database is announced by Rich Hickey&#x27;s company. The database is praised for its ingenuity and its &quot;time travel&quot; features.  It was designed to be deployed anywhere in the beginning, but, over time, it became difficult to deploy outside of AWS environments and even the AWS deployment path was quite cumbersome--the Datomic marketing page used to feature a maze-like diagram of all the AWS-specific features needed to make the thing work (it would be nice to find a link to that picture); I&#x27;d think most companies would have trouble digesting that and integrating it into their technology &quot;stack&quot;.<p>2020 - Nubank (a Brazilian fintech backed by at least one US venture firm and a large production user of Datomic) acquires Rich Hickey&#x27;s company.  It appears Datamic never gained much use outside of a handful of companies.  Making it free of charge (2023) may be the cost-effective thing to do in such a situation if it costs more to handle billing and payments than are brought in.  The reason they&#x27;re not releasing the source code could be legal one or simply the fact that open sourcing a large piece of software takes a lot of effort--something a for-profit financial services company like Nubank doesn&#x27;t prioritize (rightly so).<p>1: <a href="https:&#x2F;&#x2F;blog.cleancoder.com&#x2F;uncle-bob&#x2F;2019&#x2F;08&#x2F;22&#x2F;WhyClojure.html" rel="nofollow">https:&#x2F;&#x2F;blog.cleancoder.com&#x2F;uncle-bob&#x2F;2019&#x2F;08&#x2F;22&#x2F;WhyClojure....</a>
2: <a href="https:&#x2F;&#x2F;itrevolution.com&#x2F;articles&#x2F;love-letter-to-clojure-part-1&#x2F;" rel="nofollow">https:&#x2F;&#x2F;itrevolution.com&#x2F;articles&#x2F;love-letter-to-clojure-par...</a>
3: <a href="https:&#x2F;&#x2F;github.com&#x2F;clojure-emacs&#x2F;cider&#x2F;blob&#x2F;master&#x2F;cider-util.el#L636">https:&#x2F;&#x2F;github.com&#x2F;clojure-emacs&#x2F;cider&#x2F;blob&#x2F;master&#x2F;cider-uti...</a></div><br/><div id="35735408" class="c"><input type="checkbox" id="c-35735408" checked=""/><div class="controls bullet"><span class="by">lgrapenthin</span><span>|</span><a href="#35733425">parent</a><span>|</span><a href="#35728896">next</a><span>|</span><label class="collapse" for="c-35735408">[-]</label><label class="expand" for="c-35735408">[1 more]</label></div><br/><div class="children"><div class="content">The 2012 section seems not correct.  In the time between 2012 and 2020 I deployed Datomic in various non AWS environments.  Datomic was never particularly tied to AWS.  I think your timeline also misses Datomic Cloud, which was an AWS exclusive product that launched much later than 2012.</div><br/></div></div></div></div><div id="35728896" class="c"><input type="checkbox" id="c-35728896" checked=""/><div class="controls bullet"><span class="by">sdfjkl</span><span>|</span><a href="#35733425">prev</a><span>|</span><a href="#35735974">next</a><span>|</span><label class="collapse" for="c-35728896">[-]</label><label class="expand" for="c-35728896">[2 more]</label></div><br/><div class="children"><div class="content">Where&#x27;s the source? Why does it say &quot;Pricing&quot; on the website if it&#x27;s free? This isn&#x27;t free, it&#x27;s just an attempt at free publicity.</div><br/><div id="35729255" class="c"><input type="checkbox" id="c-35729255" checked=""/><div class="controls bullet"><span class="by">wartijn_</span><span>|</span><a href="#35728896">parent</a><span>|</span><a href="#35735974">next</a><span>|</span><label class="collapse" for="c-35729255">[-]</label><label class="expand" for="c-35729255">[1 more]</label></div><br/><div class="children"><div class="content">The pricing page mentions it&#x27;s free.<p>&gt; This section only applies to Datomic 990-9202 and lower. Newer versions of Datomic Cloud will be free of licensing related costs, and you will only pay for the hardware that you use to run the system.</div><br/></div></div></div></div><div id="35735974" class="c"><input type="checkbox" id="c-35735974" checked=""/><div class="controls bullet"><span class="by">64operator</span><span>|</span><a href="#35728896">prev</a><span>|</span><label class="collapse" for="c-35735974">[-]</label><label class="expand" for="c-35735974">[4 more]</label></div><br/><div class="children"><div class="content">Is it Day-Toe-Mike? Duh-Tommic? Can somebody in PR or marketing help me pronouce this correctly in my head? It&#x27;s causing me stress.</div><br/><div id="35736539" class="c"><input type="checkbox" id="c-35736539" checked=""/><div class="controls bullet"><span class="by">83457</span><span>|</span><a href="#35735974">parent</a><span>|</span><a href="#35736334">next</a><span>|</span><label class="collapse" for="c-35736539">[-]</label><label class="expand" for="c-35736539">[1 more]</label></div><br/><div class="children"><div class="content">Die Toma Toe I think.</div><br/></div></div><div id="35736334" class="c"><input type="checkbox" id="c-35736334" checked=""/><div class="controls bullet"><span class="by">nadagast</span><span>|</span><a href="#35735974">parent</a><span>|</span><a href="#35736539">prev</a><span>|</span><a href="#35736207">next</a><span>|</span><label class="collapse" for="c-35736334">[-]</label><label class="expand" for="c-35736334">[1 more]</label></div><br/><div class="children"><div class="content">Day-tomic I believe</div><br/></div></div><div id="35736207" class="c"><input type="checkbox" id="c-35736207" checked=""/><div class="controls bullet"><span class="by">zachallaun</span><span>|</span><a href="#35735974">parent</a><span>|</span><a href="#35736334">prev</a><span>|</span><label class="collapse" for="c-35736207">[-]</label><label class="expand" for="c-35736207">[1 more]</label></div><br/><div class="children"><div class="content">day-tah-mick (think datum&#x2F;atomic)</div><br/></div></div></div></div></div></div></div></div></div></body></html>