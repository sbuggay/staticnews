<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1686042057472" as="style"/><link rel="stylesheet" href="styles.css?v=1686042057472"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://developer.chrome.com/blog/how-photoshop-solved-working-with-files-larger-than-can-fit-into-memory/">How Photoshop solved working with files larger than can fit into memory</a> <span class="domain">(<a href="https://developer.chrome.com">developer.chrome.com</a>)</span></div><div class="subtext"><span>thunderbong</span> | <span>62 comments</span></div><br/><div><div id="36200889" class="c"><input type="checkbox" id="c-36200889" checked=""/><div class="controls bullet"><span class="by">interroboink</span><span>|</span><a href="#36203157">next</a><span>|</span><label class="collapse" for="c-36200889">[-]</label><label class="expand" for="c-36200889">[12 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a bit of a roundabout article, given that it&#x27;s ostensibly talking about the Web version of Photoshop. Basically, Adobe already solved the problem (for decades, now) with a traditional non-web application by using the filesystem. And the new bit here is that Chrome offers a filesystem for web apps to use [1], so from the web app&#x27;s point of view, it can still use the same essential solution that the native app would.<p>It doesn&#x27;t really go into the guts of how PS actually manages all that data in much detail. Just &quot;it goes to the filesystem in a smart way.&quot;<p>[1] The &quot;origin private file system&quot;: <a href="https:&#x2F;&#x2F;developer.chrome.com&#x2F;articles&#x2F;file-system-access&#x2F;#accessing-the-origin-private-file-system" rel="nofollow">https:&#x2F;&#x2F;developer.chrome.com&#x2F;articles&#x2F;file-system-access&#x2F;#ac...</a></div><br/><div id="36208083" class="c"><input type="checkbox" id="c-36208083" checked=""/><div class="controls bullet"><span class="by">psychphysic</span><span>|</span><a href="#36200889">parent</a><span>|</span><a href="#36201342">next</a><span>|</span><label class="collapse" for="c-36208083">[-]</label><label class="expand" for="c-36208083">[1 more]</label></div><br/><div class="children"><div class="content">They used coding and filesystems so the webpages didn&#x27;t crash.</div><br/></div></div><div id="36201342" class="c"><input type="checkbox" id="c-36201342" checked=""/><div class="controls bullet"><span class="by">PaulHoule</span><span>|</span><a href="#36200889">parent</a><span>|</span><a href="#36208083">prev</a><span>|</span><a href="#36207503">next</a><span>|</span><label class="collapse" for="c-36201342">[-]</label><label class="expand" for="c-36201342">[1 more]</label></div><br/><div class="children"><div class="content">... application-based virtual memory has been a thing since CICS on mainframes back in the 1970s.</div><br/></div></div><div id="36207503" class="c"><input type="checkbox" id="c-36207503" checked=""/><div class="controls bullet"><span class="by">NikkiA</span><span>|</span><a href="#36200889">parent</a><span>|</span><a href="#36201342">prev</a><span>|</span><a href="#36202347">next</a><span>|</span><label class="collapse" for="c-36207503">[-]</label><label class="expand" for="c-36207503">[8 more]</label></div><br/><div class="children"><div class="content">Scratch files, now that&#x27;s a memory I&#x27;d repressed.</div><br/><div id="36207622" class="c"><input type="checkbox" id="c-36207622" checked=""/><div class="controls bullet"><span class="by">accrual</span><span>|</span><a href="#36200889">root</a><span>|</span><a href="#36207503">parent</a><span>|</span><a href="#36202347">next</a><span>|</span><label class="collapse" for="c-36207622">[-]</label><label class="expand" for="c-36207622">[7 more]</label></div><br/><div class="children"><div class="content">Make sure you keep your scratch files on a separate disk for extra performance! 8)</div><br/><div id="36207760" class="c"><input type="checkbox" id="c-36207760" checked=""/><div class="controls bullet"><span class="by">NikkiA</span><span>|</span><a href="#36200889">root</a><span>|</span><a href="#36207622">parent</a><span>|</span><a href="#36202347">next</a><span>|</span><label class="collapse" for="c-36207760">[-]</label><label class="expand" for="c-36207760">[6 more]</label></div><br/><div class="children"><div class="content">I remember someone I knew that insisted on using a ram disk as his scratch disk...<p>Like, uh.... ok, you do that, good luck.</div><br/><div id="36209067" class="c"><input type="checkbox" id="c-36209067" checked=""/><div class="controls bullet"><span class="by">cronix</span><span>|</span><a href="#36200889">root</a><span>|</span><a href="#36207760">parent</a><span>|</span><a href="#36208811">next</a><span>|</span><label class="collapse" for="c-36209067">[-]</label><label class="expand" for="c-36209067">[1 more]</label></div><br/><div class="children"><div class="content">In the late 80&#x27;s&#x2F;early 90&#x27;s, it was one of the few ways to run large videos (for the time) without stuttering bc hard drives were too slow.</div><br/></div></div><div id="36208811" class="c"><input type="checkbox" id="c-36208811" checked=""/><div class="controls bullet"><span class="by">pajko</span><span>|</span><a href="#36200889">root</a><span>|</span><a href="#36207760">parent</a><span>|</span><a href="#36209067">prev</a><span>|</span><a href="#36208143">next</a><span>|</span><label class="collapse" for="c-36208811">[-]</label><label class="expand" for="c-36208811">[2 more]</label></div><br/><div class="children"><div class="content">There was a time when the OS could not use the whole RAM directly the hardware had, and it was a use case to put a ram disk or a swap file there.</div><br/><div id="36209149" class="c"><input type="checkbox" id="c-36209149" checked=""/><div class="controls bullet"><span class="by">NikkiA</span><span>|</span><a href="#36200889">root</a><span>|</span><a href="#36208811">parent</a><span>|</span><a href="#36208143">next</a><span>|</span><label class="collapse" for="c-36209149">[-]</label><label class="expand" for="c-36209149">[1 more]</label></div><br/><div class="children"><div class="content">If the OS can&#x27;t see the RAM, then the OS provided ramdisk can&#x27;t use it either.<p>But in this case, the use-case for using a ramdisk for a PS scratch disk came from using an A23-aware patched version of System 5.x&#x2F;6.x with a version of Photoshop that was not A23 aware. AFAIK This was a VERY tiny window around PS1.0 and possibly PS2.0, by the time of PowerPC and System 7.5+ (which this user had), there was very definitely absolutely no advantage to partitioning the RAM away from programs.<p>At a guess, someone had told them to do it this way in the era of the early Mac IIs and such, but they hadn&#x27;t grasped the &#x27;why&#x27;</div><br/></div></div></div></div><div id="36208143" class="c"><input type="checkbox" id="c-36208143" checked=""/><div class="controls bullet"><span class="by">mjevans</span><span>|</span><a href="#36200889">root</a><span>|</span><a href="#36207760">parent</a><span>|</span><a href="#36208811">prev</a><span>|</span><a href="#36202347">next</a><span>|</span><label class="collapse" for="c-36208143">[-]</label><label class="expand" for="c-36208143">[2 more]</label></div><br/><div class="children"><div class="content">If the app was from an era where RAM was much smaller, but now there&#x27;s enough RAM for the use case, this makes sense.</div><br/><div id="36209833" class="c"><input type="checkbox" id="c-36209833" checked=""/><div class="controls bullet"><span class="by">eternityforest</span><span>|</span><a href="#36200889">root</a><span>|</span><a href="#36208143">parent</a><span>|</span><a href="#36202347">next</a><span>|</span><label class="collapse" for="c-36209833">[-]</label><label class="expand" for="c-36209833">[1 more]</label></div><br/><div class="children"><div class="content">Linux is full of stuff that writes to disk all the time.<p>Browsers do it too.   It&#x27;s possible to do multiple GB an hour doing nothing on some versions with extensions, just from writing and rewriting the same file every minute for probably no good reason other than a dev hated complexity too much to check for unnecessary writes and not wear out the SSD.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="36202347" class="c"><input type="checkbox" id="c-36202347" checked=""/><div class="controls bullet"><span class="by">kevingadd</span><span>|</span><a href="#36200889">parent</a><span>|</span><a href="#36207503">prev</a><span>|</span><a href="#36203157">next</a><span>|</span><label class="collapse" for="c-36202347">[-]</label><label class="expand" for="c-36202347">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s unfortunate that there&#x27;s still no mmap equivalent for I&#x2F;O in the browser, so you can&#x27;t do demand paging or anything like that. Nothing approaching zero-copy either, you&#x27;re typically looking at two copies or more. At least the OS page cache will probably help you out.</div><br/></div></div></div></div><div id="36203157" class="c"><input type="checkbox" id="c-36203157" checked=""/><div class="controls bullet"><span class="by">evmar</span><span>|</span><a href="#36200889">prev</a><span>|</span><a href="#36205846">next</a><span>|</span><label class="collapse" for="c-36203157">[-]</label><label class="expand" for="c-36203157">[2 more]</label></div><br/><div class="children"><div class="content">I worked on some memory stuff for Figma, a similar app, though it&#x27;s surely changed since I did.<p>One interesting thing about Photoshop&#x27;s perspective is that it&#x27;s fundamentally about &quot;files&quot;, which is like a single bytestream that contains all the picture and which must be transferred to the browser to work on.  A Figma document also can refer to images, but in a different way.  The sum of the document data (like layout) and the image pixels can be extremely large, like gigabytes, but you can transfer those two things separately from server to client.</div><br/><div id="36210052" class="c"><input type="checkbox" id="c-36210052" checked=""/><div class="controls bullet"><span class="by">chakintosh</span><span>|</span><a href="#36203157">parent</a><span>|</span><a href="#36205846">next</a><span>|</span><label class="collapse" for="c-36210052">[-]</label><label class="expand" for="c-36210052">[1 more]</label></div><br/><div class="children"><div class="content">Might be off-topic but always wondered why Figma limits files to 2Gb, even the paid users. I remember once I had to present my work to stakeholders of a large company and when I opened Figma I was met with the dreaded red banner saying I exceeded the 2Gb limit and wouldn&#x27;t open the file even for viewing. I was frantically posting on the forums and emailing customer support for a solution. Luckily they replied quickly and suggested I create a new file and paste the important bits on it and leave out the old stuff.</div><br/></div></div></div></div><div id="36205846" class="c"><input type="checkbox" id="c-36205846" checked=""/><div class="controls bullet"><span class="by">myshpa</span><span>|</span><a href="#36203157">prev</a><span>|</span><a href="#36207647">next</a><span>|</span><label class="collapse" for="c-36205846">[-]</label><label class="expand" for="c-36205846">[2 more]</label></div><br/><div class="children"><div class="content">A free photoshop alternative, one man show<p><a href="https:&#x2F;&#x2F;www.photopea.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.photopea.com&#x2F;</a></div><br/><div id="36206442" class="c"><input type="checkbox" id="c-36206442" checked=""/><div class="controls bullet"><span class="by">goolz</span><span>|</span><a href="#36205846">parent</a><span>|</span><a href="#36207647">next</a><span>|</span><label class="collapse" for="c-36206442">[-]</label><label class="expand" for="c-36206442">[1 more]</label></div><br/><div class="children"><div class="content">Yes! I am a daily user plus the dev seems like a great guy(he did an awesome AMA back in the day). One of the few places I make it a point to whitelist my ad blocker. So glad to see this shout out.</div><br/></div></div></div></div><div id="36207647" class="c"><input type="checkbox" id="c-36207647" checked=""/><div class="controls bullet"><span class="by">ec109685</span><span>|</span><a href="#36205846">prev</a><span>|</span><a href="#36202447">next</a><span>|</span><label class="collapse" for="c-36207647">[-]</label><label class="expand" for="c-36207647">[2 more]</label></div><br/><div class="children"><div class="content">I wonder what the intersection of people who do not know what RAM and Virtual Memory are, but interested in this article?<p>“ The amount of memory also varies from device to device, as you know when you order a new computer or device and specify the amount of Random-Access Memory (RAM) desired. Many of these platforms also support virtual memory, which allows an application to use more memory than is physically available.”</div><br/><div id="36208759" class="c"><input type="checkbox" id="c-36208759" checked=""/><div class="controls bullet"><span class="by">benjifri</span><span>|</span><a href="#36207647">parent</a><span>|</span><a href="#36202447">next</a><span>|</span><label class="collapse" for="c-36208759">[-]</label><label class="expand" for="c-36208759">[1 more]</label></div><br/><div class="children"><div class="content">SEO...</div><br/></div></div></div></div><div id="36202447" class="c"><input type="checkbox" id="c-36202447" checked=""/><div class="controls bullet"><span class="by">keville</span><span>|</span><a href="#36207647">prev</a><span>|</span><a href="#36206446">next</a><span>|</span><label class="collapse" for="c-36202447">[-]</label><label class="expand" for="c-36202447">[2 more]</label></div><br/><div class="children"><div class="content">Photoshop wasn&#x27;t the one to solve this, as others have mentioned.<p>Adobe likely owns the xRes intellectual property, though:<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Macromedia_xRes" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Macromedia_xRes</a></div><br/><div id="36208206" class="c"><input type="checkbox" id="c-36208206" checked=""/><div class="controls bullet"><span class="by">resoluteteeth</span><span>|</span><a href="#36202447">parent</a><span>|</span><a href="#36206446">next</a><span>|</span><label class="collapse" for="c-36208206">[-]</label><label class="expand" for="c-36208206">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Photoshop wasn&#x27;t the one to solve this, as others have mentioned.<p>&gt; Adobe likely owns the xRes intellectual property, though:<p>Photoshop has used scratch files and it&#x27;s own virtual memory system since long before adobe bought macromedia</div><br/></div></div></div></div><div id="36206446" class="c"><input type="checkbox" id="c-36206446" checked=""/><div class="controls bullet"><span class="by">abujazar</span><span>|</span><a href="#36202447">prev</a><span>|</span><a href="#36202393">next</a><span>|</span><label class="collapse" for="c-36206446">[-]</label><label class="expand" for="c-36206446">[3 more]</label></div><br/><div class="children"><div class="content">This is kinda funny. I worked on 400 MB+ files in Photoshop on a Mac with 128 MB memory in 1999.</div><br/><div id="36208118" class="c"><input type="checkbox" id="c-36208118" checked=""/><div class="controls bullet"><span class="by">dhosek</span><span>|</span><a href="#36206446">parent</a><span>|</span><a href="#36202393">next</a><span>|</span><label class="collapse" for="c-36208118">[-]</label><label class="expand" for="c-36208118">[2 more]</label></div><br/><div class="children"><div class="content">Donald Knuth used a pre-release version of Photoshop (at Adobe headquarters after the employees had gone home for the day) to process the images for his book <i>3:16</i>. He was using multiple Macs to parallelize his process, and there were frequent crashes. This was back in the days of Macs with 512K of RAM which makes your 128MB Mac seem positively capacious by comparison.</div><br/><div id="36208587" class="c"><input type="checkbox" id="c-36208587" checked=""/><div class="controls bullet"><span class="by">icehawk</span><span>|</span><a href="#36206446">root</a><span>|</span><a href="#36208118">parent</a><span>|</span><a href="#36202393">next</a><span>|</span><label class="collapse" for="c-36208587">[-]</label><label class="expand" for="c-36208587">[1 more]</label></div><br/><div class="children"><div class="content">He stated that would have been in the summer of 1989-- so Macs actually could have had anywhere from 1-128MB.<p>128MB would be unlikely, but the SE&#x2F;30 was released in January of the same year.</div><br/></div></div></div></div></div></div><div id="36202393" class="c"><input type="checkbox" id="c-36202393" checked=""/><div class="controls bullet"><span class="by">vlovich123</span><span>|</span><a href="#36206446">prev</a><span>|</span><a href="#36203156">next</a><span>|</span><label class="collapse" for="c-36202393">[-]</label><label class="expand" for="c-36202393">[13 more]</label></div><br/><div class="children"><div class="content">Why doesn’t WASM offer a 64-bit mode?</div><br/><div id="36202762" class="c"><input type="checkbox" id="c-36202762" checked=""/><div class="controls bullet"><span class="by">jsheard</span><span>|</span><a href="#36202393">parent</a><span>|</span><a href="#36202785">next</a><span>|</span><label class="collapse" for="c-36202762">[-]</label><label class="expand" for="c-36202762">[8 more]</label></div><br/><div class="children"><div class="content">It&#x27;s in the works: <a href="https:&#x2F;&#x2F;github.com&#x2F;WebAssembly&#x2F;memory64">https:&#x2F;&#x2F;github.com&#x2F;WebAssembly&#x2F;memory64</a><p>Starting with 32bit had some performance advantages because 64bit runtimes can use virtual memory shenanigans to implement bounds checking with zero overhead. In wasm64 they&#x27;ll have to do explicit bounds checking instead.</div><br/><div id="36205962" class="c"><input type="checkbox" id="c-36205962" checked=""/><div class="controls bullet"><span class="by">jcparkyn</span><span>|</span><a href="#36202393">root</a><span>|</span><a href="#36202762">parent</a><span>|</span><a href="#36202785">next</a><span>|</span><label class="collapse" for="c-36205962">[-]</label><label class="expand" for="c-36205962">[7 more]</label></div><br/><div class="children"><div class="content">&gt;... 64bit runtimes can use...<p>Did you mean 32bit?</div><br/><div id="36206161" class="c"><input type="checkbox" id="c-36206161" checked=""/><div class="controls bullet"><span class="by">jsheard</span><span>|</span><a href="#36202393">root</a><span>|</span><a href="#36205962">parent</a><span>|</span><a href="#36202785">next</a><span>|</span><label class="collapse" for="c-36206161">[-]</label><label class="expand" for="c-36206161">[6 more]</label></div><br/><div class="children"><div class="content">No, I mean running 32bit wasm code on a 64bit runtime. The trick is that a 32bit wasm instance can only address up to 4GB of memory, and 64bit hosts give you terabytes of address space to play with, so you can reserve all 4GB of address space up front and incrementally commit the pages as the wasm memory grows. If the wasm code tries to access a page beyond what&#x27;s been committed it will trigger a hardware exception, so there&#x27;s no need to perform explicit bounds checking. This only works because the wasm address space is significantly smaller than the hosts address space.</div><br/><div id="36206483" class="c"><input type="checkbox" id="c-36206483" checked=""/><div class="controls bullet"><span class="by">vlovich123</span><span>|</span><a href="#36202393">root</a><span>|</span><a href="#36206161">parent</a><span>|</span><a href="#36207677">next</a><span>|</span><label class="collapse" for="c-36206483">[-]</label><label class="expand" for="c-36206483">[4 more]</label></div><br/><div class="children"><div class="content">You could do the same with 64-bit by choosing somewhere south of 48-bits of actual address space that you hand out, no?</div><br/><div id="36206545" class="c"><input type="checkbox" id="c-36206545" checked=""/><div class="controls bullet"><span class="by">jsheard</span><span>|</span><a href="#36202393">root</a><span>|</span><a href="#36206483">parent</a><span>|</span><a href="#36207677">next</a><span>|</span><label class="collapse" for="c-36206545">[-]</label><label class="expand" for="c-36206545">[3 more]</label></div><br/><div class="children"><div class="content">That&#x27;s one way they could do it, not quite free since they&#x27;d have to mask off the high address bits at each load&#x2F;store, but that&#x27;s probably cheaper than adding a full branch at every load&#x2F;store.<p>I think the wasm spec would have to be amended for that to be legal though, currently out-of-bounds memory accesses <i>must</i> throw an exception one way or another, and silently dropping the high bits of addresses may turn an out-of-bounds access into an in-bounds access that doesn&#x27;t throw.</div><br/><div id="36207873" class="c"><input type="checkbox" id="c-36207873" checked=""/><div class="controls bullet"><span class="by">vlovich123</span><span>|</span><a href="#36202393">root</a><span>|</span><a href="#36206545">parent</a><span>|</span><a href="#36207677">next</a><span>|</span><label class="collapse" for="c-36207873">[-]</label><label class="expand" for="c-36207873">[2 more]</label></div><br/><div class="children"><div class="content">Not sure why. They could just guarantee the allocator never hands out invalid addresses no? If you’re trying to access outside the valid range that’s an out of bounds access because the memory range isn’t mapped. I’m sure I’m missing some nuance though.</div><br/><div id="36208837" class="c"><input type="checkbox" id="c-36208837" checked=""/><div class="controls bullet"><span class="by">deredede</span><span>|</span><a href="#36202393">root</a><span>|</span><a href="#36207873">parent</a><span>|</span><a href="#36207677">next</a><span>|</span><label class="collapse" for="c-36208837">[-]</label><label class="expand" for="c-36208837">[1 more]</label></div><br/><div class="children"><div class="content">The allocator never hands out invalid addresses, but the wasm code can then try to access out of the bounds of the allocated memory (eg huge array index).<p>The wasm runtime and other browser code runs in the same address space but must stay out of reach of the wasm code.</div><br/></div></div></div></div></div></div></div></div><div id="36207677" class="c"><input type="checkbox" id="c-36207677" checked=""/><div class="controls bullet"><span class="by">jcparkyn</span><span>|</span><a href="#36202393">root</a><span>|</span><a href="#36206161">parent</a><span>|</span><a href="#36206483">prev</a><span>|</span><a href="#36202785">next</a><span>|</span><label class="collapse" for="c-36207677">[-]</label><label class="expand" for="c-36207677">[1 more]</label></div><br/><div class="children"><div class="content">I see, thanks.</div><br/></div></div></div></div></div></div></div></div><div id="36202785" class="c"><input type="checkbox" id="c-36202785" checked=""/><div class="controls bullet"><span class="by">zamadatix</span><span>|</span><a href="#36202393">parent</a><span>|</span><a href="#36202762">prev</a><span>|</span><a href="#36204662">next</a><span>|</span><label class="collapse" for="c-36202785">[-]</label><label class="expand" for="c-36202785">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s being worked on, it&#x27;s currently available for development testing in builds of Chrome and Firefox.</div><br/></div></div><div id="36204662" class="c"><input type="checkbox" id="c-36204662" checked=""/><div class="controls bullet"><span class="by">RcouF1uZ4gsC</span><span>|</span><a href="#36202393">parent</a><span>|</span><a href="#36202785">prev</a><span>|</span><a href="#36203156">next</a><span>|</span><label class="collapse" for="c-36204662">[-]</label><label class="expand" for="c-36204662">[3 more]</label></div><br/><div class="children"><div class="content">One the one hand I like 64bits from a technical perspective but, on the other hand, I am not so sure I want to live in a world where a single web app needs to access more than 4 GB of address space.</div><br/><div id="36204742" class="c"><input type="checkbox" id="c-36204742" checked=""/><div class="controls bullet"><span class="by">bonestamp2</span><span>|</span><a href="#36202393">root</a><span>|</span><a href="#36204662">parent</a><span>|</span><a href="#36207453">next</a><span>|</span><label class="collapse" for="c-36204742">[-]</label><label class="expand" for="c-36204742">[1 more]</label></div><br/><div class="children"><div class="content">But if the need occurs, you&#x27;d rather be forced to download&#x2F;install an app rather than use a web app? This seems short sighted, especially for occasional tasks that come up where I&#x27;d like to just bang it out once with a webapp than install something.</div><br/></div></div><div id="36207453" class="c"><input type="checkbox" id="c-36207453" checked=""/><div class="controls bullet"><span class="by">omoikane</span><span>|</span><a href="#36202393">root</a><span>|</span><a href="#36204662">parent</a><span>|</span><a href="#36204742">prev</a><span>|</span><a href="#36203156">next</a><span>|</span><label class="collapse" for="c-36207453">[-]</label><label class="expand" for="c-36207453">[1 more]</label></div><br/><div class="children"><div class="content">That future is likely inevitable given the increasing size of games and how people would like to run those as web apps.</div><br/></div></div></div></div></div></div><div id="36205276" class="c"><input type="checkbox" id="c-36205276" checked=""/><div class="controls bullet"><span class="by">awinter-py</span><span>|</span><a href="#36203156">prev</a><span>|</span><a href="#36204594">next</a><span>|</span><label class="collapse" for="c-36205276">[-]</label><label class="expand" for="c-36205276">[1 more]</label></div><br/><div class="children"><div class="content">some sort of spinning metal thing with platters and read heads and magnets and stuff?</div><br/></div></div><div id="36204594" class="c"><input type="checkbox" id="c-36204594" checked=""/><div class="controls bullet"><span class="by">mannyv</span><span>|</span><a href="#36205276">prev</a><span>|</span><a href="#36202644">next</a><span>|</span><label class="collapse" for="c-36204594">[-]</label><label class="expand" for="c-36204594">[2 more]</label></div><br/><div class="children"><div class="content">I thought this was pretty well-known. Adobe has been running their own VM engine for a long time now. I&#x27;m not sure which Photoshop first shipped with it, but given how pretty much everyone in prepress used it it&#x27;s likely since at least Photoshop 3.</div><br/><div id="36205712" class="c"><input type="checkbox" id="c-36205712" checked=""/><div class="controls bullet"><span class="by">jasomill</span><span>|</span><a href="#36204594">parent</a><span>|</span><a href="#36202644">next</a><span>|</span><label class="collapse" for="c-36205712">[-]</label><label class="expand" for="c-36205712">[1 more]</label></div><br/><div class="children"><div class="content">Version 1, actually[1]:<p><i>The PS.temp file is a special file created by the Adobe Photoshop program to implement the program&#x27;s virtual memory scheme. Virtual memory allows you to work on images of nearly any size, by using a hard disk instead of RAM (random-access memory) to hold information. The PS.temp file contains the program&#x27;s virtual memory information. The file is normally deleted when you quit the program.</i><p>For implementation details, see the files <i>UVMemory.p</i> and <i>UVMemory.inc1.p</i> in the source distribution[2].<p>[1] <a href="https:&#x2F;&#x2F;archive.computerhistory.org&#x2F;resources&#x2F;access&#x2F;text&#x2F;2013&#x2F;01&#x2F;102640940-05-01-acc.pdf#page=410" rel="nofollow">https:&#x2F;&#x2F;archive.computerhistory.org&#x2F;resources&#x2F;access&#x2F;text&#x2F;20...</a><p>[2] <a href="https:&#x2F;&#x2F;computerhistory.org&#x2F;blog&#x2F;adobe-photoshop-source-code&#x2F;" rel="nofollow">https:&#x2F;&#x2F;computerhistory.org&#x2F;blog&#x2F;adobe-photoshop-source-code...</a></div><br/></div></div></div></div><div id="36202644" class="c"><input type="checkbox" id="c-36202644" checked=""/><div class="controls bullet"><span class="by">jval43</span><span>|</span><a href="#36204594">prev</a><span>|</span><a href="#36206395">next</a><span>|</span><label class="collapse" for="c-36202644">[-]</label><label class="expand" for="c-36202644">[3 more]</label></div><br/><div class="children"><div class="content">Now do iOS. Content-aware fill still fails with OOM on iPad Pro, yet works fine on older Macs with less processing power.</div><br/><div id="36207228" class="c"><input type="checkbox" id="c-36207228" checked=""/><div class="controls bullet"><span class="by">MontagFTB</span><span>|</span><a href="#36202644">parent</a><span>|</span><a href="#36206395">next</a><span>|</span><label class="collapse" for="c-36207228">[-]</label><label class="expand" for="c-36207228">[2 more]</label></div><br/><div class="children"><div class="content">iOS VM system doesn’t use the disk for paging, so it’s quite a different beast than a machine with TB of available space.</div><br/></div></div></div></div><div id="36206395" class="c"><input type="checkbox" id="c-36206395" checked=""/><div class="controls bullet"><span class="by">londons_explore</span><span>|</span><a href="#36202644">prev</a><span>|</span><a href="#36203689">next</a><span>|</span><label class="collapse" for="c-36206395">[-]</label><label class="expand" for="c-36206395">[1 more]</label></div><br/><div class="children"><div class="content">I think it&#x27;s a shame the application has to implement this at all.<p>The application should be giving hints, and then the OS deciding what to load and when.</div><br/></div></div><div id="36203689" class="c"><input type="checkbox" id="c-36203689" checked=""/><div class="controls bullet"><span class="by">ChrisMarshallNY</span><span>|</span><a href="#36206395">prev</a><span>|</span><a href="#36202753">next</a><span>|</span><label class="collapse" for="c-36203689">[-]</label><label class="expand" for="c-36203689">[1 more]</label></div><br/><div class="children"><div class="content">We were doing that, with the software (scanner drivers and image processing -BIG files) my team wrote, decades ago.<p>It&#x27;s very similar to VM. We paged and indexed everything.</div><br/></div></div><div id="36202753" class="c"><input type="checkbox" id="c-36202753" checked=""/><div class="controls bullet"><span class="by">tabtab</span><span>|</span><a href="#36203689">prev</a><span>|</span><a href="#36203175">next</a><span>|</span><label class="collapse" for="c-36202753">[-]</label><label class="expand" for="c-36202753">[2 more]</label></div><br/><div class="children"><div class="content">File buffering RAM and&#x2F;or arrays was invented long before Adobe. The tricky part is probably optimizing the image processing algorithms to fit the filing method(s). For example, if images are split into &quot;tile files&quot;, and a given algorithm requires referencing too many files&#x2F;tiles at a time, creating too much file I&#x2F;O, then it probably needs to be reworked into a tile-friendly algorithm.</div><br/><div id="36209470" class="c"><input type="checkbox" id="c-36209470" checked=""/><div class="controls bullet"><span class="by">OnlyMortal</span><span>|</span><a href="#36202753">parent</a><span>|</span><a href="#36203175">next</a><span>|</span><label class="collapse" for="c-36209470">[-]</label><label class="expand" for="c-36209470">[1 more]</label></div><br/><div class="children"><div class="content">If I recall correctly, TIFF has the ability to tile an image.</div><br/></div></div></div></div><div id="36203175" class="c"><input type="checkbox" id="c-36203175" checked=""/><div class="controls bullet"><span class="by">throwawayai2</span><span>|</span><a href="#36202753">prev</a><span>|</span><a href="#36207511">next</a><span>|</span><label class="collapse" for="c-36203175">[-]</label><label class="expand" for="c-36203175">[2 more]</label></div><br/><div class="children"><div class="content">Now if only Figma could catch up to Adobe...</div><br/><div id="36204600" class="c"><input type="checkbox" id="c-36204600" checked=""/><div class="controls bullet"><span class="by">aleph_minus_one</span><span>|</span><a href="#36203175">parent</a><span>|</span><a href="#36207511">next</a><span>|</span><label class="collapse" for="c-36204600">[-]</label><label class="expand" for="c-36204600">[1 more]</label></div><br/><div class="children"><div class="content">It perhaps will soon:<p>- <a href="https:&#x2F;&#x2F;www.cnbc.com&#x2F;2022&#x2F;09&#x2F;15&#x2F;adobe-to-acquire-design-platform-figma-for-20-billion.html" rel="nofollow">https:&#x2F;&#x2F;www.cnbc.com&#x2F;2022&#x2F;09&#x2F;15&#x2F;adobe-to-acquire-design-plat...</a><p>- <a href="https:&#x2F;&#x2F;www.theverge.com&#x2F;2022&#x2F;9&#x2F;15&#x2F;23354532&#x2F;adobe-figma-acquisition-20-billion-official" rel="nofollow">https:&#x2F;&#x2F;www.theverge.com&#x2F;2022&#x2F;9&#x2F;15&#x2F;23354532&#x2F;adobe-figma-acqu...</a></div><br/></div></div></div></div><div id="36207511" class="c"><input type="checkbox" id="c-36207511" checked=""/><div class="controls bullet"><span class="by">hamburglar</span><span>|</span><a href="#36203175">prev</a><span>|</span><a href="#36207379">next</a><span>|</span><label class="collapse" for="c-36207511">[-]</label><label class="expand" for="c-36207511">[1 more]</label></div><br/><div class="children"><div class="content">This isn&#x27;t even Adobe&#x27;s first attempt at solving this problem.  Old, old versions of Photoshop in the early 90&#x27;s (I believe it was introduced in Photoshop 2.5) had an ancient hack called &quot;quick edit&quot; which would allow you to select a file and then open a &quot;slice&quot; of the file, which is a specified bounding box within the file (and not only x,y coordinates -- it could also select a subset of the color channels).  It would then present that chunk of the file as its own standalone document window which you could manipulate to your heart&#x27;s content, then when you saved it, it wrote the slice back out to the original document.  It only supported a subset of graphics formats because each one had to have custom code to read and write the slice data.</div><br/></div></div><div id="36207379" class="c"><input type="checkbox" id="c-36207379" checked=""/><div class="controls bullet"><span class="by">fractallyte</span><span>|</span><a href="#36207511">prev</a><span>|</span><a href="#36207376">next</a><span>|</span><label class="collapse" for="c-36207379">[-]</label><label class="expand" for="c-36207379">[2 more]</label></div><br/><div class="children"><div class="content">Satori Paint (<a href="https:&#x2F;&#x2F;www.satoripaint.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.satoripaint.com&#x2F;</a>) achieved the same result (working with too-large files for available RAM) in the late 1990s. Hugely innovative, vector-based painting that looked like bitmap painting! But it was resolution independent (<a href="https:&#x2F;&#x2F;www.satoripaint.com&#x2F;Tutorials&#x2F;Workingwithverylargeimages.html" rel="nofollow">https:&#x2F;&#x2F;www.satoripaint.com&#x2F;Tutorials&#x2F;Workingwithverylargeim...</a>).<p>Here&#x27;s a gallery (sadly, thumbnails only): <a href="https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20070813084252&#x2F;http:&#x2F;&#x2F;www.animation-backgrounds.com&#x2F;soft&#x2F;software1.html" rel="nofollow">https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20070813084252&#x2F;http:&#x2F;&#x2F;www.animat...</a><p>And the original of this page showed how it was possible to zoom into an apparent bitmap image to an incredible degree (demonstrating the vector resolution-independence of Satori): <a href="https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20070804225012&#x2F;http:&#x2F;&#x2F;www.animation-backgrounds.com&#x2F;articles&#x2F;artic01&#x2F;art01p1.html" rel="nofollow">https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20070804225012&#x2F;http:&#x2F;&#x2F;www.animat...</a>
[As far as I recall, it zoomed into the writing on the clipboard on the right, to show a single period!]<p>Incredible software!</div><br/><div id="36208223" class="c"><input type="checkbox" id="c-36208223" checked=""/><div class="controls bullet"><span class="by">resoluteteeth</span><span>|</span><a href="#36207379">parent</a><span>|</span><a href="#36207376">next</a><span>|</span><label class="collapse" for="c-36208223">[-]</label><label class="expand" for="c-36208223">[1 more]</label></div><br/><div class="children"><div class="content">&gt;  Satori Paint (<a href="https:&#x2F;&#x2F;www.satoripaint.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.satoripaint.com&#x2F;</a>) achieved the same result (working with too-large files for available RAM) in the late 1990s.<p>Desktop photoshop also had the ability to work with files too large for ram in the 90s</div><br/></div></div></div></div><div id="36207376" class="c"><input type="checkbox" id="c-36207376" checked=""/><div class="controls bullet"><span class="by">Dalewyn</span><span>|</span><a href="#36207379">prev</a><span>|</span><a href="#36204606">next</a><span>|</span><label class="collapse" for="c-36207376">[-]</label><label class="expand" for="c-36207376">[1 more]</label></div><br/><div class="children"><div class="content">For the newer people clearly unaware, this is known as a &quot;scratch disk&quot;[1][2].<p>Now git off mah lawn ya greenhorns. :V<p>[1]: <a href="https:&#x2F;&#x2F;helpx.adobe.com&#x2F;photoshop&#x2F;using&#x2F;scratch-disks-preferences.html" rel="nofollow">https:&#x2F;&#x2F;helpx.adobe.com&#x2F;photoshop&#x2F;using&#x2F;scratch-disks-prefer...</a><p>[2]: <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Scratch_space" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Scratch_space</a></div><br/></div></div><div id="36204606" class="c"><input type="checkbox" id="c-36204606" checked=""/><div class="controls bullet"><span class="by">villgax</span><span>|</span><a href="#36207376">prev</a><span>|</span><a href="#36205368">next</a><span>|</span><label class="collapse" for="c-36204606">[-]</label><label class="expand" for="c-36204606">[1 more]</label></div><br/><div class="children"><div class="content">Pandas has to deal with the same crap, thankfully Dask &amp; other out of core packages fix the issues</div><br/></div></div><div id="36201525" class="c"><input type="checkbox" id="c-36201525" checked=""/><div class="controls bullet"><span class="by">jdmoreira</span><span>|</span><a href="#36205368">prev</a><span>|</span><label class="collapse" for="c-36201525">[-]</label><label class="expand" for="c-36201525">[6 more]</label></div><br/><div class="children"><div class="content">Photoshop discovered mmap?</div><br/><div id="36204555" class="c"><input type="checkbox" id="c-36204555" checked=""/><div class="controls bullet"><span class="by">mike_hock</span><span>|</span><a href="#36201525">parent</a><span>|</span><a href="#36202724">next</a><span>|</span><label class="collapse" for="c-36204555">[-]</label><label class="expand" for="c-36204555">[2 more]</label></div><br/><div class="children"><div class="content">No, we&#x27;ve (collectively) discovered that we have a lot of mature technologies (like mmap), mature platforms and extremely fast hardware, so we created a crippled software development platform on a bloated layout engine so people can get creative again hacking around the arbitrary constraints and design flaws of the platform to solve problems that had been solved 40 years ago.</div><br/><div id="36207750" class="c"><input type="checkbox" id="c-36207750" checked=""/><div class="controls bullet"><span class="by">ElFitz</span><span>|</span><a href="#36201525">root</a><span>|</span><a href="#36204555">parent</a><span>|</span><a href="#36202724">next</a><span>|</span><label class="collapse" for="c-36207750">[-]</label><label class="expand" for="c-36207750">[1 more]</label></div><br/><div class="children"><div class="content">Web browser did drastically simplify delivery and deliverability though.<p>Not that there wouldn’t have been alternatives had web apps not become a thing. It’s just more user-friendly than most current open alternatives (eg apt-get), and more open than most current user-friendly alternatives (eg app stores).</div><br/></div></div></div></div><div id="36202724" class="c"><input type="checkbox" id="c-36202724" checked=""/><div class="controls bullet"><span class="by">jsheard</span><span>|</span><a href="#36201525">parent</a><span>|</span><a href="#36204555">prev</a><span>|</span><a href="#36201808">next</a><span>|</span><label class="collapse" for="c-36202724">[-]</label><label class="expand" for="c-36202724">[1 more]</label></div><br/><div class="children"><div class="content">This is about the web version of Photoshop, there is no mmap there.</div><br/></div></div><div id="36201808" class="c"><input type="checkbox" id="c-36201808" checked=""/><div class="controls bullet"><span class="by">wongarsu</span><span>|</span><a href="#36201525">parent</a><span>|</span><a href="#36202724">prev</a><span>|</span><label class="collapse" for="c-36201808">[-]</label><label class="expand" for="c-36201808">[2 more]</label></div><br/><div class="children"><div class="content">Except when exporting files, where it still has weird size restrictions (somewhere around 10k pixels per side)</div><br/><div id="36205782" class="c"><input type="checkbox" id="c-36205782" checked=""/><div class="controls bullet"><span class="by">cubefox</span><span>|</span><a href="#36201525">root</a><span>|</span><a href="#36201808">parent</a><span>|</span><label class="collapse" for="c-36205782">[-]</label><label class="expand" for="c-36205782">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s ironic, given that it&#x27;s a Chrome blog post. Because recently someone here said that Google &#x2F; the Chrome team used their market power to kill JPEG XL (a proposed jpeg successor) in favor of AVIF, which has weird size restrictions.</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>