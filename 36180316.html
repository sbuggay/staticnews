<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1685869262139" as="style"/><link rel="stylesheet" href="styles.css?v=1685869262139"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://ciechanow.ski/gps/">GPS (2022)</a> <span class="domain">(<a href="https://ciechanow.ski">ciechanow.ski</a>)</span></div><div class="subtext"><span>tkiolp4</span> | <span>30 comments</span></div><br/><div><div id="36183802" class="c"><input type="checkbox" id="c-36183802" checked=""/><div class="controls bullet"><span class="by">londons_explore</span><span>|</span><a href="#36183838">next</a><span>|</span><label class="collapse" for="c-36183802">[-]</label><label class="expand" for="c-36183802">[1 more]</label></div><br/><div class="children"><div class="content">By the way...<p>Gold codes (this article calls them chipping codes) can be used to solve a lot of engineering problems where you need to synchronise two things.   Eg. &quot;I want to transmit an infrared signal and receive it somewhere else, but the signal isn&#x27;t bright enough to detect! - no worries, use a 1023 bit gold code, and suddenly you get a 30x effective brightness increase, and perfect time sync, with no hardware changes!&quot;<p>However...    beware that you should never transmit the codes once per millisecond.  Thats the GPS rate, and GPS is very easy to accidentally interfere with <i>if you use their gold codes</i>.   Instead transmit at some other data rate (ie. once per 1.2 milliseconds), or generate your own gold code set, and you won&#x27;t disrupt GPS.</div><br/></div></div><div id="36183838" class="c"><input type="checkbox" id="c-36183838" checked=""/><div class="controls bullet"><span class="by">endorphine</span><span>|</span><a href="#36183802">prev</a><span>|</span><a href="#36181552">next</a><span>|</span><label class="collapse" for="c-36183838">[-]</label><label class="expand" for="c-36183838">[3 more]</label></div><br/><div class="children"><div class="content">Off-topic: I was looking at the first visualization (the globe with the satellites) and thought to myself: &quot;how cool is that the author also drew the stars in the galaxy behind the globe?&quot;. Only after 3 seconds I realized this was just dust on my screen.</div><br/><div id="36184053" class="c"><input type="checkbox" id="c-36184053" checked=""/><div class="controls bullet"><span class="by">martyvis</span><span>|</span><a href="#36183838">parent</a><span>|</span><a href="#36183884">next</a><span>|</span><label class="collapse" for="c-36184053">[-]</label><label class="expand" for="c-36184053">[1 more]</label></div><br/><div class="children"><div class="content">I went back and noticed the same. Most be the genuine blackness of AMOLED screens.</div><br/></div></div><div id="36183884" class="c"><input type="checkbox" id="c-36183884" checked=""/><div class="controls bullet"><span class="by">IndigoIncognito</span><span>|</span><a href="#36183838">parent</a><span>|</span><a href="#36184053">prev</a><span>|</span><a href="#36181552">next</a><span>|</span><label class="collapse" for="c-36183884">[-]</label><label class="expand" for="c-36183884">[1 more]</label></div><br/><div class="children"><div class="content">Haha</div><br/></div></div></div></div><div id="36181552" class="c"><input type="checkbox" id="c-36181552" checked=""/><div class="controls bullet"><span class="by">sieste</span><span>|</span><a href="#36183838">prev</a><span>|</span><a href="#36181611">next</a><span>|</span><label class="collapse" for="c-36181552">[-]</label><label class="expand" for="c-36181552">[2 more]</label></div><br/><div class="children"><div class="content">Ah, from ciechanow.ski, so upvoted instinctively. Only then I realised this is from 2022. Anyway, it&#x27;s nice to see this post again.</div><br/><div id="36183300" class="c"><input type="checkbox" id="c-36183300" checked=""/><div class="controls bullet"><span class="by">turkeytail</span><span>|</span><a href="#36181552">parent</a><span>|</span><a href="#36181611">next</a><span>|</span><label class="collapse" for="c-36183300">[-]</label><label class="expand" for="c-36183300">[1 more]</label></div><br/><div class="children"><div class="content">I was hoping this was new as well.</div><br/></div></div></div></div><div id="36181611" class="c"><input type="checkbox" id="c-36181611" checked=""/><div class="controls bullet"><span class="by">dan-robertson</span><span>|</span><a href="#36181552">prev</a><span>|</span><a href="#36183857">next</a><span>|</span><label class="collapse" for="c-36181611">[-]</label><label class="expand" for="c-36181611">[6 more]</label></div><br/><div class="children"><div class="content">See also: <a href="http:&#x2F;&#x2F;lea.hamradio.si&#x2F;~s53mv&#x2F;navsats&#x2F;theory.html" rel="nofollow">http:&#x2F;&#x2F;lea.hamradio.si&#x2F;~s53mv&#x2F;navsats&#x2F;theory.html</a></div><br/><div id="36182851" class="c"><input type="checkbox" id="c-36182851" checked=""/><div class="controls bullet"><span class="by">MarekKnapek</span><span>|</span><a href="#36181611">parent</a><span>|</span><a href="#36182438">next</a><span>|</span><label class="collapse" for="c-36182851">[-]</label><label class="expand" for="c-36182851">[4 more]</label></div><br/><div class="children"><div class="content">The article says that GLONASS time counts days from zero to 1461, then resets back to zero. This is 4 years if we think leap year is once 4 years. But it is not. Leap year is once 4 years, but each 100 years it is not, except each 400 years it is. This is on average 365.2425 days per year not 365.25 days per year. Is GLONASS not long term thinking ahead enough?</div><br/><div id="36182926" class="c"><input type="checkbox" id="c-36182926" checked=""/><div class="controls bullet"><span class="by">themerone</span><span>|</span><a href="#36181611">root</a><span>|</span><a href="#36182851">parent</a><span>|</span><a href="#36182438">next</a><span>|</span><label class="collapse" for="c-36182926">[-]</label><label class="expand" for="c-36182926">[3 more]</label></div><br/><div class="children"><div class="content">GLONASS also depends on leap seconds, which is why Russia is opposed to eliminating them by 2035.</div><br/><div id="36183703" class="c"><input type="checkbox" id="c-36183703" checked=""/><div class="controls bullet"><span class="by">sgtnoodle</span><span>|</span><a href="#36181611">root</a><span>|</span><a href="#36182926">parent</a><span>|</span><a href="#36182438">next</a><span>|</span><label class="collapse" for="c-36183703">[-]</label><label class="expand" for="c-36183703">[2 more]</label></div><br/><div class="children"><div class="content">Leap seconds are completely arbitrary by committee, aren&#x27;t they? I&#x27;m curious how there could be a technical dependency.</div><br/><div id="36184116" class="c"><input type="checkbox" id="c-36184116" checked=""/><div class="controls bullet"><span class="by">fanf2</span><span>|</span><a href="#36181611">root</a><span>|</span><a href="#36183703">parent</a><span>|</span><a href="#36182438">next</a><span>|</span><label class="collapse" for="c-36184116">[-]</label><label class="expand" for="c-36184116">[1 more]</label></div><br/><div class="children"><div class="content">* * *</div><br/></div></div></div></div></div></div></div></div><div id="36182438" class="c"><input type="checkbox" id="c-36182438" checked=""/><div class="controls bullet"><span class="by">tverbeure</span><span>|</span><a href="#36181611">parent</a><span>|</span><a href="#36182851">prev</a><span>|</span><a href="#36183857">next</a><span>|</span><label class="collapse" for="c-36182438">[-]</label><label class="expand" for="c-36182438">[1 more]</label></div><br/><div class="children"><div class="content">See also: <a href="http:&#x2F;&#x2F;www.aholme.co.uk&#x2F;GPS&#x2F;Main.htm" rel="nofollow">http:&#x2F;&#x2F;www.aholme.co.uk&#x2F;GPS&#x2F;Main.htm</a></div><br/></div></div></div></div><div id="36183857" class="c"><input type="checkbox" id="c-36183857" checked=""/><div class="controls bullet"><span class="by">IndigoIncognito</span><span>|</span><a href="#36181611">prev</a><span>|</span><a href="#36181879">next</a><span>|</span><label class="collapse" for="c-36183857">[-]</label><label class="expand" for="c-36183857">[2 more]</label></div><br/><div class="children"><div class="content">Correct me if I am wrong, but was this not a duplicate of a post (top of all time on HN)?
Aren&#x27;t duplicates not allowed</div><br/><div id="36183964" class="c"><input type="checkbox" id="c-36183964" checked=""/><div class="controls bullet"><span class="by">nameequalsmain</span><span>|</span><a href="#36183857">parent</a><span>|</span><a href="#36181879">next</a><span>|</span><label class="collapse" for="c-36183964">[-]</label><label class="expand" for="c-36183964">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Are reposts ok?<p>&gt; If a story has not had significant attention in the last year or so, a small number of reposts is ok. Otherwise we bury reposts as duplicates.<p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;newsfaq.html" rel="nofollow">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;newsfaq.html</a></div><br/></div></div></div></div><div id="36181879" class="c"><input type="checkbox" id="c-36181879" checked=""/><div class="controls bullet"><span class="by">matheusmoreira</span><span>|</span><a href="#36183857">prev</a><span>|</span><a href="#36181211">next</a><span>|</span><label class="collapse" for="c-36181879">[-]</label><label class="expand" for="c-36181879">[3 more]</label></div><br/><div class="children"><div class="content">Every article from this domain is a work of art.</div><br/><div id="36181943" class="c"><input type="checkbox" id="c-36181943" checked=""/><div class="controls bullet"><span class="by">heyoni</span><span>|</span><a href="#36181879">parent</a><span>|</span><a href="#36181211">next</a><span>|</span><label class="collapse" for="c-36181943">[-]</label><label class="expand" for="c-36181943">[2 more]</label></div><br/><div class="children"><div class="content">Ok good cause I saw how tiny my scroll bar got and was wondering if I should invest the time to read the whole thing!</div><br/><div id="36182284" class="c"><input type="checkbox" id="c-36182284" checked=""/><div class="controls bullet"><span class="by">matheusmoreira</span><span>|</span><a href="#36181879">root</a><span>|</span><a href="#36181943">parent</a><span>|</span><a href="#36181211">next</a><span>|</span><label class="collapse" for="c-36182284">[-]</label><label class="expand" for="c-36182284">[1 more]</label></div><br/><div class="children"><div class="content">You won&#x27;t be disappointed. Check out the archives for even more.<p><a href="https:&#x2F;&#x2F;ciechanow.ski&#x2F;archives&#x2F;" rel="nofollow">https:&#x2F;&#x2F;ciechanow.ski&#x2F;archives&#x2F;</a><p>I recommend the mechanical watch demonstration.</div><br/></div></div></div></div></div></div><div id="36181211" class="c"><input type="checkbox" id="c-36181211" checked=""/><div class="controls bullet"><span class="by">ajay-d</span><span>|</span><a href="#36181879">prev</a><span>|</span><a href="#36183107">next</a><span>|</span><label class="collapse" for="c-36181211">[-]</label><label class="expand" for="c-36181211">[2 more]</label></div><br/><div class="children"><div class="content">see 
<a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=29981188" rel="nofollow">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=29981188</a></div><br/><div id="36181603" class="c"><input type="checkbox" id="c-36181603" checked=""/><div class="controls bullet"><span class="by">dang</span><span>|</span><a href="#36181211">parent</a><span>|</span><a href="#36183107">next</a><span>|</span><label class="collapse" for="c-36181603">[-]</label><label class="expand" for="c-36181603">[1 more]</label></div><br/><div class="children"><div class="content">Thanks! Macroexpanded:<p><i>GPS</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=29981188" rel="nofollow">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=29981188</a> - Jan 2022 (285 comments)</div><br/></div></div></div></div><div id="36183107" class="c"><input type="checkbox" id="c-36183107" checked=""/><div class="controls bullet"><span class="by">userbinator</span><span>|</span><a href="#36181211">prev</a><span>|</span><a href="#36181766">next</a><span>|</span><label class="collapse" for="c-36183107">[-]</label><label class="expand" for="c-36183107">[1 more]</label></div><br/><div class="children"><div class="content">Once you understand the theory, you can look at this for actual code and calculations on received GPS data: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=35550339" rel="nofollow">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=35550339</a></div><br/></div></div><div id="36181766" class="c"><input type="checkbox" id="c-36181766" checked=""/><div class="controls bullet"><span class="by">as4296</span><span>|</span><a href="#36183107">prev</a><span>|</span><a href="#36182408">next</a><span>|</span><label class="collapse" for="c-36181766">[-]</label><label class="expand" for="c-36181766">[1 more]</label></div><br/><div class="children"><div class="content">This is so crazy, never even realized how complex location tracking is...</div><br/></div></div><div id="36182408" class="c"><input type="checkbox" id="c-36182408" checked=""/><div class="controls bullet"><span class="by">User23</span><span>|</span><a href="#36181766">prev</a><span>|</span><label class="collapse" for="c-36182408">[-]</label><label class="expand" for="c-36182408">[8 more]</label></div><br/><div class="children"><div class="content">GPS satellites don’t correct for relativistic effects. They just set the Earth as the preferred frame, which is a great choice for a terrestrial positioning system.<p>I’ll see if I can find the paper it’s quite interesting.<p>Edit: I can&#x27;t find the specific paper I&#x27;m thinking of. It&#x27;s one that discusses how when other orbiting bodies want to use GPS they have to make a bunch of complex corrections that terrestrial users don&#x27;t. But a search for Earth Centerered Inertial Frame will find you plenty of papers discussing the general concept.</div><br/><div id="36183621" class="c"><input type="checkbox" id="c-36183621" checked=""/><div class="controls bullet"><span class="by">fsh</span><span>|</span><a href="#36182408">parent</a><span>|</span><a href="#36182853">next</a><span>|</span><label class="collapse" for="c-36183621">[-]</label><label class="expand" for="c-36183621">[1 more]</label></div><br/><div class="children"><div class="content">GPS satellites don&#x27;t compensate for relativistic effects (except for the huge offset built into their atomic clocks), but receivers certainly do. The satellite orbits are slightly elliptical which leads to varying gravitational time dilation. If this is not taken into account, positioning is off by around 10 m [1]. This is an effect from general relativity, so it might be left out in simple textbook explanations.<p>[1] <a href="https:&#x2F;&#x2F;gssc.esa.int&#x2F;navipedia&#x2F;index.php&#x2F;Relativistic_Clock_Correction" rel="nofollow">https:&#x2F;&#x2F;gssc.esa.int&#x2F;navipedia&#x2F;index.php&#x2F;Relativistic_Clock_...</a></div><br/></div></div><div id="36182853" class="c"><input type="checkbox" id="c-36182853" checked=""/><div class="controls bullet"><span class="by">rzimmerman</span><span>|</span><a href="#36182408">parent</a><span>|</span><a href="#36183621">prev</a><span>|</span><a href="#36182778">next</a><span>|</span><label class="collapse" for="c-36182853">[-]</label><label class="expand" for="c-36182853">[1 more]</label></div><br/><div class="children"><div class="content">I believe there is a correction for the onboard satellite atomic clocks, which run faster than ground&#x2F;ECI clocks due to a combination of special and general relativistic effects. The correction is a simple one - they just calibrate the clock with a small polynomial. IIRC nothing but the linear and constant terms are even required or used.</div><br/></div></div><div id="36182778" class="c"><input type="checkbox" id="c-36182778" checked=""/><div class="controls bullet"><span class="by">sillysaurusx</span><span>|</span><a href="#36182408">parent</a><span>|</span><a href="#36182853">prev</a><span>|</span><label class="collapse" for="c-36182778">[-]</label><label class="expand" for="c-36182778">[5 more]</label></div><br/><div class="children"><div class="content">If you do run across the paper, please post it. It sounds quite interesting.</div><br/><div id="36183523" class="c"><input type="checkbox" id="c-36183523" checked=""/><div class="controls bullet"><span class="by">OldGuyInTheClub</span><span>|</span><a href="#36182408">root</a><span>|</span><a href="#36182778">parent</a><span>|</span><label class="collapse" for="c-36183523">[-]</label><label class="expand" for="c-36183523">[4 more]</label></div><br/><div class="children"><div class="content">&quot;Relativity in the Global Positioning System&quot; by Neil Ashby of the University of Colorado is excellent.  Chapter 6 discusses relativistic corrections for satellites using GPS.<p>Living Rev. Relativity, 6, (2003), 1<p><a href="https:&#x2F;&#x2F;link.springer.com&#x2F;content&#x2F;pdf&#x2F;10.12942&#x2F;lrr-2003-1.pdf" rel="nofollow">https:&#x2F;&#x2F;link.springer.com&#x2F;content&#x2F;pdf&#x2F;10.12942&#x2F;lrr-2003-1.pd...</a><p>Ashby knows whereof he speaks.  He is credited with properly accounting for general relativistic effects in what is now the GPS constellation.<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Neil_Ashby" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Neil_Ashby</a></div><br/><div id="36183801" class="c"><input type="checkbox" id="c-36183801" checked=""/><div class="controls bullet"><span class="by">cornflake23</span><span>|</span><a href="#36182408">root</a><span>|</span><a href="#36183523">parent</a><span>|</span><label class="collapse" for="c-36183801">[-]</label><label class="expand" for="c-36183801">[3 more]</label></div><br/><div class="children"><div class="content">This is a fantastic reference! Thank you!<p>Quote from the paper:
“Relativistic principles and effects which must be considered include the constancy of the speed of light, the equivalence principle, the Sagnac effect, time dilation, gravitational frequency shifts, and relativity of synchronization.“<p>So many factors to unpack yet the solution is right there.</div><br/><div id="36184091" class="c"><input type="checkbox" id="c-36184091" checked=""/><div class="controls bullet"><span class="by">defrost</span><span>|</span><a href="#36182408">root</a><span>|</span><a href="#36183801">parent</a><span>|</span><a href="#36183819">next</a><span>|</span><label class="collapse" for="c-36184091">[-]</label><label class="expand" for="c-36184091">[1 more]</label></div><br/><div class="children"><div class="content">Interestingly while all those points factor in it would be possible to have a working GPS system <i>without</i> &quot;understanding&quot; the error or having any grasp of relativity.<p>To expand on that, consider if the satellites went up (with ideas of basic triangulation from beacons orbiting) and then the drifting error for a supposedly fixed ground position was noticed what could be done?<p>The &#x27;unknown cause&#x27; error function over time twixt fixed position and uncorrected GPS calculation can be fed into a Kalman filter to derive weights that eliminate the error.<p>Typically what happens in many instrumentation applications is models are created to derive functions to emit answers, errors are noticed, people think hard to add extra terms to account for errors and eventually either all errors are accounted for or some residual &#x27;wobble&#x27; remains which can be smoothed away by an adaptive error model.<p>To this day in high precision GPS applications post processing runs are used to improve accuracy that account for relativity factors, atmospheric twinkle factors, (other factors I&#x27;d have to look up), and still there&#x27;s a bit or error left over that can be sweep away (for a time) with a Kalman filter.</div><br/></div></div><div id="36183819" class="c"><input type="checkbox" id="c-36183819" checked=""/><div class="controls bullet"><span class="by">OldGuyInTheClub</span><span>|</span><a href="#36182408">root</a><span>|</span><a href="#36183801">parent</a><span>|</span><a href="#36184091">prev</a><span>|</span><label class="collapse" for="c-36183819">[-]</label><label class="expand" for="c-36183819">[1 more]</label></div><br/><div class="children"><div class="content">You&#x27;re very welcome.  I revisit it periodically and understand a little more each time.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></body></html>