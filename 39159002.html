<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1706432456069" as="style"/><link rel="stylesheet" href="styles.css?v=1706432456069"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.scmagazine.com/news/gitlab-password-reset-bug-leaves-more-than-5-3k-servers-up-for-grabs">Gitlab password reset bug leaves more than 5.3K servers up for grabs</a> <span class="domain">(<a href="https://www.scmagazine.com">www.scmagazine.com</a>)</span></div><div class="subtext"><span>LinuxBender</span> | <span>106 comments</span></div><br/><div><div id="39159221" class="c"><input type="checkbox" id="c-39159221" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#39159805">next</a><span>|</span><label class="collapse" for="c-39159221">[-]</label><label class="expand" for="c-39159221">[74 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t know the history of this bug but just want to chime in with a word about how absolutely terrifying the &quot;associate email address with account&quot; feature in account-based web apps is. Which, I guess that&#x27;s my word: terrifying, one of the things pentesters make a beeline to mess with, with a vulnerability history stretching all the way back to the early 2000s when these features were often implemented on standard Unix MTAs that could be tricked into sending password resets to multiple addresses at once, an attack featureful web frameworks seem to have resurrected in Gitlab.<p>If you&#x27;re a normal HN reader that found themselves interested in this story, go check your password reset feature, specifically the email association logic!<p>Gitlab has, as I understand it, a pretty excellent security team, which gives some sense of how hard this bug class is to avoid.</div><br/><div id="39160864" class="c"><input type="checkbox" id="c-39160864" checked=""/><div class="controls bullet"><span class="by">ndriscoll</span><span>|</span><a href="#39159221">parent</a><span>|</span><a href="#39159809">next</a><span>|</span><label class="collapse" for="c-39160864">[-]</label><label class="expand" for="c-39160864">[18 more]</label></div><br/><div class="children"><div class="content">&gt; Gitlab has, as I understand it, a pretty excellent security team, which gives some sense of how hard this bug class is to avoid.<p>Based on the other comment that describes how this bug works, it is completely trivial to avoid. If you use a statically typed language, you&#x27;d have to go out of your way to create this bug, and it&#x27;d stand out like a sore thumb in code review, to the extent that if I saw that I might wonder whether my coworker is actively trying to create a backdoor.</div><br/><div id="39160922" class="c"><input type="checkbox" id="c-39160922" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39160864">parent</a><span>|</span><a href="#39159809">next</a><span>|</span><label class="collapse" for="c-39160922">[-]</label><label class="expand" for="c-39160922">[17 more]</label></div><br/><div class="children"><div class="content">&quot;This bug is completely trivial to avoid. Just rewrite your whole product in a different language&quot;.</div><br/><div id="39160979" class="c"><input type="checkbox" id="c-39160979" checked=""/><div class="controls bullet"><span class="by">ndriscoll</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39160922">parent</a><span>|</span><a href="#39159809">next</a><span>|</span><label class="collapse" for="c-39160979">[-]</label><label class="expand" for="c-39160979">[16 more]</label></div><br/><div class="children"><div class="content">The suggestion would more be to choose the correct technology from the start. Something like Scala is 20 years old, has a massive library ecosystem since it integrates with Java, and has type inference so it basically feels like a dynamically typed language, except bugs like this can&#x27;t happen. It&#x27;s also high performance thanks to the JVM. I don&#x27;t know what it was like when Gitlab launched in 2014, but I know it was very solid in 2017 when I started using it. Or if that feels too hipster&#x2F;niche, just use Java. It&#x27;s not my cup of tea, but it&#x27;s boring, practical, and the developer pool is infinite.</div><br/><div id="39163354" class="c"><input type="checkbox" id="c-39163354" checked=""/><div class="controls bullet"><span class="by">kelnos</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39160979">parent</a><span>|</span><a href="#39161069">next</a><span>|</span><label class="collapse" for="c-39163354">[-]</label><label class="expand" for="c-39163354">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve written a lot of Scala, and really like the language (well, aside from them not ditching null and exceptions entirely), but years ago I stopped recommending it for new projects, especially in a corporate setting.  It&#x27;s hard to hire experienced Scala developers, and most Java developers I&#x27;ve worked with were either completely uninterested in writing Scala at all, or didn&#x27;t care to learn the language well enough to actually make use of its better features, and somehow ended up writing Scala that looked like worse Java than the Java they&#x27;d usually write.</div><br/></div></div><div id="39161069" class="c"><input type="checkbox" id="c-39161069" checked=""/><div class="controls bullet"><span class="by">simonw</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39160979">parent</a><span>|</span><a href="#39163354">prev</a><span>|</span><a href="#39159809">next</a><span>|</span><label class="collapse" for="c-39161069">[-]</label><label class="expand" for="c-39161069">[14 more]</label></div><br/><div class="children"><div class="content">You understand that&#x27;s not exactly actionable or helpful advice, right?</div><br/><div id="39161133" class="c"><input type="checkbox" id="c-39161133" checked=""/><div class="controls bullet"><span class="by">ndriscoll</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39161069">parent</a><span>|</span><a href="#39159809">next</a><span>|</span><label class="collapse" for="c-39161133">[-]</label><label class="expand" for="c-39161133">[13 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not actionable for Gitlab, but it&#x27;s actionable for anyone weighing what technologies they should use for future projects. Use one that doesn&#x27;t open you to this kind of mistake, and ignore people who talk about &quot;productivity&quot; because that&#x27;s going to be people arguing about their gut feelings anyway, and everyone will say their chosen stack is more productive.<p>Something like Java is going to have the largest hiring pool, the largest ecosystem, and support from every major vendor. I don&#x27;t particularly like it and think that Scala is pretty much a straight upgrade, but Java&#x27;s a smart choice.</div><br/><div id="39161158" class="c"><input type="checkbox" id="c-39161158" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39161133">parent</a><span>|</span><a href="#39162900">next</a><span>|</span><label class="collapse" for="c-39161158">[-]</label><label class="expand" for="c-39161158">[11 more]</label></div><br/><div class="children"><div class="content">You get that the track record of Java and Java frameworks on web vulnerabilities is pretty abysmal, right? There&#x27;s a whole gigantic RCE bug class (RCE! in the 2020s!) that originates there.<p>My general take is: glass houses, etc. And: everybody is in a glass house.</div><br/><div id="39161403" class="c"><input type="checkbox" id="c-39161403" checked=""/><div class="controls bullet"><span class="by">ndriscoll</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39161158">parent</a><span>|</span><a href="#39162900">next</a><span>|</span><label class="collapse" for="c-39161403">[-]</label><label class="expand" for="c-39161403">[10 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not sure what you mean with the bug class; Java serialization? If so I think that&#x27;s been something where common advice is not to use it for 20+ years.<p>Maybe Spring has had issues. Like I said I don&#x27;t actually like Java and all the annotation stuff. I avoid it, but it&#x27;s still going to be one of the more robust choices you can make since every major enterprise uses it. Java had log4shell, which was pretty bad, and probably wouldn&#x27;t have happened if Java had had string macros. It&#x27;s one of the reasons why Scala is a better language: people use things like compile time macros which prevents those sorts of mistakes. It looks like akka-http for example has only had DoS vulnerabilities (e.g. getting zip bombed) + some niche stuff like request smuggling if you used it to build a reverse proxy or usage of directory listing on Windows.<p>That said, sure, large frameworks all have bugs. But not being able to tell whether you are dealing with a string or an array in your business logic is just silly.</div><br/><div id="39161441" class="c"><input type="checkbox" id="c-39161441" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39161403">parent</a><span>|</span><a href="#39162900">next</a><span>|</span><label class="collapse" for="c-39161441">[-]</label><label class="expand" for="c-39161441">[9 more]</label></div><br/><div class="children"><div class="content">If you like Java, use Java. Don&#x27;t worry about people pointing out how gnarly the security track record is; the security track record of every popular thing is gnarly. I&#x27;m not here to tell you what framework to use, only that empirically, you&#x27;re not going to improve your odds significantly by choosing a different mainstream framework.</div><br/><div id="39161552" class="c"><input type="checkbox" id="c-39161552" checked=""/><div class="controls bullet"><span class="by">ndriscoll</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39161441">parent</a><span>|</span><a href="#39162900">next</a><span>|</span><label class="collapse" for="c-39161552">[-]</label><label class="expand" for="c-39161552">[8 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t like Java and I don&#x27;t consider jobs where I&#x27;d be doing a nontrivial amount of Java. But the original comment I replied to said this class of bug is hard to avoid, and it&#x27;s not. Use any statically typed language, and it can&#x27;t happen. Java&#x27;s the obvious choice. C# is probably fine too.<p>Same with something like SQL injection or log4shell. These are also preventable using string formatting macros. If `DatabaseConnection.run` takes a `SqlQuery`, not a `String`, and you can only make a `SqlQuery` through a safe API, and your escape hatch is a macro that does query parameterization instead of string substitution, then your users can&#x27;t get it wrong. This is how Scala libraries actually work and have worked for years. Similarly if you build your logging library to take MDC objects that are built with format macros. These are solved problems.</div><br/><div id="39161594" class="c"><input type="checkbox" id="c-39161594" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39161552">parent</a><span>|</span><a href="#39162900">next</a><span>|</span><label class="collapse" for="c-39161594">[-]</label><label class="expand" for="c-39161594">[7 more]</label></div><br/><div class="children"><div class="content">This is a logic bug, not a typing bug. One clear way you know this is: this bug occurs in both Java and C# applications, routinely. But that&#x27;s OK! I&#x27;m not going to dunk on you for using C#, even though it is practically the ground spring from which all web app vulnerabilities have emerged (you&#x27;d think it&#x27;d be PHP, but C# has a better claim to the title).</div><br/><div id="39161973" class="c"><input type="checkbox" id="c-39161973" checked=""/><div class="controls bullet"><span class="by">ndriscoll</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39161594">parent</a><span>|</span><a href="#39161696">next</a><span>|</span><label class="collapse" for="c-39161973">[-]</label><label class="expand" for="c-39161973">[3 more]</label></div><br/><div class="children"><div class="content">Typing bugs are just logic bugs that you were able to encode into the type system, and therefore the checker is able to reject for you. Types are propositions and values are proofs. This is not just an academic fact; my SqlQuery example is a direct practical application.</div><br/><div id="39161985" class="c"><input type="checkbox" id="c-39161985" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39161973">parent</a><span>|</span><a href="#39161696">next</a><span>|</span><label class="collapse" for="c-39161985">[-]</label><label class="expand" for="c-39161985">[2 more]</label></div><br/><div class="children"><div class="content">The claim here being that C# and Java apps rarely have SQL injection vulnerabilities?</div><br/><div id="39162255" class="c"><input type="checkbox" id="c-39162255" checked=""/><div class="controls bullet"><span class="by">ndriscoll</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39161985">parent</a><span>|</span><a href="#39161696">next</a><span>|</span><label class="collapse" for="c-39162255">[-]</label><label class="expand" for="c-39162255">[1 more]</label></div><br/><div class="children"><div class="content">The claims being SQL injection is a problem with a known solution, that Scala does it right, and that it&#x27;s an example of turning logic errors into type errors.</div><br/></div></div></div></div></div></div><div id="39161696" class="c"><input type="checkbox" id="c-39161696" checked=""/><div class="controls bullet"><span class="by">neonsunset</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39161594">parent</a><span>|</span><a href="#39161973">prev</a><span>|</span><a href="#39162900">next</a><span>|</span><label class="collapse" for="c-39161696">[-]</label><label class="expand" for="c-39161696">[3 more]</label></div><br/><div class="children"><div class="content">Can you show examples of such bug in these two languages? (I&#x27;m in particular interested in how it could manifest with EF Core)</div><br/><div id="39161721" class="c"><input type="checkbox" id="c-39161721" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39161696">parent</a><span>|</span><a href="#39162900">next</a><span>|</span><label class="collapse" for="c-39161721">[-]</label><label class="expand" for="c-39161721">[2 more]</label></div><br/><div class="children"><div class="content">Right now I&#x27;ll just say that from 2005-2015, Java and C# applications were literally the bread and butter of every application security shop (house accounts for web appsec firms were Fortune 100 companies that built all their line of business apps in those two languages), and password reset bugs wereo one of the first place you&#x27;d look. I think I even included password reset in a &quot;Seven Deadly Features&quot; blog post I wrote at Matasano.<p>None of that is a reason to avoid C#! I&#x27;m not trying to say that using the two most fertile sources of web application security vulnerabilities over the last 20 years is per se a bad decision!</div><br/><div id="39162273" class="c"><input type="checkbox" id="c-39162273" checked=""/><div class="controls bullet"><span class="by">blackoil</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39161721">parent</a><span>|</span><a href="#39162900">next</a><span>|</span><label class="collapse" for="c-39162273">[-]</label><label class="expand" for="c-39162273">[1 more]</label></div><br/><div class="children"><div class="content">&gt; that from 2005-2015, Java and C# applications were literally the bread and butter of every application security sho<p>That is because that is what enterprise uses, I don&#x27;t think it would have changed a lot now.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="39162900" class="c"><input type="checkbox" id="c-39162900" checked=""/><div class="controls bullet"><span class="by">dheera</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39161133">parent</a><span>|</span><a href="#39161158">prev</a><span>|</span><a href="#39159809">next</a><span>|</span><label class="collapse" for="c-39162900">[-]</label><label class="expand" for="c-39162900">[1 more]</label></div><br/><div class="children"><div class="content">Almost every technology today is the wrong choice if you look at it from the perspective of 20 years from now.<p>When Facebook was founded there weren&#x27;t actually many good alternatives to PHP.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="39159809" class="c"><input type="checkbox" id="c-39159809" checked=""/><div class="controls bullet"><span class="by">amatecha</span><span>|</span><a href="#39159221">parent</a><span>|</span><a href="#39160864">prev</a><span>|</span><a href="#39161738">next</a><span>|</span><label class="collapse" for="c-39159809">[-]</label><label class="expand" for="c-39159809">[9 more]</label></div><br/><div class="children"><div class="content">Yeah, every single time I get a spurious password reset email (presumably from someone trying to hijack my account), I&#x27;m worried they&#x27;ve somehow managed to add an unauthorized recovery email address outside of my control.  It hasn&#x27;t yet happened to me, but as we can see from this story, it is absolutely possible unfortunately.</div><br/><div id="39160052" class="c"><input type="checkbox" id="c-39160052" checked=""/><div class="controls bullet"><span class="by">andix</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39159809">parent</a><span>|</span><a href="#39160504">next</a><span>|</span><label class="collapse" for="c-39160052">[-]</label><label class="expand" for="c-39160052">[5 more]</label></div><br/><div class="children"><div class="content">I can&#x27;t remember getting something like that. Maybe because I use a different e-mail address for signing up to services than for regular communication.<p>I just had an idea, maybe using a + alias (yourname+some-alias-address@example.com, made famous by gmail) could help against attackers. Even if they find out your email they will never guess the part after the plus. If you forget it though then you can&#x27;t reset your password anymore either.</div><br/><div id="39160874" class="c"><input type="checkbox" id="c-39160874" checked=""/><div class="controls bullet"><span class="by">starttoaster</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39160052">parent</a><span>|</span><a href="#39162986">next</a><span>|</span><label class="collapse" for="c-39160874">[-]</label><label class="expand" for="c-39160874">[1 more]</label></div><br/><div class="children"><div class="content">&gt; If you forget it though then you can&#x27;t reset your password anymore either.<p>If you struggle with memorizing your username&#x2F;email, there&#x27;s a near zero chance you&#x27;re using a password manager, which also means there&#x27;s a near zero chance you&#x27;re using decent passwords for your logins, in my experience.</div><br/></div></div><div id="39162986" class="c"><input type="checkbox" id="c-39162986" checked=""/><div class="controls bullet"><span class="by">hansvm</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39160052">parent</a><span>|</span><a href="#39160874">prev</a><span>|</span><a href="#39163007">next</a><span>|</span><label class="collapse" for="c-39162986">[-]</label><label class="expand" for="c-39162986">[1 more]</label></div><br/><div class="children"><div class="content">Or it could open you up to other attacks when the service coalesces all those emails to one canonical example (to uniquely identify you or whatever -- note that almost no online service recognizes the importance of caps in the email address you use as a username for example, where the underlying email provider sometimes does) but does so differently than the actual email service, allowing anyone and their dog to create an email which will collide with yours.</div><br/></div></div><div id="39163007" class="c"><input type="checkbox" id="c-39163007" checked=""/><div class="controls bullet"><span class="by">TylerE</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39160052">parent</a><span>|</span><a href="#39162986">prev</a><span>|</span><a href="#39160605">next</a><span>|</span><label class="collapse" for="c-39163007">[-]</label><label class="expand" for="c-39163007">[1 more]</label></div><br/><div class="children"><div class="content">Actually, I find the gmail features the opposite of helpful, because websites aren’t aware of them, and will happily treat as unique addresses using them, that in fact aren’t. I have my username @ gmail (since very early days, when you needed an invite). At least once a week I get somebodies receipt of confirmation because they enter an email like tyler.e@</div><br/></div></div></div></div><div id="39160504" class="c"><input type="checkbox" id="c-39160504" checked=""/><div class="controls bullet"><span class="by">kazinator</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39159809">parent</a><span>|</span><a href="#39160052">prev</a><span>|</span><a href="#39160493">next</a><span>|</span><label class="collapse" for="c-39160504">[-]</label><label class="expand" for="c-39160504">[2 more]</label></div><br/><div class="children"><div class="content">If they hijacked the domain, so that they control the MX record for it, they could just use <i>that</i> very address.</div><br/><div id="39161892" class="c"><input type="checkbox" id="c-39161892" checked=""/><div class="controls bullet"><span class="by">kazinator</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39160504">parent</a><span>|</span><a href="#39160493">next</a><span>|</span><label class="collapse" for="c-39161892">[-]</label><label class="expand" for="c-39161892">[1 more]</label></div><br/><div class="children"><div class="content">This could happen when the owner of a domain loses or drops it, and a bad actor picks it up.<p>All they have to do is set up a SMTP server and wait for junk mails, thereby learning about the e-mail addresses. Say Walmart sends some flyer. Poof, they have that user&#x27;s e-mail, and the fact they are registered with Walmart.</div><br/></div></div></div></div><div id="39160493" class="c"><input type="checkbox" id="c-39160493" checked=""/><div class="controls bullet"><span class="by">thebruce87m</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39159809">parent</a><span>|</span><a href="#39160504">prev</a><span>|</span><a href="#39161738">next</a><span>|</span><label class="collapse" for="c-39160493">[-]</label><label class="expand" for="c-39160493">[1 more]</label></div><br/><div class="children"><div class="content">Sometimes mine come in Spanish. I don’t speak Spanish.</div><br/></div></div></div></div><div id="39161738" class="c"><input type="checkbox" id="c-39161738" checked=""/><div class="controls bullet"><span class="by">Rapzid</span><span>|</span><a href="#39159221">parent</a><span>|</span><a href="#39159809">prev</a><span>|</span><a href="#39159363">next</a><span>|</span><label class="collapse" for="c-39161738">[-]</label><label class="expand" for="c-39161738">[5 more]</label></div><br/><div class="children"><div class="content">&gt; Gitlab has, as I understand it, a pretty excellent security team, which gives some sense of how hard this bug class is to avoid.<p>I disagree. It&#x27;s a bonehead mistake to send password resets out to tainted email addresses. As this was an authentication change it should have received extra scrutiny and so have been even harder to introduce.<p>Something is wrong with their engineering culture that needs correcting.</div><br/><div id="39161753" class="c"><input type="checkbox" id="c-39161753" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39161738">parent</a><span>|</span><a href="#39159363">next</a><span>|</span><label class="collapse" for="c-39161753">[-]</label><label class="expand" for="c-39161753">[4 more]</label></div><br/><div class="children"><div class="content">Every time we get a story about a vulnerability, we get comments about how they&#x27;re indications that engineering cultures need correcting. All I&#x27;ll say is, the impression one gets is that every engineering culture needs correcting. I buy it!</div><br/><div id="39163008" class="c"><input type="checkbox" id="c-39163008" checked=""/><div class="controls bullet"><span class="by">TylerE</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39161753">parent</a><span>|</span><a href="#39161849">next</a><span>|</span><label class="collapse" for="c-39163008">[-]</label><label class="expand" for="c-39163008">[2 more]</label></div><br/><div class="children"><div class="content">From my experience people say “engineering culture” when what they actually mean management culture. It’s not typically the engineers that are the problem.</div><br/><div id="39163418" class="c"><input type="checkbox" id="c-39163418" checked=""/><div class="controls bullet"><span class="by">Rapzid</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39163008">parent</a><span>|</span><a href="#39161849">next</a><span>|</span><label class="collapse" for="c-39163418">[-]</label><label class="expand" for="c-39163418">[1 more]</label></div><br/><div class="children"><div class="content">What&#x27;s the difference.<p>That&#x27;s a statement.</div><br/></div></div></div></div><div id="39161849" class="c"><input type="checkbox" id="c-39161849" checked=""/><div class="controls bullet"><span class="by">Rapzid</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39161753">parent</a><span>|</span><a href="#39163008">prev</a><span>|</span><a href="#39159363">next</a><span>|</span><label class="collapse" for="c-39161849">[-]</label><label class="expand" for="c-39161849">[1 more]</label></div><br/><div class="children"><div class="content">Sure, but some corrections are more urgent than others.<p>Such as that time they deleted the prod database.</div><br/></div></div></div></div></div></div><div id="39159363" class="c"><input type="checkbox" id="c-39159363" checked=""/><div class="controls bullet"><span class="by">Sleaker</span><span>|</span><a href="#39159221">parent</a><span>|</span><a href="#39161738">prev</a><span>|</span><a href="#39159309">next</a><span>|</span><label class="collapse" for="c-39159363">[-]</label><label class="expand" for="c-39159363">[9 more]</label></div><br/><div class="children"><div class="content">It doesn&#x27;t sound like they have a great security team, they added the &quot;Associate a secondary email address&quot; feature recently. This isn&#x27;t something that has always been in the software.  It seems more like they were cutting corners and not properly testing through ways to exploit their own new feature when it was related to account security.<p>On top of that it looks like they had a 9.6 CVE that allowed integrations to perform commands as other users...<p>From the outside it looks like they are trying to ship features faster than they can keep them safe and tested. Perhaps because they are having an incredibly difficult time monetizing well? It makes sense from business standpoint in some respects, but also the security stuff could just absolutely tank the business when the whole point of a (self)hosted git solution is essentially just account management.</div><br/><div id="39159447" class="c"><input type="checkbox" id="c-39159447" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39159363">parent</a><span>|</span><a href="#39163021">next</a><span>|</span><label class="collapse" for="c-39159447">[-]</label><label class="expand" for="c-39159447">[2 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t put much stock in this &quot;9.6&quot; stuff; CVSS is a ouija board that will say whatever people want it to say. But regardless: the best security teams in the world still see critical vulnerabilities in their software, because software is all garbage.</div><br/><div id="39160464" class="c"><input type="checkbox" id="c-39160464" checked=""/><div class="controls bullet"><span class="by">EdwardDiego</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39159447">parent</a><span>|</span><a href="#39163021">next</a><span>|</span><label class="collapse" for="c-39160464">[-]</label><label class="expand" for="c-39160464">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve recently stopped two design choices in external facing resources that posed significant security risks.<p>One of which was around credentials resetting to emails that aren&#x27;t stored in the API auth system itself, but rather come into Salesforce as a support case. &quot;Don&#x27;t worry, a support team member has to action the request&quot; was meant to be reassuring, until I explained that this translated to &quot;the only mechanism in place to prevent credentials being stolen comes with a massive social engineering vulnerability&quot;.<p>But it&#x27;s the previous choices I haven&#x27;t come across yet that worry me.</div><br/></div></div></div></div><div id="39163021" class="c"><input type="checkbox" id="c-39163021" checked=""/><div class="controls bullet"><span class="by">bogota</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39159363">parent</a><span>|</span><a href="#39159447">prev</a><span>|</span><a href="#39159923">next</a><span>|</span><label class="collapse" for="c-39163021">[-]</label><label class="expand" for="c-39163021">[1 more]</label></div><br/><div class="children"><div class="content">All i needed to know about the quality of software gitlab ships can be found in using their CI system on any half decent size project. You can tell it was half baked with many bugs and edge cases that can be easily avoided. When you look at the bug tracker all of them have been documented for years and they just ignore them.<p>My favorites are<p>* using included files that run no job is a failure. The only real work around is adding a noop job all over your ci system.<p>* try to use code reviewers based on groups. The logic is so complex and full of errors i can’t even explain it unless i spend an hour reading the docs.<p>* when using the merge train and enabling merge result pipelines you end up with two different jobs per commit. This is cool except in the UI it always shows merge results first. If you have ten commits you need to look on the second page to find the most recent commits ci jobs. That is just annoying but more no environment variables overlap for what MR or commit it is. This makes doing trivial things like implementing break glass pipless almost impossible.<p>Anyway gitlab sucks i wanted to not use github but really it’s just bad. Not to mention we have outages monthly that we always know of 30 minutes to an hour before gitlab does then we look on the status page and see the downtime is 10 minutes when its been 40 for us and likely everyone else. We have in the last year had close to 2 full days combined of downtime from gitlab. Of course they report 99.95% uptime.</div><br/></div></div><div id="39159923" class="c"><input type="checkbox" id="c-39159923" checked=""/><div class="controls bullet"><span class="by">blibble</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39159363">parent</a><span>|</span><a href="#39163021">prev</a><span>|</span><a href="#39160806">next</a><span>|</span><label class="collapse" for="c-39159923">[-]</label><label class="expand" for="c-39159923">[4 more]</label></div><br/><div class="children"><div class="content">&gt; From the outside it looks like they are trying to ship features faster than they can keep them safe and tested.<p>this sums up their entire product<p>every feature you could possibly imagine, somewhat working</div><br/><div id="39160012" class="c"><input type="checkbox" id="c-39160012" checked=""/><div class="controls bullet"><span class="by">EduardoBautista</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39159923">parent</a><span>|</span><a href="#39160070">next</a><span>|</span><label class="collapse" for="c-39160012">[-]</label><label class="expand" for="c-39160012">[2 more]</label></div><br/><div class="children"><div class="content">A few years ago there would be people defending GitLab for “transparency” every time something went wrong.<p>They even went overboard with the transparency and made public some slack conversations which for me would have made it one of the worst places to work.</div><br/><div id="39161181" class="c"><input type="checkbox" id="c-39161181" checked=""/><div class="controls bullet"><span class="by">ipaddr</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39160012">parent</a><span>|</span><a href="#39160070">next</a><span>|</span><label class="collapse" for="c-39161181">[-]</label><label class="expand" for="c-39161181">[1 more]</label></div><br/><div class="children"><div class="content">They moved on to kagi</div><br/></div></div></div></div><div id="39160070" class="c"><input type="checkbox" id="c-39160070" checked=""/><div class="controls bullet"><span class="by">ljm</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39159923">parent</a><span>|</span><a href="#39160012">prev</a><span>|</span><a href="#39160806">next</a><span>|</span><label class="collapse" for="c-39160070">[-]</label><label class="expand" for="c-39160070">[1 more]</label></div><br/><div class="children"><div class="content">Every time I end up opening a gitlab page I wonder how they’ve redesigned their nav again. Seems to be a new design every 6 months.</div><br/></div></div></div></div><div id="39160806" class="c"><input type="checkbox" id="c-39160806" checked=""/><div class="controls bullet"><span class="by">zeroxfe</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39159363">parent</a><span>|</span><a href="#39159923">prev</a><span>|</span><a href="#39159309">next</a><span>|</span><label class="collapse" for="c-39160806">[-]</label><label class="expand" for="c-39160806">[1 more]</label></div><br/><div class="children"><div class="content">&gt; It doesn&#x27;t sound like they have a great security team<p>That&#x27;s an unfair comment. Even the best teams ship bugs. If you want to measure the quality of a security team, you look at their performance trajectory (for both detection and response) relative to the size of their total threat surface.</div><br/></div></div></div></div><div id="39159309" class="c"><input type="checkbox" id="c-39159309" checked=""/><div class="controls bullet"><span class="by">j-bos</span><span>|</span><a href="#39159221">parent</a><span>|</span><a href="#39159363">prev</a><span>|</span><a href="#39160454">next</a><span>|</span><label class="collapse" for="c-39159309">[-]</label><label class="expand" for="c-39159309">[25 more]</label></div><br/><div class="children"><div class="content">How does this exploit work? Or do you have a link to a rundown of it?</div><br/><div id="39159337" class="c"><input type="checkbox" id="c-39159337" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39159309">parent</a><span>|</span><a href="#39160454">next</a><span>|</span><label class="collapse" for="c-39159337">[-]</label><label class="expand" for="c-39159337">[24 more]</label></div><br/><div class="children"><div class="content">I&#x27;m guessing here, because I only read a high-level description of it, but I think it&#x27;s a password reset flow endpoint that takes the email address to look up and send a reset to, and the framework will accept an array instead of a simple string; the endpoint looks up the first address, but the variable used to determine who to send the reset mail to is the array. Again: just a guess as to the underlying bug (I&#x27;ve seen that specific bug before is why I guessed).</div><br/><div id="39159481" class="c"><input type="checkbox" id="c-39159481" checked=""/><div class="controls bullet"><span class="by">nightpool</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39159337">parent</a><span>|</span><a href="#39160248">next</a><span>|</span><label class="collapse" for="c-39159481">[-]</label><label class="expand" for="c-39159481">[16 more]</label></div><br/><div class="children"><div class="content">This is correct:<p><pre><code>    The vulnerability lies in the management of emails when resetting passwords. An attacker can provide 2 emails and the reset code will be sent to both. It is therefore possible to provide the e-mail address of the target account as well as that of the attacker, and to reset the administrator password.
    
    Here&#x27;s an example payload:
    
    user[email][]=my.target@example.com&amp;user[email][]=hacker@evil.com
</code></pre>
(per this POC github: <a href="https:&#x2F;&#x2F;github.com&#x2F;Vozec&#x2F;CVE-2023-7028">https:&#x2F;&#x2F;github.com&#x2F;Vozec&#x2F;CVE-2023-7028</a>)</div><br/><div id="39159577" class="c"><input type="checkbox" id="c-39159577" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39159481">parent</a><span>|</span><a href="#39160248">next</a><span>|</span><label class="collapse" for="c-39159577">[-]</label><label class="expand" for="c-39159577">[15 more]</label></div><br/><div class="children"><div class="content">Yep, so it&#x27;s the classic Rails bug pattern.</div><br/><div id="39161091" class="c"><input type="checkbox" id="c-39161091" checked=""/><div class="controls bullet"><span class="by">simonw</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39159577">parent</a><span>|</span><a href="#39160501">next</a><span>|</span><label class="collapse" for="c-39161091">[-]</label><label class="expand" for="c-39161091">[2 more]</label></div><br/><div class="children"><div class="content">A tiny little piece of Django design that I&#x27;m pleased to have participated in is this:<p><pre><code>    emails = request.POST.getlist(&quot;email&quot;)
</code></pre>
Django doesn&#x27;t mix lists and single string values, because I&#x27;d been burned by that problem in PHP.</div><br/><div id="39163247" class="c"><input type="checkbox" id="c-39163247" checked=""/><div class="controls bullet"><span class="by">EGreg</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39161091">parent</a><span>|</span><a href="#39160501">next</a><span>|</span><label class="collapse" for="c-39163247">[-]</label><label class="expand" for="c-39163247">[1 more]</label></div><br/><div class="children"><div class="content">wait, what do you mean by in PHP?</div><br/></div></div></div></div><div id="39160501" class="c"><input type="checkbox" id="c-39160501" checked=""/><div class="controls bullet"><span class="by">technion</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39159577">parent</a><span>|</span><a href="#39161091">prev</a><span>|</span><a href="#39159738">next</a><span>|</span><label class="collapse" for="c-39160501">[-]</label><label class="expand" for="c-39160501">[2 more]</label></div><br/><div class="children"><div class="content">Strong parameters has been a core security feature of rails for a long time, and all the guides go into detail about the boilerplate you need just to accept a form input past the strong parameter filters. It&#x27;s weird to me that the pattern doesn&#x27;t also include a &quot;must he a string&quot; option. I know you can add to_s everywhere, but making it part of the existing strong params would actually incentivise use.</div><br/><div id="39161401" class="c"><input type="checkbox" id="c-39161401" checked=""/><div class="controls bullet"><span class="by">kevinmchugh</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39160501">parent</a><span>|</span><a href="#39159738">next</a><span>|</span><label class="collapse" for="c-39161401">[-]</label><label class="expand" for="c-39161401">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s weird, as I recall with strong params one of the only things it really makes you decide is whether a value is a scalar, array, or Hash. You can certainly allow a value to be scalar or array, but it&#x27;s not very natural in strong params.<p>I mostly hate the way strong params gets used - it&#x27;s a bad compromise between letting Ruby people do Ruby things and trying to plug up a category of vulnerability that&#x27;s been biting rails apps for a decade. Now I do all my api definitions in openapi and it&#x27;s way easier. I haven&#x27;t tried it with a rails app but I think it&#x27;d work well there.</div><br/></div></div></div></div><div id="39159738" class="c"><input type="checkbox" id="c-39159738" checked=""/><div class="controls bullet"><span class="by">chatmasta</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39159577">parent</a><span>|</span><a href="#39160501">prev</a><span>|</span><a href="#39160248">next</a><span>|</span><label class="collapse" for="c-39159738">[-]</label><label class="expand" for="c-39159738">[10 more]</label></div><br/><div class="children"><div class="content">This is such a rarely used feature that I wonder if it would be helpful to have a CSP or preflight header that restricts the browser from sending multiple values for the same parameter.</div><br/><div id="39161103" class="c"><input type="checkbox" id="c-39161103" checked=""/><div class="controls bullet"><span class="by">simonw</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39159738">parent</a><span>|</span><a href="#39159983">next</a><span>|</span><label class="collapse" for="c-39161103">[-]</label><label class="expand" for="c-39161103">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a great feature that&#x27;s been supported by browsers for decades. &lt;select multiple&gt; uses it. You can use it for checkboxes to select multiple items too.<p>If you changed it now you would break a whole lot of stuff.<p>I use it extensively in my own Datasette application, eg here: <a href="https:&#x2F;&#x2F;datasette.io&#x2F;content&#x2F;plugins?_facet=owner&amp;_facet=is_tool&amp;_facet_array=tags&amp;tags__arraycontains=SQL+Functions&amp;tags__arraycontains=Geospatial" rel="nofollow">https:&#x2F;&#x2F;datasette.io&#x2F;content&#x2F;plugins?_facet=owner&amp;_facet=is_...</a></div><br/><div id="39162552" class="c"><input type="checkbox" id="c-39162552" checked=""/><div class="controls bullet"><span class="by">chatmasta</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39161103">parent</a><span>|</span><a href="#39159983">next</a><span>|</span><label class="collapse" for="c-39162552">[-]</label><label class="expand" for="c-39162552">[1 more]</label></div><br/><div class="children"><div class="content">You wouldn&#x27;t need to change it. But if you made it a CORS header like Access-Control-Allow-Headers, then websites would be able to provide a default policy forbidding it so that their code that actually requires it would need to explicitly opt into the behavior.</div><br/></div></div></div></div><div id="39159983" class="c"><input type="checkbox" id="c-39159983" checked=""/><div class="controls bullet"><span class="by">janpieterz</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39159738">parent</a><span>|</span><a href="#39161103">prev</a><span>|</span><a href="#39160049">next</a><span>|</span><label class="collapse" for="c-39159983">[-]</label><label class="expand" for="c-39159983">[1 more]</label></div><br/><div class="children"><div class="content">If you&#x27;d want to configure this you&#x27;d probably want it as some kind of configuration in the backend that disables it.</div><br/></div></div><div id="39160049" class="c"><input type="checkbox" id="c-39160049" checked=""/><div class="controls bullet"><span class="by">5-</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39159738">parent</a><span>|</span><a href="#39159983">prev</a><span>|</span><a href="#39160077">next</a><span>|</span><label class="collapse" for="c-39160049">[-]</label><label class="expand" for="c-39160049">[2 more]</label></div><br/><div class="children"><div class="content">a browser is typically not used to exploit this class of bugs.</div><br/><div id="39162563" class="c"><input type="checkbox" id="c-39162563" checked=""/><div class="controls bullet"><span class="by">chatmasta</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39160049">parent</a><span>|</span><a href="#39160077">next</a><span>|</span><label class="collapse" for="c-39162563">[-]</label><label class="expand" for="c-39162563">[1 more]</label></div><br/><div class="children"><div class="content">There is precedent for deputizing the browser to stop this kind of bug with Access-Control-Allow-Headers. If the backend wants to default to ignoring multiple GET&#x2F;POST parameters with the same name, then the browser could helpfully fail to make a request that attempts to send them.</div><br/></div></div></div></div><div id="39160077" class="c"><input type="checkbox" id="c-39160077" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39159738">parent</a><span>|</span><a href="#39160049">prev</a><span>|</span><a href="#39160248">next</a><span>|</span><label class="collapse" for="c-39160077">[-]</label><label class="expand" for="c-39160077">[4 more]</label></div><br/><div class="children"><div class="content">It&#x27;s pretty commonly used in Rails form handling logic though, isn&#x27;t it?</div><br/><div id="39163205" class="c"><input type="checkbox" id="c-39163205" checked=""/><div class="controls bullet"><span class="by">jordinl</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39160077">parent</a><span>|</span><a href="#39161144">next</a><span>|</span><label class="collapse" for="c-39163205">[-]</label><label class="expand" for="c-39163205">[1 more]</label></div><br/><div class="children"><div class="content">Hard to tell what the issue is without actually seeing the code.<p>If I had to guess what they did was:<p><pre><code>  user = User.find_by(email: params[:emails])
  params[:emails].each { |email| send_recovery_email(user, email) }
</code></pre>
Instead of:<p><pre><code>  user = User.find_by(email: params[:emails])
  send_recovery_email(user, user.email) if user</code></pre></div><br/></div></div><div id="39161144" class="c"><input type="checkbox" id="c-39161144" checked=""/><div class="controls bullet"><span class="by">jeremymcanally</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39160077">parent</a><span>|</span><a href="#39163205">prev</a><span>|</span><a href="#39160248">next</a><span>|</span><label class="collapse" for="c-39161144">[-]</label><label class="expand" for="c-39161144">[2 more]</label></div><br/><div class="children"><div class="content">Properly used white list parameter controls (i.e., strong parameters) that are the default Rails behavior at this point would have prevented this bug completely.</div><br/><div id="39161173" class="c"><input type="checkbox" id="c-39161173" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39161144">parent</a><span>|</span><a href="#39160248">next</a><span>|</span><label class="collapse" for="c-39161173">[-]</label><label class="expand" for="c-39161173">[1 more]</label></div><br/><div class="children"><div class="content">This is a little like saying the best way to avoid this bug is to not have the bug. But that&#x27;s true of all bugs. The C apologists used to say, &quot;just bounds check properly!&quot;</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="39160248" class="c"><input type="checkbox" id="c-39160248" checked=""/><div class="controls bullet"><span class="by">tzs</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39159337">parent</a><span>|</span><a href="#39159481">prev</a><span>|</span><a href="#39160454">next</a><span>|</span><label class="collapse" for="c-39160248">[-]</label><label class="expand" for="c-39160248">[7 more]</label></div><br/><div class="children"><div class="content">I think I&#x27;d count that as a bug and a design error.<p>The bug is accepting an array when it should only take a scalar.<p>The design error is that the endpoint should not be taking email addresses at all. It should take account IDs.<p>Even if a system uses email addresses as account IDs they are conceptually not the same and the code should not muddle them.<p>Keep them separate and then even if you get an &quot;allows an array where it should have been a scalar&quot; bug the result should be either just the first account in the array gets a reset email or all the accounts in the array that are existing accounts get reset emails for their accounts.</div><br/><div id="39160932" class="c"><input type="checkbox" id="c-39160932" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39160248">parent</a><span>|</span><a href="#39161588">next</a><span>|</span><label class="collapse" for="c-39160932">[-]</label><label class="expand" for="c-39160932">[5 more]</label></div><br/><div class="children"><div class="content">Users <i>hate</i> this, because it requires them to do two email round trips (the first to recover the account ID).</div><br/><div id="39161124" class="c"><input type="checkbox" id="c-39161124" checked=""/><div class="controls bullet"><span class="by">tzs</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39160932">parent</a><span>|</span><a href="#39161430">next</a><span>|</span><label class="collapse" for="c-39161124">[-]</label><label class="expand" for="c-39161124">[3 more]</label></div><br/><div class="children"><div class="content">I think it is OK to call the account ID &quot;Email Address&quot; on everything the user sees, and make it the same string as the user&#x27;s email address. As far as the user is concerned they login with email address and password.<p>I&#x27;m just saying that in the software and in the database store account ID and email separately. Treat the fact that the account ID column matches the email address column as just a coincidence that you do not take advantage of.<p>I&#x27;d enforce not taking advantage of it by having employee accounts actually use an account ID that does not match their email address, such as their name, so that if we accidentally leave out a call to EmailFromAccountID(...) somewhere and try to use an account ID directly as an email address it will break employee accounts.<p>Also, it is not clear to me that even with user visible account ID that is not the same as email address that it would take two email rounds trips.<p>The reset page could take email address, not account ID. The reset endpoint could then look up the account ID from the email address, and initiate the reset, calling the SendEmailToAccount service with the account ID to send the email. That service would look up the email address for the account.</div><br/><div id="39161352" class="c"><input type="checkbox" id="c-39161352" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39161124">parent</a><span>|</span><a href="#39161430">next</a><span>|</span><label class="collapse" for="c-39161352">[-]</label><label class="expand" for="c-39161352">[2 more]</label></div><br/><div class="children"><div class="content">Oh, sure. Storing the email address in a canonical column and using the provided address as a key helps. But I think the underlying bug is still there, because the email code will still _accept_ the user input if you feed that to it.</div><br/><div id="39163252" class="c"><input type="checkbox" id="c-39163252" checked=""/><div class="controls bullet"><span class="by">EGreg</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39161352">parent</a><span>|</span><a href="#39161430">next</a><span>|</span><label class="collapse" for="c-39163252">[-]</label><label class="expand" for="c-39163252">[1 more]</label></div><br/><div class="children"><div class="content">Personally, I like when people have usernames, and have to enter those, to receive a recovery message sent to the associated email.<p>Or better yet, enter both username and email together.<p>Because it&#x27;s more likely the attacker won&#x27;t know both.<p>In any event, I have been recommending to everyone <i>for years</i> to use email aliases (that GMail and others support) as your login. Have a different one for each site, for example yourname+az@gmail.com for amazon. That way, you can avoid crap like this which is out of your control, since the attacker won&#x27;t even be able to repeat your login email: <a href="https:&#x2F;&#x2F;www.wired.com&#x2F;2012&#x2F;08&#x2F;apple-amazon-mat-honan-hacking&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.wired.com&#x2F;2012&#x2F;08&#x2F;apple-amazon-mat-honan-hacking...</a></div><br/></div></div></div></div></div></div><div id="39161430" class="c"><input type="checkbox" id="c-39161430" checked=""/><div class="controls bullet"><span class="by">fbdab103</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39160932">parent</a><span>|</span><a href="#39161124">prev</a><span>|</span><a href="#39161588">next</a><span>|</span><label class="collapse" for="c-39161430">[-]</label><label class="expand" for="c-39161430">[1 more]</label></div><br/><div class="children"><div class="content">For something which should be a rare action (account recovery) is extra friction that bad?</div><br/></div></div></div></div><div id="39161588" class="c"><input type="checkbox" id="c-39161588" checked=""/><div class="controls bullet"><span class="by">plagiarist</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39160248">parent</a><span>|</span><a href="#39160932">prev</a><span>|</span><a href="#39160454">next</a><span>|</span><label class="collapse" for="c-39161588">[-]</label><label class="expand" for="c-39161588">[1 more]</label></div><br/><div class="children"><div class="content">If they have to allow lookup by email I don&#x27;t understand why they wouldn&#x27;t throw out the input data. They should only ever have had a function to send password reset that takes a user ID and uses the email on record from the database.</div><br/></div></div></div></div></div></div></div></div><div id="39160454" class="c"><input type="checkbox" id="c-39160454" checked=""/><div class="controls bullet"><span class="by">lossolo</span><span>|</span><a href="#39159221">parent</a><span>|</span><a href="#39159309">prev</a><span>|</span><a href="#39159805">next</a><span>|</span><label class="collapse" for="c-39160454">[-]</label><label class="expand" for="c-39160454">[7 more]</label></div><br/><div class="children"><div class="content">What a strange perspective. If not e-mail, then what would you associate it with? I&#x27;ve been running a site for over 20 years with a large user base. We initially used usernames, but it was disastrous. Everyone knew each other&#x27;s usernames, making it easy to attempt brute force attacks on passwords, reset them, etc. Using e-mails isn&#x27;t the problem, the issue is overcomplicating the login and password recovery logic, tons of abstraction everywhere, overengineering, people rushing to push code without proper checks in security sensitive parts etc.<p>&gt; Gitlab has, as I understand it, a pretty excellent security team, which gives some sense of how hard this bug class is to avoid.<p>You should examine the history of security issues on GitLab. There are critical exploits multiple times a year, requiring an urgent upgrade of your GitLab distribution. Gitlab is the worst product I&#x27;ve used security wise.</div><br/><div id="39160657" class="c"><input type="checkbox" id="c-39160657" checked=""/><div class="controls bullet"><span class="by">SlightlyLeftPad</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39160454">parent</a><span>|</span><a href="#39160939">next</a><span>|</span><label class="collapse" for="c-39160657">[-]</label><label class="expand" for="c-39160657">[2 more]</label></div><br/><div class="children"><div class="content">I tend to agree. Regarding Gitlab, there’s a bit of a dichotomy here. On one hand it’s good that they’re diligently catching and patching these things quickly and effectively notifying with transparency, that’s a great thing. On the other hand, it means Gitlab is an absolute nightmare to maintain, the process to upgrade it is not always trivial and to add to that, consistently, the day after a Gitlab upgrade a critical vulnerability is found and patched.<p>Every product has security issues and what should worry you more, things that never see security patches or something that does?</div><br/><div id="39161465" class="c"><input type="checkbox" id="c-39161465" checked=""/><div class="controls bullet"><span class="by">lossolo</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39160657">parent</a><span>|</span><a href="#39160939">next</a><span>|</span><label class="collapse" for="c-39161465">[-]</label><label class="expand" for="c-39161465">[1 more]</label></div><br/><div class="children"><div class="content">Gitlab upgrades, omg that was a nightmare, so many broken upgrades, there are literally thousands of issues on their issue tracker only about problems with upgrades.</div><br/></div></div></div></div><div id="39160939" class="c"><input type="checkbox" id="c-39160939" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39160454">parent</a><span>|</span><a href="#39160657">prev</a><span>|</span><a href="#39159805">next</a><span>|</span><label class="collapse" for="c-39160939">[-]</label><label class="expand" for="c-39160939">[4 more]</label></div><br/><div class="children"><div class="content">You took the wrong thing away from the comment. I&#x27;m not saying you shouldn&#x27;t do email password resets. We do. Everybody does. I&#x27;m saying: be ultra careful with that code.<p>Gitlab is both open source and has an on-prem product, so my guess is that you&#x27;re simply hearing about more of the Gitlab bugs than you would with a comparably sized competitor.</div><br/><div id="39161514" class="c"><input type="checkbox" id="c-39161514" checked=""/><div class="controls bullet"><span class="by">lossolo</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39160939">parent</a><span>|</span><a href="#39159805">next</a><span>|</span><label class="collapse" for="c-39161514">[-]</label><label class="expand" for="c-39161514">[3 more]</label></div><br/><div class="children"><div class="content">&gt; Gitlab is both open source and has an on-prem product, so my guess is that you&#x27;re simply hearing about more of the Gitlab bugs than you would with a comparably sized competitor.<p>It seems you might not be using their on-premises product, considering your guesswork. We used it for years and it was a nightmare. Almost every upgrade was problematic, and we often had to scour through GitLab issues to find solutions from other users. These solutions were often makeshift and carried the risk of causing further issues. Their salaries are below market rate, which reflects in the quality of staff they hire (there are few exceptions). I prefer not to point fingers, so I won&#x27;t link to any specific discussions from GitLab. It&#x27;s worth noting that they have a culture of open discussion, and from what I&#x27;ve observed, the engineering quality in some of the teams was quite low. We utilize numerous other large scale open source projects in our stack and have never encountered as many problems as we did with GitLab.</div><br/><div id="39161525" class="c"><input type="checkbox" id="c-39161525" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39161514">parent</a><span>|</span><a href="#39159805">next</a><span>|</span><label class="collapse" for="c-39161525">[-]</label><label class="expand" for="c-39161525">[2 more]</label></div><br/><div class="children"><div class="content">What guesswork? I use Github. My point is that you don&#x27;t hear about most vulnerabilities in SAAS products, because there is no norm of disclosing them. BUt disclosure is unavoidable for open source on-prem products.</div><br/><div id="39161999" class="c"><input type="checkbox" id="c-39161999" checked=""/><div class="controls bullet"><span class="by">lossolo</span><span>|</span><a href="#39159221">root</a><span>|</span><a href="#39161525">parent</a><span>|</span><a href="#39159805">next</a><span>|</span><label class="collapse" for="c-39161999">[-]</label><label class="expand" for="c-39161999">[1 more]</label></div><br/><div class="children"><div class="content">&gt; What guesswork?<p>&quot;so my guess is that&quot;<p>&gt; My point is that you don&#x27;t hear about most vulnerabilities in SAAS products, because there is no norm of disclosing them. BUt disclosure is unavoidable for open source on-prem products.<p>I already addressed that point, explaining that we use other on-premises open source products of similar size, and GitLab was the poorest in terms of quality.  I haven&#x27;t drawn any comparisons between GitLab&#x27;s on-premises and SaaS products, so I&#x27;m puzzled as to why you continue to &#x27;guess&#x27; the reasons behind our experiences, especially when those guesses have been evidently incorrect.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="39159805" class="c"><input type="checkbox" id="c-39159805" checked=""/><div class="controls bullet"><span class="by">alexpls</span><span>|</span><a href="#39159221">prev</a><span>|</span><a href="#39160227">next</a><span>|</span><label class="collapse" for="c-39159805">[-]</label><label class="expand" for="c-39159805">[11 more]</label></div><br/><div class="children"><div class="content">For folks who wanna see what led to this exploit in a Rails codebase, here’s the commit where it’s fixed:<p><a href="https:&#x2F;&#x2F;gitlab.com&#x2F;gitlab-org&#x2F;gitlab&#x2F;-&#x2F;commit&#x2F;c571840ba2f0e91ca7ec3c436f796532dbb3c550" rel="nofollow">https:&#x2F;&#x2F;gitlab.com&#x2F;gitlab-org&#x2F;gitlab&#x2F;-&#x2F;commit&#x2F;c571840ba2f0e9...</a></div><br/><div id="39162126" class="c"><input type="checkbox" id="c-39162126" checked=""/><div class="controls bullet"><span class="by">thedanbob</span><span>|</span><a href="#39159805">parent</a><span>|</span><a href="#39161438">next</a><span>|</span><label class="collapse" for="c-39162126">[-]</label><label class="expand" for="c-39162126">[3 more]</label></div><br/><div class="children"><div class="content">This doesn&#x27;t look like the actual fix but rather a follow-up refactor. I believe the fix is here: <a href="https:&#x2F;&#x2F;gitlab.com&#x2F;gitlab-org&#x2F;gitlab&#x2F;-&#x2F;commit&#x2F;abe79e4ec437988cf16534a9dbba81b98a2e7f18" rel="nofollow">https:&#x2F;&#x2F;gitlab.com&#x2F;gitlab-org&#x2F;gitlab&#x2F;-&#x2F;commit&#x2F;abe79e4ec43798...</a><p><pre><code>    - recoverable.send_reset_password_instructions(to: email) if recoverable&amp;.persisted?
    + recoverable.send_reset_password_instructions if recoverable&amp;.persisted?</code></pre></div><br/><div id="39163741" class="c"><input type="checkbox" id="c-39163741" checked=""/><div class="controls bullet"><span class="by">progval</span><span>|</span><a href="#39159805">root</a><span>|</span><a href="#39162126">parent</a><span>|</span><a href="#39163364">next</a><span>|</span><label class="collapse" for="c-39163741">[-]</label><label class="expand" for="c-39163741">[1 more]</label></div><br/><div class="children"><div class="content">and making send_reset_password_instructions get the email addresses itself from the &quot;recoverable&quot; object.</div><br/></div></div><div id="39163364" class="c"><input type="checkbox" id="c-39163364" checked=""/><div class="controls bullet"><span class="by">alexpls</span><span>|</span><a href="#39159805">root</a><span>|</span><a href="#39162126">parent</a><span>|</span><a href="#39163741">prev</a><span>|</span><a href="#39161438">next</a><span>|</span><label class="collapse" for="c-39163364">[-]</label><label class="expand" for="c-39163364">[1 more]</label></div><br/><div class="children"><div class="content">Oh yeah, good pickup thanks!</div><br/></div></div></div></div><div id="39161438" class="c"><input type="checkbox" id="c-39161438" checked=""/><div class="controls bullet"><span class="by">taspeotis</span><span>|</span><a href="#39159805">parent</a><span>|</span><a href="#39162126">prev</a><span>|</span><a href="#39161166">next</a><span>|</span><label class="collapse" for="c-39161438">[-]</label><label class="expand" for="c-39161438">[4 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>    # Concern that overrides the Devise methods
    # to send reset password instructions to any verified user email
    module RecoverableByAnyEmail
</code></pre>
So it was a feature??<p>Anyway, in the fixed version it&#x27;s still called RecoverableByAnyEmail. Do people not read the code around what they are changing??</div><br/><div id="39162882" class="c"><input type="checkbox" id="c-39162882" checked=""/><div class="controls bullet"><span class="by">zx8080</span><span>|</span><a href="#39159805">root</a><span>|</span><a href="#39161438">parent</a><span>|</span><a href="#39161782">next</a><span>|</span><label class="collapse" for="c-39162882">[-]</label><label class="expand" for="c-39162882">[1 more]</label></div><br/><div class="children"><div class="content">&gt; &quot;RecoverableByAnyEmail&quot;<p>Added 8 months ago [1]. And then one month later:<p>&gt; &quot;password_reset_any_verified_email&quot;<p>Was removed. 7 months ago [2], *note* __verified__ word here.<p>No blaming or conspiracy intended in this post, just listing links to relevant commits.<p>1 - <a href="https:&#x2F;&#x2F;gitlab.com&#x2F;gitlab-org&#x2F;gitlab&#x2F;-&#x2F;commit&#x2F;94069d38c9cd63202cc21e7febfaaad596052c0d" rel="nofollow">https:&#x2F;&#x2F;gitlab.com&#x2F;gitlab-org&#x2F;gitlab&#x2F;-&#x2F;commit&#x2F;94069d38c9cd63...</a><p>2 - <a href="https:&#x2F;&#x2F;gitlab.com&#x2F;gitlab-org&#x2F;gitlab&#x2F;-&#x2F;commit&#x2F;a935d28f3decf8f6873d5b0a6f405f2687d0f99f" rel="nofollow">https:&#x2F;&#x2F;gitlab.com&#x2F;gitlab-org&#x2F;gitlab&#x2F;-&#x2F;commit&#x2F;a935d28f3decf8...</a></div><br/></div></div><div id="39161782" class="c"><input type="checkbox" id="c-39161782" checked=""/><div class="controls bullet"><span class="by">Rapzid</span><span>|</span><a href="#39159805">root</a><span>|</span><a href="#39161438">parent</a><span>|</span><a href="#39162882">prev</a><span>|</span><a href="#39161801">next</a><span>|</span><label class="collapse" for="c-39161782">[-]</label><label class="expand" for="c-39161782">[1 more]</label></div><br/><div class="children"><div class="content">It does say <i>any</i> email doesn&#x27;t it? Not <i>verified</i>, <i>any</i>.</div><br/></div></div><div id="39161801" class="c"><input type="checkbox" id="c-39161801" checked=""/><div class="controls bullet"><span class="by">BandButcher</span><span>|</span><a href="#39159805">root</a><span>|</span><a href="#39161438">parent</a><span>|</span><a href="#39161782">prev</a><span>|</span><a href="#39161166">next</a><span>|</span><label class="collapse" for="c-39161801">[-]</label><label class="expand" for="c-39161801">[1 more]</label></div><br/><div class="children"><div class="content">haha the first thing i would&#x27;ve caught in the initial PR was the file name... and the default setting of `confirmed: true`... seems like a big oversight or possibly an inside job (if im being conspiratorial)</div><br/></div></div></div></div><div id="39161166" class="c"><input type="checkbox" id="c-39161166" checked=""/><div class="controls bullet"><span class="by">sethammons</span><span>|</span><a href="#39159805">parent</a><span>|</span><a href="#39161438">prev</a><span>|</span><a href="#39160227">next</a><span>|</span><label class="collapse" for="c-39161166">[-]</label><label class="expand" for="c-39161166">[3 more]</label></div><br/><div class="children"><div class="content">as a non-rubiest, can you point to the error?</div><br/><div id="39162913" class="c"><input type="checkbox" id="c-39162913" checked=""/><div class="controls bullet"><span class="by">Rapzid</span><span>|</span><a href="#39159805">root</a><span>|</span><a href="#39161166">parent</a><span>|</span><a href="#39163062">next</a><span>|</span><label class="collapse" for="c-39162913">[-]</label><label class="expand" for="c-39162913">[1 more]</label></div><br/><div class="children"><div class="content">Ruby. I kid, but also I don&#x27;t.<p>Initially a single email could be passed into the API&#x2F;form call and they would look it up. If found they would send a recovery to that email but it was the email the user supplied not what was in the DB.<p>Oh, no problem we looked it up so they are the same!<p>But then the ability to look up accounts from a list of emails was added. If any email matches the account lookup would succeed. Then they sent the reset link to that same user supplied value but OH NOEHS IT&#x27;S AN ARRAY NOW AND SOME MIGHT NOT HAVE MATCHED ACCOUNT EMAILS!<p>So they ended up sending out reset links to a tainted list of emails.<p>Rails &quot;concerns&quot; are the worst IMHO anyway, but looks like they aren&#x27;t using strong params here either which is even worse. Also someone thought it was more elegant to reuse the tainted value which is par for the RoR course.</div><br/></div></div><div id="39163062" class="c"><input type="checkbox" id="c-39163062" checked=""/><div class="controls bullet"><span class="by">szundi</span><span>|</span><a href="#39159805">root</a><span>|</span><a href="#39161166">parent</a><span>|</span><a href="#39162913">prev</a><span>|</span><a href="#39160227">next</a><span>|</span><label class="collapse" for="c-39163062">[-]</label><label class="expand" for="c-39163062">[1 more]</label></div><br/><div class="children"><div class="content">Omg is this fix had to be this bloated?</div><br/></div></div></div></div></div></div><div id="39160227" class="c"><input type="checkbox" id="c-39160227" checked=""/><div class="controls bullet"><span class="by">dijit</span><span>|</span><a href="#39159805">prev</a><span>|</span><a href="#39159757">next</a><span>|</span><label class="collapse" for="c-39160227">[-]</label><label class="expand" for="c-39160227">[1 more]</label></div><br/><div class="children"><div class="content">I got hit by this, we also noticed it being used with a second “feature” that exposed us a bit more than it should have.<p>Basically a requirement for this attack is to know the email of the user you want to reset, but, there is a hidden email address that is tied to your gitlab userid (a number incrementing from 1).<p>Since its a safe bet that ID 1 or 2 is an admin: thats a good target.<p>the email is something like 1-user@mail.noreply.&lt;gitlabhost&gt;.<p>Really bad, seemed like it was automated.<p>2FA saved us here.</div><br/></div></div><div id="39159757" class="c"><input type="checkbox" id="c-39159757" checked=""/><div class="controls bullet"><span class="by">andix</span><span>|</span><a href="#39160227">prev</a><span>|</span><a href="#39160139">next</a><span>|</span><label class="collapse" for="c-39159757">[-]</label><label class="expand" for="c-39159757">[3 more]</label></div><br/><div class="children"><div class="content">E-mail password reset is a security nightmare even when implemented correctly.<p>And the worst part: On most services you can&#x27;t even disable it, the only way around is often only Enterprise SSO.<p>On some services you can set up a phone number for SMS token instead. But I&#x27;ve never seen the possibility to require both. Password reset only with e-mail AND SMS token.</div><br/><div id="39162067" class="c"><input type="checkbox" id="c-39162067" checked=""/><div class="controls bullet"><span class="by">admax88qqq</span><span>|</span><a href="#39159757">parent</a><span>|</span><a href="#39160139">next</a><span>|</span><label class="collapse" for="c-39162067">[-]</label><label class="expand" for="c-39162067">[2 more]</label></div><br/><div class="children"><div class="content">What makes it a security nightmare in your opinion?</div><br/><div id="39162877" class="c"><input type="checkbox" id="c-39162877" checked=""/><div class="controls bullet"><span class="by">jchw</span><span>|</span><a href="#39159757">root</a><span>|</span><a href="#39162067">parent</a><span>|</span><a href="#39160139">next</a><span>|</span><label class="collapse" for="c-39162877">[-]</label><label class="expand" for="c-39162877">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s really nothing about the e-mail system that makes it particularly good for anything secure at all.<p>- Easy to accidentally forward confidential tokens<p>- Validation of email sender authenticity is still piecemeal, and there are relatively frequently ways to bypass or work around validation.<p>- Mail is not end-to-end encrypted. I hope that it&#x27;s at least encrypted with TLS, but last time I actually messed with talking directly to an MX, it seemed like TLS was still limited to smart relays, and actual mail delivery always went to port 25 as usual...<p>- The cardinality of e-mail addresses is not really defined anywhere. Gmail has plus addressing and ignores periods for the purposes of delivering an e-mail. Meanwhile, Google Workspace defaults to not ignoring the periods. Pretty sure some mailbox providers are case-sensitive and others are not. This means you can&#x27;t know if an e-mail address at a given provider is unique. Best bet is to treat the entire damn address as a bag of bytes, but that opens up room for UX issues of all sorts, so it&#x27;s hard to balance.<p>- It&#x27;s bad that if your e-mail address gets compromised, any account you have that doesn&#x27;t have some kind of secure 2FA is literally seconds away from being compromised, too. Obviously, this is not a limitation that is limited to e-mail addresses, people wrongly treat SMS as secure, too. The thing with e-mail addresses though is that they&#x27;re easier to treat as secure because it is somehow still less of a crapshoot than cell carrier security, and also because literally the majority of online accounts can be stolen with just access to the user&#x27;s email address, and it can be done quickly and easily, and in many cases it can be hard to convince support that you are the correct owner afterwards.</div><br/></div></div></div></div></div></div><div id="39160139" class="c"><input type="checkbox" id="c-39160139" checked=""/><div class="controls bullet"><span class="by">bluedino</span><span>|</span><a href="#39159757">prev</a><span>|</span><a href="#39163534">next</a><span>|</span><label class="collapse" for="c-39160139">[-]</label><label class="expand" for="c-39160139">[2 more]</label></div><br/><div class="children"><div class="content">Reminds me of a bug where you could brute force an account by putting an array of passwords in the login form.<p>It was some junky web interface to a spam appliance of all things, I&#x27;m not sure if it was intentional, or just some php rookie wrote the code.<p>One of our users discovered it when they had a (rare at the time) special character in their password.</div><br/><div id="39160344" class="c"><input type="checkbox" id="c-39160344" checked=""/><div class="controls bullet"><span class="by">PufPufPuf</span><span>|</span><a href="#39160139">parent</a><span>|</span><a href="#39163534">next</a><span>|</span><label class="collapse" for="c-39160344">[-]</label><label class="expand" for="c-39160344">[1 more]</label></div><br/><div class="children"><div class="content">Ruby on Rails accepts arrays as parameters to the ORM&#x27;s &quot;.where(...)&quot;, which means &quot;OR&quot; between the array values. So if the code does something like &quot;User.where(name: name, password: password)&quot;, I could totally see this happening.</div><br/></div></div></div></div><div id="39163534" class="c"><input type="checkbox" id="c-39163534" checked=""/><div class="controls bullet"><span class="by">Too</span><span>|</span><a href="#39160139">prev</a><span>|</span><a href="#39160677">next</a><span>|</span><label class="collapse" for="c-39163534">[-]</label><label class="expand" for="c-39163534">[1 more]</label></div><br/><div class="children"><div class="content">Another reminder to alway use SSO and to always use 2FA.</div><br/></div></div><div id="39160677" class="c"><input type="checkbox" id="c-39160677" checked=""/><div class="controls bullet"><span class="by">frenchman99</span><span>|</span><a href="#39163534">prev</a><span>|</span><a href="#39162908">next</a><span>|</span><label class="collapse" for="c-39160677">[-]</label><label class="expand" for="c-39160677">[3 more]</label></div><br/><div class="children"><div class="content">Good reminder to always run internal services such as Gitlab behind a VPN which only trusted users have access to.</div><br/><div id="39163459" class="c"><input type="checkbox" id="c-39163459" checked=""/><div class="controls bullet"><span class="by">INTPenis</span><span>|</span><a href="#39160677">parent</a><span>|</span><a href="#39161257">next</a><span>|</span><label class="collapse" for="c-39163459">[-]</label><label class="expand" for="c-39163459">[1 more]</label></div><br/><div class="children"><div class="content">Yes that&#x27;s what saved us, and a few other things.<p>I work for a huge government owned telco and our networking guys are the best. They keep us server guys in line. So even though they did expose our Gitlab to an extent, for certain external projects and consultants, you still can&#x27;t visit it from the internet freely.<p>And also we manage users in AD so there is no SMTP connection to even do password resets.<p>But we really need to enforce more 2FA, we&#x27;ve left it up to each project to enforce their own rules on 2FA.</div><br/></div></div><div id="39161257" class="c"><input type="checkbox" id="c-39161257" checked=""/><div class="controls bullet"><span class="by">kdtsh</span><span>|</span><a href="#39160677">parent</a><span>|</span><a href="#39163459">prev</a><span>|</span><a href="#39162908">next</a><span>|</span><label class="collapse" for="c-39161257">[-]</label><label class="expand" for="c-39161257">[1 more]</label></div><br/><div class="children"><div class="content">I really don’t understand why anyone would have their internal VC and CI&#x2F;CD on the public Internet. This is exactly what VPNs are for.</div><br/></div></div></div></div><div id="39162908" class="c"><input type="checkbox" id="c-39162908" checked=""/><div class="controls bullet"><span class="by">Helmut10001</span><span>|</span><a href="#39160677">prev</a><span>|</span><a href="#39159766">next</a><span>|</span><label class="collapse" for="c-39162908">[-]</label><label class="expand" for="c-39162908">[1 more]</label></div><br/><div class="children"><div class="content">Sorry, it is really easy to automate Gitlab updates. Just one option is to use Gitlab in Docker+Compose, which works rock-solid, and have Watchtower (e.g.) do the updates daily. I have two Gitlab servers that do this since 7+ years and no issue whatsoever. Looking around, I see so many outdated Gitlabs - what are the administrators doing?</div><br/></div></div><div id="39159766" class="c"><input type="checkbox" id="c-39159766" checked=""/><div class="controls bullet"><span class="by">throwaway63467</span><span>|</span><a href="#39162908">prev</a><span>|</span><a href="#39163158">next</a><span>|</span><label class="collapse" for="c-39159766">[-]</label><label class="expand" for="c-39159766">[3 more]</label></div><br/><div class="children"><div class="content">Honestly I would never put any kind of internal server on the public Internet, make it reachable only via VPN to have a second line of defense.</div><br/><div id="39159956" class="c"><input type="checkbox" id="c-39159956" checked=""/><div class="controls bullet"><span class="by">andix</span><span>|</span><a href="#39159766">parent</a><span>|</span><a href="#39160823">next</a><span>|</span><label class="collapse" for="c-39159956">[-]</label><label class="expand" for="c-39159956">[1 more]</label></div><br/><div class="children"><div class="content">Especially something like Gitlab might benefit a lot from external integrations that need to call the Gitlab API. It might be possible to whitelist exactly those requests, but also a bit cumbersome.</div><br/></div></div><div id="39160823" class="c"><input type="checkbox" id="c-39160823" checked=""/><div class="controls bullet"><span class="by">dijit</span><span>|</span><a href="#39159766">parent</a><span>|</span><a href="#39159956">prev</a><span>|</span><a href="#39163158">next</a><span>|</span><label class="collapse" for="c-39160823">[-]</label><label class="expand" for="c-39160823">[1 more]</label></div><br/><div class="children"><div class="content">Gitlab is my favourite for running a codeforge: git.drk.sc<p>For a highly secure environment, I agree to practice even more defensible tactics, but I think software out to be designed to survive the open web.</div><br/></div></div></div></div><div id="39161382" class="c"><input type="checkbox" id="c-39161382" checked=""/><div class="controls bullet"><span class="by">TobyTheDog123</span><span>|</span><a href="#39160239">prev</a><span>|</span><label class="collapse" for="c-39161382">[-]</label><label class="expand" for="c-39161382">[2 more]</label></div><br/><div class="children"><div class="content">Can we please stop pretending that Ruby&#x2F;Rails is in any way a good choice for software that needs to be safe?<p>I do understand that it is what it is and GitLab has to deal with it, but going forward, can we stop pretending a language and framework that prioritizes cleverness and hidden control flow is better than something more boring?<p>If I sound overly-annoyed it&#x27;s because I have to work on a production Ruby codebase where I can absolutely see a scenario in which we have similar issues just waiting to be exploited, because someone thought seventeen layers of abstraction made the code super extensible.</div><br/><div id="39161871" class="c"><input type="checkbox" id="c-39161871" checked=""/><div class="controls bullet"><span class="by">dpkirchner</span><span>|</span><a href="#39161382">parent</a><span>|</span><label class="collapse" for="c-39161871">[-]</label><label class="expand" for="c-39161871">[1 more]</label></div><br/><div class="children"><div class="content">Any language or framework that lets the <i>caller</i> specify if a parameter may be a string or an array of strings should probably be avoided, IMO. The cost of this one error likely outweighs the total value realized by use of the feature.</div><br/></div></div></div></div></div></div></div></div></div></body></html>